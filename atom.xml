<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é±¼ä¸å‰ç«¯ğŸŸ</title>
  
  <subtitle>æ‘¸é±¼å’Œå·¥ä½œä¸å¯å¾—å…¼~</subtitle>
  <link href="https://zlinni.github.io/atom.xml" rel="self"/>
  
  <link href="https://zlinni.github.io/"/>
  <updated>2022-05-05T10:42:30.454Z</updated>
  <id>https://zlinni.github.io/</id>
  
  <author>
    <name>Zlinni</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Binary TreeäºŒå‰æ ‘â‘¥--ç‰¹æ€§ç¯‡</title>
    <link href="https://zlinni.github.io/posts/2732070170/"/>
    <id>https://zlinni.github.io/posts/2732070170/</id>
    <published>2022-05-05T08:38:38.000Z</published>
    <updated>2022-05-05T10:42:30.454Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>åœ¨å‰é¢çš„æ–‡ç« æˆ‘ä»¬å­¦ä¹ äº†å¯»æ‰¾ä¸€é¢—äºŒå‰æ ‘çš„é‡å¤å­æ ‘ï¼Œè¿™ä¸ªé—®é¢˜ç»“åˆäº†ç¬¬å››ç« èŠ‚çš„åºåˆ—åŒ–å†…å®¹åŠ ç¬¬ä¸‰ç« èŠ‚çš„æ„é€ å†…å®¹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ äºŒå‰æœç´¢æ ‘çš„çŸ¥è¯†ï¼Œè¯»å®Œæœ¬æ–‡ä½ å¯¹ä»¥ä¸‹çš„é¢˜ç›®æœ‰æ›´æ·±åˆ»çš„äº†è§£ï¼š</p></div><p>Leetcode<br>230.äºŒå‰æ ‘ä¸­çš„ç¬¬kå°å…ƒç´ <br>538.æŠŠäºŒå‰æœç´¢æ ‘è½¬ä¸ºç´¯åŠ æ ‘<br>1038.æŠŠäºŒå‰æœç´¢æ ‘è½¬ä¸ºç´¯åŠ æ ‘</p><h1 id="Binary-Search-Tree"><a href="#Binary-Search-Tree" class="headerlink" title="Binary Search Tree"></a>Binary Search Tree</h1><div class="note primary flat"><p>å…¨ç§°äºŒå‰æœç´¢æ ‘ï¼Œç®€å†™BSTï¼Œç‰¹æ€§å¦‚ä¸‹ï¼š</p></div><ol><li>BSTçš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå·¦å­æ ‘èŠ‚ç‚¹çš„å€¼éƒ½æ¯”ä»–å°ï¼Œå³å­æ ‘èŠ‚ç‚¹çš„å€¼éƒ½æ¯”ä»–å¤§ã€‚</li><li>å¯¹äºBSTçš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»–çš„å·¦ä¾§å­æ ‘å’Œå³ä¾§å­æ ‘éƒ½æ˜¯BST</li></ol><div class="note primary flat"><p>labuladongåŸè¯ï¼šäºŒå‰æœç´¢æ ‘å¹¶ä¸ç®—å¤æ‚ï¼Œä½†æˆ‘è§‰å¾—å®ƒå¯ä»¥ç®—æ˜¯æ•°æ®ç»“æ„é¢†åŸŸçš„åŠå£æ±Ÿå±±ï¼Œç›´æ¥åŸºäº BST çš„æ•°æ®ç»“æ„æœ‰ AVL æ ‘ï¼Œçº¢é»‘æ ‘ç­‰ç­‰ï¼Œæ‹¥æœ‰äº†è‡ªå¹³è¡¡æ€§è´¨ï¼Œå¯ä»¥æä¾› logN çº§åˆ«çš„å¢åˆ æŸ¥æ”¹æ•ˆç‡ï¼›è¿˜æœ‰ B+ æ ‘ï¼Œçº¿æ®µæ ‘ç­‰ç»“æ„éƒ½æ˜¯åŸºäº BST çš„æ€æƒ³æ¥è®¾è®¡çš„ã€‚</p></div><p>ä»ç®—æ³•é¢˜çš„è§’åº¦æ¥è®²ï¼Œä¸­åºéå†ä¸€ä¸ªBSTï¼Œæ˜¯å‡åºçš„ï¼Œå› ä¸ºä»–å…ˆæ„é€ äº†å·¦å­æ ‘å†æ„é€ å³å­æ ‘ï¼Œæ‰€ä»¥å¦‚æœæ˜¯ä»¥ä¸€ä¸ªæ•°ç»„çš„å½¢å¼æ˜¾ç¤ºï¼Œå°±æ˜¯ä»å°åˆ°å¤§çš„ã€‚</p><h1 id="å¯»æ‰¾ç¬¬-K-å°çš„å…ƒç´ "><a href="#å¯»æ‰¾ç¬¬-K-å°çš„å…ƒç´ " class="headerlink" title="å¯»æ‰¾ç¬¬ K å°çš„å…ƒç´ "></a>å¯»æ‰¾ç¬¬ K å°çš„å…ƒç´ </h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505183122.png" alt=""><br>æŒ‰ç…§ä¸Šé¢çš„æ€è·¯ï¼Œæˆ‘ä»¬åªè¦ä¸­åºéå†è¿™ä¸ªäºŒå‰æ ‘ç„¶åæ‰¾ç¬¬kä¸ªå°±è¡Œäº†</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> kthSmallest = <span class="function"><span class="keyword">function</span>(<span class="params">root, k</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res;</span><br><span class="line">    <span class="keyword">const</span> inorder = <span class="function"><span class="params">root</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!root)<span class="keyword">return</span>;</span><br><span class="line">        inorder(root.left);</span><br><span class="line">        k--;</span><br><span class="line">        <span class="keyword">if</span>(k===<span class="number">0</span>)res = root.val;</span><br><span class="line">        inorder(root.right);</span><br><span class="line">    &#125;</span><br><span class="line">    inorder(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    <category term="Binary Tree" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/Binary-Tree/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Binary TreeäºŒå‰æ ‘ç¬”è®°--åˆé›†ï¼ˆæ›´æ–°ä¸­ï¼‰</title>
    <link href="https://zlinni.github.io/posts/3500150157/"/>
    <id>https://zlinni.github.io/posts/3500150157/</id>
    <published>2022-05-05T07:06:00.000Z</published>
    <updated>2022-05-05T08:53:20.736Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æ ¹æ®è¿™äº”ç¯‡çš„äºŒå‰æ ‘å­¦ä¹ ï¼Œä½ å°†ä»ä¸€ä¸ªåªä¼šæ ¹å·¦å³ï¼Œå·¦æ ¹å³å’Œå·¦å³æ ¹çš„ç®—æ³•å°ç™½ä¸­é¢†ç•¥äºŒå‰æ ‘çš„æ ¸å¿ƒç®—æ³•ã€‚</p><h1 id="ä¼ é€é—¨"><a href="#ä¼ é€é—¨" class="headerlink" title="ä¼ é€é—¨"></a>ä¼ é€é—¨</h1><p><a href="https://zlinni.github.io/posts/1410341477">æ‰‹æŠŠæ‰‹äºŒå‰æ ‘ç¬”è®°â‘ â€”çº²é¢†ç¯‡</a><br><a href="https://zlinni.github.io/posts/1410341478">æ‰‹æŠŠæ‰‹äºŒå‰æ ‘ç¬”è®°â‘¡â€”æ€è·¯ç¯‡</a><br><a href="https://zlinni.github.io/posts/686027467">æ‰‹æŠŠæ‰‹äºŒå‰æ ‘ç¬”è®°â‘¢â€”æ„é€ ç¯‡</a><br><a href="https://zlinni.github.io/posts/3440987103">æ‰‹æŠŠæ‰‹äºŒå‰æ ‘ç¬”è®°â‘£â€”åºåˆ—åŒ–ç¯‡</a><br><a href="https://zlinni.github.io/posts/3318597918">æ‰‹æŠŠæ‰‹äºŒå‰æ ‘ç¬”è®°â‘¤â€”ååºç¯‡</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    <category term="Binary Tree" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/Binary-Tree/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Binary TreeäºŒå‰æ ‘ç¬”è®°â‘¤--ååºç¯‡</title>
    <link href="https://zlinni.github.io/posts/732690854/"/>
    <id>https://zlinni.github.io/posts/732690854/</id>
    <published>2022-05-05T07:05:40.000Z</published>
    <updated>2022-05-05T08:53:32.398Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>åœ¨ä¸Šä¸€ç¯‡æˆ‘ä»¬å­¦ä¹ äº†ç”¨jsè§£å†³äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„é—®é¢˜ï¼Œå…¶å®åºåˆ—åŒ–çš„è¿‡ç¨‹å°±æ˜¯è€ƒå¯ŸäºŒå‰æ ‘éå†çš„è¿‡ç¨‹ï¼Œååºåˆ—åŒ–çš„è¿‡ç¨‹å°±æ˜¯è€ƒå¯Ÿäº†äºŒå‰æ ‘çš„æ„é€ è¿‡ç¨‹ï¼Œç»“åˆäº†å‰å‡ ç« çš„çŸ¥è¯†ã€‚æœ¬ç¯‡æ–‡ç« æ·±å…¥å­¦ä¹ äºŒå‰æ ‘ååºçš„å¦™ç”¨ï¼Œå¸¦ä½ äº†è§£ä»¥ä¸‹é¢˜ç›®ï¼š</p></div><p>Leetcode<br>652.å¯»æ‰¾é‡å¤çš„å­æ ‘</p><h1 id="å¯»æ‰¾é‡å¤çš„å­æ ‘"><a href="#å¯»æ‰¾é‡å¤çš„å­æ ‘" class="headerlink" title="å¯»æ‰¾é‡å¤çš„å­æ ‘"></a>å¯»æ‰¾é‡å¤çš„å­æ ‘</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505151327.png" alt=""></p><p>è¿™é“é¢˜å®é™…ä¸Šå°±æ˜¯æ‰¾å­æ ‘çš„é—®é¢˜ï¼Œçœ‹ä¸‹å›¾<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505151425.png" alt=""></p><p>é¦–å…ˆèŠ‚ç‚¹4å¯ä»¥ä½œä¸ºä¸€é¢—å­æ ‘ï¼ŒäºŒå‰æ ‘ä¸­æœ‰å¤šä¸ªèŠ‚ç‚¹4<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505151457.png" alt=""></p><p>ç±»ä¼¼çš„è¿˜å­˜åœ¨ä¸¤é¢—ä»¥2ä¸ºæ ¹çš„é‡å¤å­æ ‘<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505151521.png" alt=""></p><p>é‚£ä¹ˆæˆ‘ä»¬è¿”å›çš„listå°±åº”è¯¥æœ‰ä¸¤ä¸ªtreenodeï¼Œ2å’Œ4 </p><p>å…·ä½“è¿™é“é¢˜è¦æ€ä¹ˆåšå‘¢ï¼Ÿå…ˆæ€è€ƒå¯¹äºä¸€ä¸ªèŠ‚ç‚¹ä»–åº”è¯¥åšä»€ä¹ˆï¼Ÿ</p><p>æˆ‘ä»¬æ‹¿è¿™ä¸ª2èŠ‚ç‚¹ä½œä¸ºä¾‹å­ï¼Œä»–æ˜¯ä¸æ˜¯é‡å¤çš„å­æ ‘ï¼Œæ˜¯ä¸æ˜¯å°±è¦å…ˆçŸ¥é“è‡ªå·±æ˜¯ä¸€é¢—æ€ä¹ˆæ ·çš„å­æ ‘ï¼Œå†å»æ‰¾åˆ«çš„å­æ ‘è¿›è¡Œå¯¹æ¯”ï¼Ÿ<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505152207.png" alt=""></p><p>é‚£ä¹ˆæˆ‘ä»¬è§£é¢˜çš„å…³é”®å°±æ¥äº†ï¼š</p><ol><li>å…ˆçŸ¥é“è‡ªå·±é•¿ä»€ä¹ˆæ ·</li><li>å»çœ‹çœ‹åˆ«äººæœ‰æ²¡æœ‰å’Œè‡ªå·±ä¸€æ ·çš„</li></ol><p>é‚£ä¹ˆå¯¹äºç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæ ¹æ®æœ¬æ–‡ä½ å¯ä»¥çŸ¥é“æˆ‘ä»¬è¦ç”¨ååºéå†çš„æ“ä½œå»åšï¼Œå…¶å®å‰åºä¸­åºéƒ½å¯ä»¥ï¼Œåªä¸è¿‡ååºåœ¨è¿™ä¸ªé˜¶æ®µçœ‹çš„ä¸œè¥¿æ›´æ˜æ˜¾ï¼Œæ€ä¹ˆçŸ¥é“è‡ªå·±æ˜¯è°å‘¢ï¼Ÿå…¶å®å°±æ˜¯è‡ªèº«åŠ å·¦å³å­æ ‘<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> postoreder = <span class="function">(<span class="params">n</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!n)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">let</span> left = postoreder(n.left);</span><br><span class="line">  <span class="keyword">let</span> right = postoreder(n.right);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;left&#125;</span>,<span class="subst">$&#123;right&#125;</span>,<span class="subst">$&#123;n.val&#125;</span>`</span>;</span><br><span class="line">  <span class="comment">//n å°±æ˜¯ä¸€é¢—æ ‘äº†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä¸å°±èƒ½çŸ¥é“è‡ªå·±æ˜¯è°äº†å—ï¼Ÿä¸€çœ‹è¿™ä¸ªé—®é¢˜ï¼Œä½ å°±ä¼šå‘ç°ï¼Œå’Œä¹‹å‰çš„åºåˆ—åŒ–äºŒå‰æ ‘åŠå…¶ç›¸ä¼¼ï¼Œå…¶å®çŸ¥é“è‡ªå·±æ˜¯è°çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±æ˜¯ç»å†äº†ä¸€æ¬¡åºåˆ—åŒ–ã€‚</p><p>é‚£ä¹ˆç°åœ¨æ€ä¹ˆè§£å†³æ‰¾åŒä¼´çš„é—®é¢˜å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬è¿ç”¨jsçš„setæˆ–è€…mapï¼Œè€ƒé‡è¿™ä¸¤ä¸ªapiç”¨å“ªä¸ªçš„æ—¶å€™ï¼Œæˆ‘ä»¬å…ˆçœ‹æˆ‘ä»¬éœ€è¦ä»€ä¹ˆï¼Ÿæˆ‘ä»¬éœ€è¦è®°å½•å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€æ¬¡çš„å­æ ‘ï¼Œä¹Ÿå°±æ˜¯è®°å½•å­æ ‘+å­æ ‘å‡ºç°æ¬¡æ•°ï¼Œæ‰€ä»¥ç”¨mapæ›´å¥½ã€‚å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findDuplicateSubtrees = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//å®šä¹‰mapé›†åˆå’Œå­˜æ”¾çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(),res = [];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> tranverse = <span class="function"><span class="params">root</span> =&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!root)<span class="keyword">return</span> <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">        <span class="keyword">const</span> left = tranverse(root.left);</span><br><span class="line">        <span class="keyword">const</span> right = tranverse(root.right);</span><br><span class="line">        <span class="keyword">const</span> str = <span class="string">`<span class="subst">$&#123;left&#125;</span>,<span class="subst">$&#123;right&#125;</span>,<span class="subst">$&#123;root.val&#125;</span>`</span>;</span><br><span class="line">        <span class="keyword">const</span> count = map.get(str);</span><br><span class="line">        <span class="keyword">if</span>(count===<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//ç­‰äº1å°±å­˜æ”¾å­æ ‘</span></span><br><span class="line">            res.push(root);</span><br><span class="line">        &#125;</span><br><span class="line">        map.set(str,(count||<span class="number">0</span>)+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    tranverse(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    <category term="Binary Tree" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/Binary-Tree/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Binary TreeäºŒå‰æ ‘ç¬”è®°â‘£--åºåˆ—åŒ–ç¯‡</title>
    <link href="https://zlinni.github.io/posts/3440987103/"/>
    <id>https://zlinni.github.io/posts/3440987103/</id>
    <published>2022-05-04T11:44:11.000Z</published>
    <updated>2022-05-05T08:53:29.574Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>åœ¨ä¸Šä¸€æœŸæˆ‘ä»¬å¯¹äºŒå‰æ ‘çš„æ„é€ è¿›è¡Œäº†æ·±å…¥çš„äº†è§£ï¼Œé‡ç‚¹æŒæ¡äº†æ„é€ çš„æ ¸å¿ƒåŸç†ä»¥åŠä¸€äº›ç»†èŠ‚ä¸Šé¢çš„é—®é¢˜ã€‚ä¸‹é¢æ¥å­¦ä¹ äºŒå‰æ ‘çš„åºåˆ—åŒ–ï¼Œé€šè¿‡æœ¬ç¯‡æ–‡ç« ä½ å¯ä»¥å­¦ä¼šä»¥ä¸‹çš„é¢˜ç›®</p></div><p>Leetcode<br>297.äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</p><h1 id="äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505111425.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505145026.png" alt=""></p><p>è¯¥é¢˜ç›®æœ¬è´¨ä¸Šï¼Œå°±æ˜¯æŠŠäºŒå‰æ ‘è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå†ä»å­—ç¬¦ä¸²è½¬ä¸ºäºŒå‰æ ‘çš„è¿‡ç¨‹ã€‚</p><p>è‡³äºæˆ‘ä»¬åºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œä½¿ç”¨ä»€ä¹ˆç¬¦å·å®šä¹‰å¹¶ä¸é‡è¦ï¼Œåªè¦æœ€åèƒ½å¤Ÿååºåˆ—åŒ–å‡ºæ¥å³å¯ã€‚</p><p>eg<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505145259.png" alt=""></p><p>å¯¹äºä¸€é¢—è¿™æ ·çš„æ ‘ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»–åºåˆ—åŒ–æˆ<code>2,1,#,6,3,#,#</code>å…¶å®ä»–è€ƒå¯Ÿçš„å°±æ˜¯å¦‚ä½•å¯¹äºŒå‰æ ‘è¿›è¡Œéå†ã€‚</p><p>äºŒå‰æ ‘çš„é€’å½’éå†æœ‰ä¸‰ç§ï¼Œå‰åºä¸­åºååºï¼Œè¿­ä»£éå†æœ‰å±‚åºï¼Œé‚£ä¹ˆå°±ä»å±‚åºå¼€å§‹ï¼Œçœ‹å¦‚ä½•è§£é¢˜</p><h1 id="å‰åºéå†è§£æ³•"><a href="#å‰åºéå†è§£æ³•" class="headerlink" title="å‰åºéå†è§£æ³•"></a>å‰åºéå†è§£æ³•</h1><p>æˆ‘ä»¬çŸ¥é“ï¼Œå‰åºéå†çš„ä»£ç å°±æ˜¯åœ¨é€’å½’ä¹‹å‰å†™çš„ï¼Œé‚£ä¹ˆå°±æœ‰ä»¥ä¸‹çš„é€»è¾‘<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!root)<span class="keyword">return</span> <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">traverse(root.left);</span><br><span class="line">traverse(root.right);</span><br></pre></td></tr></table></figure></p><p>é‚£ä¹ˆæˆ‘ä»¬å°±å¾ˆå®¹æ˜“å¾—å‡ºåºåˆ—åŒ–çš„è¿‡ç¨‹äº†ï¼Œå°±æ˜¯å­—ç¬¦ä¸²çš„è¿æ¥<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> serialize = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)<span class="keyword">return</span> <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;root&#125;</span>,<span class="subst">$&#123;root.left&#125;</span>,<span class="subst">$&#123;root.right&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h2><p>é‚£ä¹ˆå…¶å®ååºåˆ—åŒ–ï¼Œå°±æ˜¯æŠŠåºåˆ—åŒ–çš„è¿™ä¸€ä¸²å­—ç¬¦ä¸²è½¬æ¢ä¸ºtreenodeã€‚</p><p>å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²æ¥è¯´ï¼Œjsæä¾›äº†splitæ–¹æ³•å¸®æˆ‘ä»¬è¿›è¡Œåˆ†å‰²ï¼Œä¹Ÿå°±æ˜¯è¯´ä»¥ä¸‹çš„é€»è¾‘ï¼Œä¼šåˆ†å‰²å‡ºä¸€ä¸ªæ•°ç»„<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nodeArr = data.split(<span class="string">&quot;,&quot;</span>);</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬æ‹¿åˆ°äº†è¿™ä¸ªæ•°ç»„ï¼Œå› ä¸ºä»–æ˜¯å‰åºçš„åºåˆ—åŒ–è€Œæ¥çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ ¹æ®å‰åºçš„ç‰¹æ€§å¯ä»¥å¾—åˆ°ä»¥ä¸‹æ¡ä»¶<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220505145931.png" alt=""></p><p>ç¬¬ä¸€ä¸ªå€¼æ˜¯æ ¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„é€’å½’å…³é”®ï¼Œå›æƒ³ä¸€ä¸‹å‰åºæ„é€ äºŒå‰æ ‘ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> build = <span class="function">(<span class="params">preorder</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> val = preorder.shift();</span><br><span class="line">  <span class="keyword">if</span>(val === <span class="string">&#x27;#&#x27;</span>)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">const</span> root = <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">  root.left = build(preorder);</span><br><span class="line">  root.right = build(preorder);</span><br><span class="line">  <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é‚£ä¹ˆæˆ‘ä»¬çš„ååºåˆ—åŒ–å°±èƒ½å†™å‡ºæ¥äº†<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> deserialize = <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> nodearr = data.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!nodearr.length) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">const</span> build = <span class="function">(<span class="params">nodearr</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> val = nodearr.shift();</span><br><span class="line">        <span class="keyword">if</span> (val === <span class="string">&#x27;#&#x27;</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">const</span> root = <span class="keyword">new</span> TreeNode(val);</span><br><span class="line">        root.left = build(nodearr);</span><br><span class="line">        root.right = build(nodearr);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> build(nodearr);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    <category term="Binary Tree" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/Binary-Tree/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Binary TreeäºŒå‰æ ‘ç¬”è®°â‘¢--æ„é€ ç¯‡</title>
    <link href="https://zlinni.github.io/posts/686027467/"/>
    <id>https://zlinni.github.io/posts/686027467/</id>
    <published>2022-05-04T11:43:28.000Z</published>
    <updated>2022-05-05T08:53:26.276Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>åœ¨ä¸Šä¸€ç¯‡ç¬”è®°é‡Œé¢ï¼Œæˆ‘ä»¬æ·±å…¥äº†è§£äº†å‰åºå’Œååºéå†çš„æœ¬è´¨ï¼Œå­¦ä¼šäº†ç¿»è½¬äºŒå‰æ ‘ï¼Œå°†äºŒå‰æ ‘è½¬ä¸ºé“¾è¡¨å’Œå¡«å……äºŒå‰æ ‘å³ä¾§æŒ‡é’ˆä¸‰é“é—®é¢˜ã€‚æ¥ä¸‹æ¥è¿›ä¸€æ­¥å­¦ä¹ ï¼Œåœ¨æœ¬ç¯‡èƒ½ç†è§£å¹¶è¿ç”¨ä»¥ä¸‹é¢˜ç›®ï¼š</p></div><p>Leetcode<br>654.æœ€å¤§äºŒå‰æ ‘<br>105.ä»å‰åºéå†å’Œä¸­åºéå†æ„é€ äºŒå‰æ ‘<br>106.ä»ä¸­åºå’Œååºéå†æ„é€ äºŒå‰æ ‘<br>889.æ ¹æ®å‰åºå’Œååºéå†æ„é€ äºŒå‰æ ‘</p><h1 id="æœ€å¤§äºŒå‰æ ‘"><a href="#æœ€å¤§äºŒå‰æ ‘" class="headerlink" title="æœ€å¤§äºŒå‰æ ‘"></a>æœ€å¤§äºŒå‰æ ‘</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220504201032.png" alt=""></p><p>æˆ‘ä»¬ç»†åˆ†è¿™é“é¢˜ï¼Œå…¶å®ä»–åœ¨åšè¿™æ ·çš„äº‹æƒ…<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> constructMaximumBinaryTree = <span class="function"><span class="keyword">function</span> (<span class="params">[<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">0</span>,<span class="number">5</span>]</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°æ•°ç»„çš„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">const</span> root = <span class="keyword">new</span> TreeNode(<span class="number">6</span>)</span><br><span class="line">    <span class="comment">// é€’å½’è°ƒç”¨æ„é€ å·¦å³å­æ ‘</span></span><br><span class="line">    root.left = constructMaximumBinaryTree([<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]);</span><br><span class="line">    root.right = constructMaximumBinaryTree([<span class="number">0</span>,<span class="number">5</span>]);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å†è¯¦ç»†ä¸€ç‚¹å°±æ˜¯å¦‚ä¸‹çš„æ€è·¯ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> constructMaximumBinaryTree = <span class="function"><span class="keyword">function</span> (<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> len = nums.length-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">const</span> build = <span class="function">(<span class="params">nums,start,end</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(start&gt;end)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//æŸ¥æ‰¾æœ€å¤§å€¼å’Œä»–çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">let</span> max = -<span class="literal">Infinity</span>,index;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> i=start;i&lt;=end;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i]&gt;max)&#123;</span><br><span class="line">                max = nums[i];</span><br><span class="line">                index = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ„é€ äºŒå‰æ ‘</span></span><br><span class="line">        <span class="keyword">const</span> root = <span class="keyword">new</span> TreeNode(max);</span><br><span class="line">        root.left = build(nums,start,index-<span class="number">1</span>);</span><br><span class="line">        root.right = build(nums,index+<span class="number">1</span>,end);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> build(nums,<span class="number">0</span>,len);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// æˆ–è€…å¯ä»¥è¿™æ ·</span></span><br><span class="line"><span class="keyword">var</span> constructMaximumBinaryTree = <span class="function"><span class="keyword">function</span> (<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥æ‰¾æœ€å¤§å€¼å’Œä»–çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">if</span>(!nums.length)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> max = -<span class="literal">Infinity</span>, index = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] &gt; max) &#123;</span><br><span class="line">            max = nums[i];</span><br><span class="line">            index = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ„é€ äºŒå‰æ ‘</span></span><br><span class="line">    <span class="keyword">const</span> root = <span class="keyword">new</span> TreeNode(max);</span><br><span class="line">    root.left = constructMaximumBinaryTree(nums.slice(<span class="number">0</span>, index));</span><br><span class="line">    root.right = constructMaximumBinaryTree(nums.slice(index + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>è‡³æ­¤ç¬¬ä¸€é“æ„é€ äºŒå‰æ ‘çš„é¢˜ç›®å°±åšå®Œäº†ï¼Œæ¥ä¸‹çœ‹çœ‹å¦å¤–ä¸¤é“é¢˜ç›®</p><h1 id="é€šè¿‡å‰åºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘"><a href="#é€šè¿‡å‰åºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘" class="headerlink" title="é€šè¿‡å‰åºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘"></a>é€šè¿‡å‰åºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220504201525.png" alt=""></p><p>æˆ‘ä»¬çŸ¥é“å‰åºéå†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ•´ä¸ªæ ‘çš„æ ¹ï¼Œé‚£ä¹ˆä¸­åºéå†çš„æ ¹èŠ‚ç‚¹å‰é¢å°±æ˜¯å·¦å­æ ‘ï¼Œåé¢å°±æ˜¯å³å­æ ‘ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œè‡ªç„¶è€Œç„¶çš„ä¼šæƒ³å‡ºä»¥ä¸‹ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> build = <span class="function">(<span class="params">preorder, inorder</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">const</span> root = preorder.shift();</span><br><span class="line">    <span class="comment">// ä¸­åºæ‰¾åˆ°è¯¥èŠ‚ç‚¹çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">const</span> rootIndex = inorder.indexOf(root);</span><br><span class="line">    <span class="keyword">const</span> tree = <span class="keyword">new</span> TreeNode(root);</span><br><span class="line">    <span class="comment">//é€’å½’è°ƒç”¨æ„é€ å·¦å³å­æ ‘</span></span><br><span class="line">    tree.left = fun(...);</span><br><span class="line">    tree.right = fun(...);</span><br><span class="line">    <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬è¿™é‡Œè¦åˆ›å»ºä¸€ä¸ªä»€ä¹ˆæ ·çš„å‡½æ•°å»é€’å½’å‘¢ï¼Ÿ<br>å…¶å®æˆ‘ä»¬åªè¦åˆ©ç”¨æˆ‘ä»¬çš„ä¸­åºæ•°ç»„å°±å¯ä»¥äº†ï¼Œå› ä¸ºèƒ½ä¾é ä»–æŸ¥æ‰¾ï¼Œå°±èƒ½ä¾é ä»–æ„é€ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buildTree = <span class="function"><span class="keyword">function</span>(<span class="params">preorder, inorder</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> build = <span class="function">(<span class="params">inorder</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!inorder||!inorder.length)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">const</span> root = preorder.shift();</span><br><span class="line">        <span class="keyword">const</span> rootIndex = inorder.indexOf(root);</span><br><span class="line">        <span class="keyword">const</span> tree = <span class="keyword">new</span> TreeNode(root);</span><br><span class="line">        tree.left = build(inorder.slice(<span class="number">0</span>,rootIndex));</span><br><span class="line">        tree.right = build(inorder.slice(rootIndex+<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span> tree;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> build(inorder);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æˆ–è€…æˆ‘ä»¬å¯ä»¥è¿™æ ·,æˆ‘ä»¬çŸ¥é“äº†å…¶å®å‰åºçš„å·¦å­æ ‘ç»ˆæ­¢è¾¹ç•Œå°±æ˜¯ä¸­åºåˆ°æ ¹èŠ‚ç‚¹çš„é•¿åº¦+1ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå°±å¯ä»¥å¸¦å…¥å‰åºé€’å½’<br><img src="https://labuladong.github.io/algo/images/%e4%ba%8c%e5%8f%89%e6%a0%91%e7%b3%bb%e5%88%972/6.jpeg" alt=""><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buildTree = <span class="function"><span class="keyword">function</span>(<span class="params">preorder, inorder</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!preorder.length) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    <span class="keyword">const</span> root = preorder.shift();</span><br><span class="line">    <span class="keyword">const</span> tree = <span class="keyword">new</span> TreeNode(root)</span><br><span class="line">    <span class="keyword">const</span> rootIndex = inorder.indexOf(root)</span><br><span class="line">    tree.left = buildTree(preorder.slice(<span class="number">0</span>, rootIndex), inorder.slice(<span class="number">0</span>,rootIndex))</span><br><span class="line">    tree.right = buildTree(preorder.slice(rootIndex), inorder.slice(rootIndex+<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> tree</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h1 id="é€šè¿‡ååºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘"><a href="#é€šè¿‡ååºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘" class="headerlink" title="é€šè¿‡ååºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘"></a>é€šè¿‡ååºå’Œä¸­åºéå†ç»“æœæ„é€ äºŒå‰æ ‘</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220504204143.png" alt=""></p><p>ååºéå†çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ˜¯rootï¼Œé‚£ä¹ˆæˆ‘ä»¬çŸ¥é“äº†è¿™ä¸ªé“ç†ï¼Œå…¶å®å°±æŠŠshiftçš„æ“ä½œå˜æˆpopå³å¯ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> buildTree = <span class="function"><span class="keyword">function</span>(<span class="params">inorder, postorder</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!postorder.length)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">const</span> root = postorder.pop();</span><br><span class="line">    <span class="keyword">const</span> rootIndex = inorder.indexOf(root);</span><br><span class="line">    <span class="keyword">const</span> tree = <span class="keyword">new</span> TreeNode(root);</span><br><span class="line">    tree.left = buildTree(inorder.slice(<span class="number">0</span>,rootIndex),postorder.slice(<span class="number">0</span>,rootIndex));</span><br><span class="line">    tree.right = buildTree(inorder.slice(rootIndex+<span class="number">1</span>),postorder.slice(rootIndex));</span><br><span class="line">    <span class="keyword">return</span> tree</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h1 id="é€šè¿‡å‰åºå’Œååºæ„é€ äºŒå‰æ ‘"><a href="#é€šè¿‡å‰åºå’Œååºæ„é€ äºŒå‰æ ‘" class="headerlink" title="é€šè¿‡å‰åºå’Œååºæ„é€ äºŒå‰æ ‘"></a>é€šè¿‡å‰åºå’Œååºæ„é€ äºŒå‰æ ‘</h1><p>æˆ‘ä»¬çŸ¥é“äº†ç»“åˆä¸­åºæ„é€ çš„æ–¹æ³•ï¼Œå°±æ˜¯ä»ä¸­åºä¸­æ‰¾åˆ°å¯¹åº”çš„indexç„¶ååˆ†ç¦»å·¦å³ï¼Œæœ€åé€’å½’ã€‚</p><p>é‚£ä¹ˆå‰åºå’Œååºæ€ä¹ˆæ„é€ å‘¢ï¼Ÿ</p><p>å®é™…ä¸Šï¼Œæ‹¿å‰åºå½“å‚ç…§ç‰©ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªå°±æ˜¯å·¦å­æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åŒæ ·çš„åœ¨ååºä¸­æ‰¾åˆ°è¿™ä¸ªå·¦å­æ ‘æ ¹èŠ‚ç‚¹ï¼Œå»åˆ†ç¦»æˆ‘ä»¬çš„å·¦å³å­æ ‘ã€‚è¿™é‡Œæ³¨æ„æˆ‘ä»¬éœ€è¦ç”¨åˆ°é•¿åº¦éœ€è¦æ³¨æ„ã€‚<br><img src="https://labuladong.github.io/algo/images/%e4%ba%8c%e5%8f%89%e6%a0%91%e7%b3%bb%e5%88%972/8.jpeg" alt=""><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> constructFromPrePost = <span class="function"><span class="keyword">function</span>(<span class="params">preorder, postorder</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!preorder.length||!postorder.length)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(preorder.length===<span class="number">1</span>)<span class="keyword">return</span> <span class="keyword">new</span> TreeNode(preorder[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">const</span> root = preorder[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">const</span> index = postorder.indexOf(root);</span><br><span class="line">    <span class="keyword">const</span> tree = <span class="keyword">new</span> TreeNode(preorder[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">const</span> postLeft = postorder.slice(<span class="number">0</span>,index+<span class="number">1</span>),</span><br><span class="line">        postRight = postorder.slice(index+<span class="number">1</span>,postorder.length-<span class="number">1</span>),</span><br><span class="line">        preLeft = preorder.slice(<span class="number">1</span>,postLeft.length+<span class="number">1</span>),</span><br><span class="line">        preRight = preorder.slice(postLeft.length+<span class="number">1</span>);</span><br><span class="line">    tree.left = constructFromPrePost(preLeft,postLeft)</span><br><span class="line">    tree.right = constructFromPrePost(preRight,postRight)</span><br><span class="line">    <span class="keyword">return</span> tree;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ€åæ€»ç»“ä¸€ä¸‹ï¼Œæ„é€ äºŒå‰æ ‘å®é™…ä¸Šå°±æ˜¯æ‰¾åˆ°æ ¹èŠ‚ç‚¹+æ„é€ å·¦å­æ ‘+æ„é€ å³å­æ ‘ã€‚æ ¹èŠ‚ç‚¹ä½¿ç”¨indexofå’Œéå†çš„æ€§è´¨å¯»æ‰¾ï¼Œå·¦å³å­æ ‘çš„æ„é€ ä½¿ç”¨é€’å½’çš„æ–¹æ³•ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    <category term="Binary Tree" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/Binary-Tree/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Binary TreeäºŒå‰æ ‘ç¬”è®°â‘¡--æ€è·¯ç¯‡</title>
    <link href="https://zlinni.github.io/posts/1410341478/"/>
    <id>https://zlinni.github.io/posts/1410341478/</id>
    <published>2022-05-03T12:34:45.683Z</published>
    <updated>2022-05-05T08:53:23.861Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>åœ¨ä¸Šä¸€ç¯‡æ‰‹æŠŠæ‰‹äºŒå‰æ ‘çš„ç¬”è®°ä¸­ï¼Œæˆ‘ä»¬è§£å†³äº†ä¸‰é“é—®é¢˜ï¼ŒäºŒå‰æ ‘æœ€å¤§æ·±åº¦ï¼ŒäºŒå‰æ ‘æœ€å¤§ç›´å¾„ï¼Œå’Œå±‚åºéå†ã€‚è€Œè¯»å®Œæœ¬æ–‡ï¼Œä½ å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p></div><p>Leetcode<br>226.ç¿»è½¬äºŒå‰æ ‘<br>114.å°†äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨<br>116.å¡«å……äºŒå‰æ ‘èŠ‚ç‚¹çš„å³ä¾§æŒ‡é’ˆ</p><h1 id="å†è°ˆäºŒå‰æ ‘çš„é‡è¦æ€§"><a href="#å†è°ˆäºŒå‰æ ‘çš„é‡è¦æ€§" class="headerlink" title="å†è°ˆäºŒå‰æ ‘çš„é‡è¦æ€§"></a>å†è°ˆäºŒå‰æ ‘çš„é‡è¦æ€§</h1><p>å¯¹äºç»å…¸çš„ç®—æ³•å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åºæ¥è¯´ï¼Œå¦‚æœä½ çŸ¥é“äºŒå‰æ ‘çš„å‰åºéå†å°±æ˜¯å¿«é€Ÿæ’åºï¼Œååºéå†å°±æ˜¯å½’å¹¶æ’åºï¼Œé‚£ä¹ˆä½ å¯¹äºŒå‰æ ‘å°±æœ‰æ¯”è¾ƒæ·±å…¥çš„äº†è§£äº†ã€‚</p><p>å¿«é€Ÿæ’åºçš„é€»è¾‘æ˜¯å…ˆæ‰¾åˆ°ä¸€ä¸ªåŸºå‡†ç‚¹ï¼Œæ ¹æ®è¿™ä¸ªåŸºå‡†ç‚¹ï¼Œå»å¯¹æˆ‘ä»¬å·¦ä¾§çš„æ•°æ®åˆ’åˆ†ï¼Œä½¿å¾—å·¦ä¾§çš„æ•°æ®éƒ½å°äºè¿™ä¸ªåŸºå‡†ç‚¹ï¼Œå³ä¾§çš„æ•°æ®éƒ½å¤§äºè¿™ä¸ªåŸºå‡†ç‚¹ï¼Œç„¶ååœ¨å·¦ä¾§å’Œå³ä¾§è¿›è¡Œé€’å½’è¿™ä¸ªè¿‡ç¨‹ï¼Œæœ€åçš„æ•°ç»„å°±æ˜¯è¢«æ’åºçš„</p><p>ä»£ç é€»è¾‘è¿‡ç¨‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> quickSort = <span class="function">(<span class="params">arr,i,j</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> p = <span class="built_in">Math</span>.floor(arr.length/<span class="number">2</span>);</span><br><span class="line">    ...</span><br><span class="line">    quickSort(arr,i,p-<span class="number">1</span>);</span><br><span class="line">    quickSort(arr,p+<span class="number">1</span>,j);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å…ˆæ„é€ åˆ†ç•Œç‚¹ï¼Œå†æ ¹æ®å·¦å³å­æ•°ç»„å»æ„é€ åˆ†ç•Œç‚¹ï¼Œè¿™ä¸å°±æ˜¯äºŒå‰æ ‘çš„å‰åºéå†å—</p><p>å†è°ˆè°ˆå½’å¹¶æ’åºçš„é€»è¾‘ï¼Œå…ˆåˆ†å‰²æ•°ç»„ï¼Œåˆ°æœ€å°è§„æ¨¡åé€æ­¥åˆå¹¶å­æ•°ç»„ï¼Œç›´åˆ°å®Œå…¨æœ‰åº</p><p>ä»£ç é€»è¾‘è¿‡ç¨‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mergeSort = <span class="function">(<span class="params">arr</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> mid = <span class="built_in">Math</span>.floor(len/<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//åˆ†å‰²</span></span><br><span class="line">    left = mergeSort(arr.slice(<span class="number">0</span>,mid));</span><br><span class="line">    right = mergeSort(arr.slice(mid,len));</span><br><span class="line">    Â·Â·Â·</span><br><span class="line">    <span class="comment">//åˆå¹¶</span></span><br><span class="line">    arr = mergeArr(left,right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æ˜¯ä¸æ˜¯å‘ç°äº†ä»–å¾ˆåƒååºéå†ï¼Œå…ˆå¯¹å·¦å³æ•°ç»„æ’åºç„¶ååˆå¹¶ã€‚</p><p>æ‰€ä»¥æ¥ä¸‹æ¥åšå‡ é“æ¯”è¾ƒæœ‰æ„æ€çš„äºŒå‰æ ‘ç®—æ³•é¢˜</p><h1 id="é€’å½’çš„è¯€çª"><a href="#é€’å½’çš„è¯€çª" class="headerlink" title="é€’å½’çš„è¯€çª"></a>é€’å½’çš„è¯€çª</h1><div class="note primary flat"><p>å†™é€’å½’ç®—æ³•çš„è¯€çªå°±æ˜¯æ˜ç¡®å‡½æ•°å®šä¹‰çš„æ˜¯ä»€ä¹ˆï¼Œç„¶åç›¸ä¿¡è¿™ä¸ªå®šä¹‰ï¼Œåˆ©ç”¨è¿™ä¸ªå®šä¹‰æ¨å¯¼æœ€ç»ˆç»“æœï¼Œç»ä¸è¦è¯•å›¾è·³å…¥é€’å½’ã€‚</p></div><p>ç”¨ä¸ªå…·ä½“çš„ä¾‹å­æ¥è§£é‡Šï¼šæ±‚ä¸€é¢—äºŒå‰æ ‘æœ‰å¤šå°‘èŠ‚ç‚¹<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> count = <span class="function">(<span class="params">n</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!n)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + count(n.left) + count(n.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸ªä¾‹å­éå¸¸ç®€å•ï¼Œç”¨æ ¹èŠ‚ç‚¹åŠ å·¦å³å­æ ‘çš„èŠ‚ç‚¹å°±æ˜¯æ€»èŠ‚ç‚¹ã€‚é‚£å·¦å³å­æ ‘çš„èŠ‚ç‚¹æ€ä¹ˆè®¡ç®—ï¼Ÿå°±æ˜¯è°ƒç”¨é€’å½’çš„countè®¡ç®—å‡ºæ¥çš„ã€‚</p><p>å†™æ ‘ç›¸å…³çš„ç®—æ³•ï¼Œç®€å•æ¥è¯´å°±æ˜¯ææ¸…æ¥šå½“å‰rootèŠ‚ç‚¹è¦åšä»€ä¹ˆï¼Œç„¶åæ ¹æ®å‡½æ•°å®šä¹‰é€’å½’å­èŠ‚ç‚¹ï¼Œé€’å½’è°ƒç”¨ä¼šè®©å­©å­åšç›¸åŒçš„äº‹æƒ…ã€‚</p><h1 id="å®æ“"><a href="#å®æ“" class="headerlink" title="å®æ“"></a>å®æ“</h1><h2 id="é¢˜ç›®ä¸€ï¼šç¿»è½¬äºŒå‰æ ‘-226"><a href="#é¢˜ç›®ä¸€ï¼šç¿»è½¬äºŒå‰æ ‘-226" class="headerlink" title="é¢˜ç›®ä¸€ï¼šç¿»è½¬äºŒå‰æ ‘-226"></a>é¢˜ç›®ä¸€ï¼šç¿»è½¬äºŒå‰æ ‘-226</h2><p>eg<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">     <span class="number">4</span></span><br><span class="line">   /   \</span><br><span class="line">  <span class="number">2</span>     <span class="number">7</span></span><br><span class="line"> / \   / \</span><br><span class="line"><span class="number">1</span>   <span class="number">3</span> <span class="number">6</span>   <span class="number">9</span></span><br><span class="line"></span><br><span class="line">=&gt;</span><br><span class="line"></span><br><span class="line">     <span class="number">4</span></span><br><span class="line">   /   \</span><br><span class="line">  <span class="number">7</span>     <span class="number">2</span></span><br><span class="line"> / \   / \</span><br><span class="line"><span class="number">9</span>   <span class="number">6</span> <span class="number">3</span>   <span class="number">1</span></span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å‘ç°åªè¦å°†äºŒå‰æ ‘çš„å·¦å³èŠ‚ç‚¹éƒ½äº¤æ¢å°±å¯ä»¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ååº</span></span><br><span class="line"><span class="keyword">var</span> invertTree = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)<span class="keyword">return</span> root;</span><br><span class="line">    invertTree(root.left);</span><br><span class="line">    invertTree(root.right);</span><br><span class="line">    [root.left,root.right] = [root.right,root.left];</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å‰åº</span></span><br><span class="line"><span class="keyword">var</span> invertTree = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    [root.left,root.right] = [root.right,root.left];</span><br><span class="line">    invertTree(root.left);</span><br><span class="line">    invertTree(root.right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜ä½ ä¼šå‘ç°å‰åºå’Œååºéƒ½èƒ½åšï¼Œä½†æ˜¯ä¸­åºå°±ä¸è¡Œã€‚å› ä¸ºä¸­åºçš„éå†æ˜¯ä¸€è¾¹å…ˆç»“æŸå†å¦ä¸€è¾¹ï¼Œæ‰€ä»¥åšä¸åˆ°åè½¬ã€‚è¾¹ç•Œæ¡ä»¶çš„è¯ï¼Œå› ä¸ºå‰åºå¯èƒ½æ˜¯ä¸€å¼€å§‹å°±æ— ï¼Œæ‰€ä»¥æ˜¯nullï¼Œè€Œååºæœ€åæ˜¯æ ¹ï¼Œæ‰€ä»¥æ˜¯root</p><h2 id="é¢˜ç›®äºŒï¼šå¡«å……äºŒå‰æ ‘èŠ‚ç‚¹çš„å³ä¾§æŒ‡é’ˆ-116"><a href="#é¢˜ç›®äºŒï¼šå¡«å……äºŒå‰æ ‘èŠ‚ç‚¹çš„å³ä¾§æŒ‡é’ˆ-116" class="headerlink" title="é¢˜ç›®äºŒï¼šå¡«å……äºŒå‰æ ‘èŠ‚ç‚¹çš„å³ä¾§æŒ‡é’ˆ-116"></a>é¢˜ç›®äºŒï¼šå¡«å……äºŒå‰æ ‘èŠ‚ç‚¹çš„å³ä¾§æŒ‡é’ˆ-116</h2><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503224625.png" alt=""></p><p>æˆ‘ä»¬ä»¿é€ ä¸Šé¢çš„æ€è·¯å…¶å®å¯ä»¥è¿™æ ·åš<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> connect = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root||!root.left)<span class="keyword">return</span> root;</span><br><span class="line">    root.left.next = root.right;</span><br><span class="line">    connect(root.left);</span><br><span class="line">    connect(root.right);</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¸è¿‡è¿™æ ·å…¶å®æœ‰å¾ˆå¤§çš„é—®é¢˜<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503224912.png" alt=""></p><p>æˆ‘ä»¬å‘ç°è·¨è¶Šçˆ¶èŠ‚ç‚¹çš„å€¼å¹¶æ²¡æœ‰è¢«è¿æ¥èµ·æ¥ã€‚</p><p>ç¨å¾®æ”¹é€ ä¸€ä¸‹ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> connect = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">const</span> connectTwo = <span class="function">(<span class="params">n1,n2</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//å…¶ä¸­ä¸€è€…æ²¡æœ‰ç›´æ¥è¿”å›ä¸Šä¸€æ­¥</span></span><br><span class="line">        <span class="keyword">if</span>(!n1||!n2)<span class="keyword">return</span>;</span><br><span class="line">        n1.next = n2;</span><br><span class="line">        <span class="comment">// ç›¸åŒçˆ¶èŠ‚ç‚¹çš„å·¦å³è¿æ¥</span></span><br><span class="line">        connectTwo(n1.left,n1.right);</span><br><span class="line">        connectTwo(n2.left,n2.right);</span><br><span class="line">        <span class="comment">// è·¨è¶Šçˆ¶èŠ‚ç‚¹çš„å·¦å³è¿æ¥</span></span><br><span class="line">        connectTwo(n1.right,n2.left);</span><br><span class="line">    &#125;</span><br><span class="line">    connectTwo(root.left,root.right);</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä½¿ç”¨connectTwoé€’å½’å°±å¯ä»¥æ— æ­»è§’çš„è¦†ç›–æ•´é¢—äºŒå‰æ ‘ï¼Œå°†æ‰€æœ‰ç›¸é‚»çš„èŠ‚ç‚¹è¿æ¥èµ·æ¥äº†ã€‚</p><h2 id="é¢˜ç›®ä¸‰ï¼šå°†äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨-114"><a href="#é¢˜ç›®ä¸‰ï¼šå°†äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨-114" class="headerlink" title="é¢˜ç›®ä¸‰ï¼šå°†äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨-114"></a>é¢˜ç›®ä¸‰ï¼šå°†äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨-114</h2><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503225946.png" alt=""></p><p>é‚£ä¹ˆæˆ‘ä»¬è¦æ€ä¹ˆåšæ‰èƒ½æ‹‰å¹³è¿™ä¸ªæ•°ç»„å‘¢ï¼Ÿ</p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503230236.png" alt=""></p><p>å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å°†å·¦å­æ ‘æ‹‰å¹³ï¼Œç„¶åå°†å³å­æ ‘æ‹‰å¹³ï¼Œç„¶åå†æŠŠå·¦å­æ ‘æ¥åˆ°å³å­æ ‘ä¸Šã€‚</p><p>é‚£ä¹ˆå°±ç¬¬ä¸€æ­¥æ€ä¹ˆæ‹‰å¹³å·¦å³å­æ ‘å‘¢ï¼Ÿ</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/4/6/1714efce7db2cdff~tplv-t2oaga2asx-watermark.awebp" alt=""></p><p>æˆ‘ä»¬æ ¹æ®ååºéå†åŠ¨ç”»å¯ä»¥çŸ¥é“ï¼Œåªè¦ç»è¿‡ååºéå†ï¼Œå°±èƒ½æ‹‰å¹³å·¦å³å­æ ‘ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥çš„é—®é¢˜å°±è§£å†³äº†ã€‚</p><p>éšåæ˜¯æ€ä¹ˆæŠŠå·¦å­æ ‘æ¥åˆ°å³å­æ ‘ä¸Šé¢å‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬è¦æ¸…æ¥šï¼Œè¿™ä¸ªå·¦å­æ ‘ä¸æ˜¯ä¸­é€”å°±èƒ½æ’å…¥çš„ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆæŠŠå·¦å³å­æ ‘ä¿å­˜ï¼Œç„¶ååˆ æ‰å·¦å­æ ‘ï¼Œå°†ä¿å­˜çš„å·¦å­æ ‘æ”¾åˆ°å³å­æ ‘ï¼Œå†å°†ä¿å­˜çš„å³å­æ ‘æ’å…¥åˆ°å³å­æ ‘ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flatten = <span class="function"><span class="keyword">function</span>(<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)<span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//æ‹‰å¹³</span></span><br><span class="line">    flatten(root.left);</span><br><span class="line">    flatten(root.right);</span><br><span class="line">    <span class="comment">//æš‚å­˜å·¦å³å­æ ‘</span></span><br><span class="line">    <span class="keyword">let</span> left = root.left;</span><br><span class="line">    <span class="keyword">let</span> right = root.right;</span><br><span class="line">    <span class="comment">//åˆ é™¤åŸå·¦å­æ ‘ï¼Œå°†æš‚å­˜çš„å·¦å­æ ‘æ”¾åœ¨åŸå³å­æ ‘ä¸Š</span></span><br><span class="line">    root.left = <span class="literal">null</span>;</span><br><span class="line">    root.right = left;</span><br><span class="line">    <span class="comment">//ç±»ä¼¼äºé“¾è¡¨ éå†å³å­æ ‘æ‰¾åˆ°ä»–æœ«å°¾èŠ‚ç‚¹ ç„¶åæ’å…¥æš‚å­˜å³å­æ ‘</span></span><br><span class="line">    <span class="keyword">let</span> p = root;</span><br><span class="line">    <span class="keyword">while</span>(p.right!==<span class="literal">null</span>)&#123;</span><br><span class="line">        p = p.right;</span><br><span class="line">    &#125;</span><br><span class="line">    p.right = right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ ¹æ®labuladongæ‰€è¯´ï¼Œé€’å½’çš„ç®—æ³•çœŸè°›å°±æ˜¯ç›¸ä¿¡é€’å½’çš„å®šä¹‰ï¼Œä¸è¦å»çº é‡Œé¢çš„ç»†èŠ‚æ‰€åœ¨ã€‚ç„¶åäºŒå‰æ ‘æ–¹é¢å…¶å®å¾ˆå¤šé€’å½’çš„é—®é¢˜ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ååºéå†ä¸éœ€è¦rootçš„è¯ï¼Œéå†åˆ°æœ«å°¾èŠ‚ç‚¹å°±å¯ä»¥ç›´æ¥è¿”å›ï¼Œæˆ–è€…è¿”å›nullï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨è®¡ç®—èŠ‚ç‚¹æ·±åº¦æˆ–è€…ç›´å¾„çš„æ—¶å€™ï¼Œå°±è¦è¿”å›0ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    <category term="Binary Tree" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/Binary-Tree/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>Binary TreeäºŒå‰æ ‘ç¬”è®°â‘ --çº²é¢†ç¯‡</title>
    <link href="https://zlinni.github.io/posts/1410341477/"/>
    <id>https://zlinni.github.io/posts/1410341477/</id>
    <published>2022-05-03T10:41:00.167Z</published>
    <updated>2022-05-05T08:52:53.445Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>labuladongçš„äºŒå‰æ ‘ç®—æ³•å…¥é—¨ç¬¬ä¸€ç« ï¼Œè¿™æ®µæ—¶é—´çš„ç®—æ³•ç¡®å®æ²¡ä»€ä¹ˆé•¿è¿›ï¼Œåªåœç•™åœ¨ä¼šåšé’ˆå¯¹æ€§çš„é¢˜ç›®çš„é˜¶æ®µï¼Œå¦‚æœå‡ºç°äº†å˜ä½“å°±å¾ˆéš¾è§£å†³äº†ï¼Œæ‰€ä»¥ä¸‹å†³å¿ƒä»ç®—æ³•åŸºç¡€å†å¼€å§‹ä¿®ç‚¼ç®—æ³•ã€‚ç”±äºlabuladongçš„ä»£ç å¤§å¤šæ•°æ˜¯c++ï¼Œæœ¬æ–‡ä¾¿ä¿®æ”¹ä¸ºjsè¿›è¡Œå­¦ä¹ ã€‚</p></div><p>è¯»å®Œæœ¬æ–‡ï¼Œä½ å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š<br>104.äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦<br>543.äºŒå‰æ ‘çš„ç›´å¾„<br>102.äºŒå‰æ ‘çš„å±‚åºéå†</p><h1 id="äºŒå‰æ ‘å­¦ä¹ çš„å¿…è¦æ€§"><a href="#äºŒå‰æ ‘å­¦ä¹ çš„å¿…è¦æ€§" class="headerlink" title="äºŒå‰æ ‘å­¦ä¹ çš„å¿…è¦æ€§"></a>äºŒå‰æ ‘å­¦ä¹ çš„å¿…è¦æ€§</h1><div class="note primary flat"><p>äºŒå‰æ ‘æ˜¯æ‰€æœ‰é«˜çº§ç®—æ³•çš„åŸºç¡€ï¼Œä»–æ¶‰åŠäº†é€’å½’ï¼Œå›æº¯ï¼Œæ‰€ä»¥ç®—æ³•å…¥é—¨æœ€å¥½å°±ä»äºŒå‰æ ‘å¼€å§‹ã€‚</p></div><h1 id="æ·±å…¥ç†è§£å‰ä¸­ååº"><a href="#æ·±å…¥ç†è§£å‰ä¸­ååº" class="headerlink" title="æ·±å…¥ç†è§£å‰ä¸­ååº"></a>æ·±å…¥ç†è§£å‰ä¸­ååº</h1><div class="note primary flat"><p>æ ¹å·¦å³ï¼Œå·¦æ ¹å³ï¼Œå·¦å³æ ¹â€¦å¯èƒ½å¾ˆå¤šäººåœ¨å­¦ä¹ æ•°æ®ç»“æ„çš„æ—¶å€™ï¼Œè€å¸ˆæ•™è¿‡è¿™æ ·çš„åˆ¤æ–­è¿‡ç¨‹ã€‚è¿™ä¸‰å¥è¯å¯¹åº”ç€äºŒå‰æ ‘çš„å‰ä¸­ååºï¼Œä½†å®é™…ä¸Šä½ çœŸçš„ç†è§£è¿™ä¸‰ç§éå†é¡ºåºå—</p></div><p>ä»å‰åºå¼€å§‹çœ‹ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œæœ‰è¿™æ ·çš„ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!root)<span class="keyword">return</span>;</span><br><span class="line"><span class="built_in">console</span>.log(root);</span><br><span class="line">traverse(root.left);</span><br><span class="line">traverse(root.right);</span><br></pre></td></tr></table></figure></p><p>å…¶å®è¿™ä¸ªå°±æ˜¯ä¸€ä¸ªä¸€æ¬¡éå†ï¼Œå’Œéå†æ•°ç»„é“¾è¡¨çš„æ–¹å¼å¤§åŒå°å¼‚ï¼Œè€Œæ‰€è°“çš„å‰åºéå†ï¼Œåªä¸è¿‡è¿›å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±å¼€å§‹éå†ï¼Œè€Œååºéå†æ˜¯ç¦»å¼€ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™æ‰å¼€å§‹éå†,ä¸­åºéå†æ˜¯åœ¨éå†å®Œå·¦å­æ ‘ï¼Œå³å°†éå†å³å­æ ‘çš„æ—¶å€™æ‰æ‰§è¡Œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503185141.png" alt=""></p><p>è¿™ä¹‹ä¸­åˆ©ç”¨åˆ°äº†é€’å½’å’Œå›æº¯çš„è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬è§„å®šäº†éå†åˆ°æœ€åæ‰è¿”å›çš„æ—¶æœºï¼Œå°±èƒ½å®ç°ååºéå†ï¼Œ</p><h1 id="è§£é¢˜çš„æ€è·¯"><a href="#è§£é¢˜çš„æ€è·¯" class="headerlink" title="è§£é¢˜çš„æ€è·¯"></a>è§£é¢˜çš„æ€è·¯</h1><div class="note primary flat"><p>äºŒå‰æ ‘é¢˜ç›®çš„é€’å½’è§£æ³•å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ä¸€æ¬¡éå†å®ç°çš„ç»“æœï¼Œç¬¬äºŒç±»æ˜¯åˆ†è§£é—®é¢˜å¾—åˆ°ç­”æ¡ˆï¼Œè¿™ä¸¤ç±»æ€è·¯åˆ†åˆ«å¯¹åº”ç€å›æº¯ç®—æ³•æ ¸å¿ƒæ¡†æ¶å’ŒåŠ¨æ€è§„åˆ’æ ¸å¿ƒæ¡†æ¶</p></div><p>åœ¨leetcodeç¬¬104é¢˜ä¸­ï¼Œæ±‚äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ï¼Œè¿™é“é¢˜å¾ˆæ˜æ˜¾ï¼Œæ€è·¯å°±æ˜¯éå†ä¸€æ¬¡äºŒå‰æ ‘ï¼Œè®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„æ·±åº¦ï¼Œå–å¶å­èŠ‚ç‚¹æ·±åº¦çš„æœ€å¤§å€¼å³å¯ï¼Œè¿™å°±æ˜¯ä¸€æ¬¡éå†å®Œæˆçš„ç»“æœã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503185822.png" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> maxDepth = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> depth = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (!root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> deep = <span class="function">(<span class="params">n</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!n) &#123;</span><br><span class="line">            max = <span class="built_in">Math</span>.max(max, depth);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        depth++;</span><br><span class="line">        deep(n.left);</span><br><span class="line">        deep(n.right);</span><br><span class="line">        depth--;</span><br><span class="line">    &#125;</span><br><span class="line">    deep(root);</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜æ— å…³éå†çš„é¡ºåºï¼Œæœ‰å…³ç³»çš„åªæ˜¯ä»€ä¹ˆæ—¶æœºå»åˆ·æ–°è¿™ä¸ªmaxã€‚å¹¶ä¸”æˆ‘ä»¬çŸ¥é“å‰åºçš„æ¡ä»¶æ˜¯è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†depth++ï¼Œååºæ˜¯åœ¨ç¦»å¼€ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ‰€ä»¥depthâ€”ï¼Œè¿™ä¸ªdepthè®°å½•äº†å½“å‰é€’å½’çš„èŠ‚ç‚¹æ·±åº¦ï¼Œæ‰€ä»¥è¦è¿™æ ·ç»´æŠ¤ä»–ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¾ˆå®¹æ˜“çŸ¥é“ï¼ŒäºŒå‰æ ‘çš„æœ€å¤§é«˜åº¦å¯ä»¥é€šè¿‡å­æ ‘çš„æœ€å¤§é«˜åº¦è®¡ç®—å‡ºæ¥ï¼Œè¿™å°±æ˜¯åˆ†è§£é—®é¢˜çš„å…³é”®ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> maxDepth = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> deep = <span class="function">(<span class="params">n,l</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!n)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> left = deep(n.left,l+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">let</span> right = deep(n.right,l+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">let</span> max = <span class="built_in">Math</span>.max(left,right)+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> deep(root,<span class="number">0</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ€è·¯çš„æ ¸å¿ƒåœ¨äºï¼Œè¦ä½¿ç”¨é€’å½’å…ˆè·å¾—å­æ ‘çš„æœ€å¤§é«˜åº¦ï¼Œé‚£ä¹ˆè¦è·å¾—è¿™ä¸ªæœ€å¤§é«˜åº¦ï¼Œå°±éœ€è¦éå†å®Œè¿™ä¸ªå­æ ‘ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä»£ç é€»è¾‘å†™åœ¨ååºçš„éƒ¨åˆ†å°±æ˜¾å¾—å°¤ä¸ºé‡è¦ï¼Œå› ä¸ºæ­¤æ—¶ä¸€ä¸ªå®Œæ•´çš„å­æ ‘å·²ç»è¢«éå†äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªé˜¶æ®µè·å–æœ€å¤§é«˜åº¦åˆ·æ–°å³å¯ã€‚</p><h1 id="ååºçš„ç‰¹æ®Šä¹‹å¤„"><a href="#ååºçš„ç‰¹æ®Šä¹‹å¤„" class="headerlink" title="ååºçš„ç‰¹æ®Šä¹‹å¤„"></a>ååºçš„ç‰¹æ®Šä¹‹å¤„</h1><p>æˆ‘ä»¬çŸ¥é“å‰åºæ˜¯åˆšåˆšè¿›å…¥èŠ‚ç‚¹çš„æ—¶åˆ»ï¼Œååºæ˜¯å³å°†ç¦»å¼€èŠ‚ç‚¹çš„æ—¶åˆ»ï¼Œå‰åºè‡ªé¡¶å‘ä¸‹ï¼Œååºè‡ªåº•å‘ä¸Šã€‚é‚£ä¹ˆå°±æ„å‘³ç€ï¼Œå‰åºçš„ä»£ç åªèƒ½è·å–çˆ¶èŠ‚ç‚¹ä¼ é€’è¿‡æ¥çš„æ•°æ®ã€‚ååºçš„ä»£ç ä¸ä»…å¯ä»¥è·å–æ•°æ®ï¼Œè¿˜èƒ½æ‹¿åˆ°å­æ ‘é€šè¿‡å‡½æ•°è¿”å›çš„æ•°æ®</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œç°æœ‰ä¸€é¢—äºŒå‰æ ‘ï¼Œå¤„ç†ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li>å¦‚æœæŠŠæ ¹èŠ‚ç‚¹çœ‹æˆç¬¬ä¸€å±‚ï¼Œå¦‚ä½•çŸ¥é“æ¯ä¸ªèŠ‚ç‚¹çš„å±‚æ•°</li><li>å¦‚ä½•æ‰“å°æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Ÿå¹¶è¿”å›èŠ‚ç‚¹æ€»æ•°</li></ol><p>é¦–å…ˆç¬¬ä¸€ä¸ªä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> traverse = <span class="function">(<span class="params">root,level</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)<span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(root,level);</span><br><span class="line">    traverse(root.left,level+<span class="number">1</span>);</span><br><span class="line">    traverse(root.right,level+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">traverse(root,<span class="number">1</span>);</span><br></pre></td></tr></table></figure></p><p>ç¬¬äºŒä¸ªä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> traverse = <span class="function">(<span class="params">root,level</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!root)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> left = traverse(root.left,level+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">let</span> right = traverse(root.right,level+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(root,left,right);</span><br><span class="line">    <span class="keyword">return</span> left+right+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å› æ­¤æˆ‘ä»¬å‘ç°ï¼Œåªæœ‰ååºæ‰èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è·å–å­æ ‘çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸€æ—¦å‘ç°é¢˜ç›®å’Œå­æ ‘æœ‰å…³ï¼Œå¤§æ¦‚ç‡ä»£ç çš„ä½ç½®è¦å†™åœ¨ååºçš„éƒ¨åˆ†ã€‚</p><p>é‚£ä¹ˆååºåœ¨äºŒå‰æ ‘åˆ·é¢˜ä¸­æ˜¯å¦‚ä½•å‘æŒ¥ä½œç”¨çš„ï¼Œè¿™é‡Œçœ‹ä¸€é“leetcodeçš„543é¢˜ï¼ŒäºŒå‰æ ‘ç›´å¾„ï¼Œè®¡ç®—å‡ºäºŒå‰æ ‘ç›´å¾„çš„æœ€å¤§é•¿åº¦ã€‚</p><p>æ‰€è°“çš„äºŒå‰æ ‘çš„ç›´å¾„ï¼Œå°±æ˜¯ä¸¤ä¸ªä»»æ„èŠ‚ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ã€‚æœ€å¤§è·¯å¾„é•¿åº¦ä¸ä¸€å®šæ˜¯è¦ç©¿è¿‡æ ¹èŠ‚ç‚¹ï¼Œçœ‹ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503193254.png" alt=""></p><p>è¿™ä¸ªå›¾ç‰‡ä¸­ï¼Œæœ€å¤§çš„è·¯å¾„é•¿åº¦æœ‰ä¸¤æ¡ï¼Œ1æ˜¯[4,2,1,3],2æ˜¯[5,2,1,3]</p><p>è¿™é“é¢˜çš„å…³é”®åœ¨äºï¼Œæ¯ä¸€æ¡äºŒå‰æ ‘çš„ç›´å¾„å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘æœ€å¤§æ·±åº¦ä¹‹å’Œï¼Œæ¯”å¦‚è¯´è¿™ä¸ªèŠ‚ç‚¹1 å·¦å­æ ‘æœ€å¤§æ·±åº¦2ï¼Œå³å­æ ‘æœ€å¤§æ·±åº¦1 åŠ èµ·æ¥å°±æ˜¯3 </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> diameterOfBinaryTree = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> deep = <span class="function">(<span class="params">n,l</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!n)<span class="keyword">return</span> <span class="number">0</span>;<span class="comment">//æ³¨æ„æ·±åº¦é—®é¢˜è¾¹ç•Œæ˜¯0</span></span><br><span class="line">        <span class="keyword">let</span> left = deep(n.left,l+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">let</span> right = deep(n.right,l+<span class="number">1</span>);</span><br><span class="line">        max = <span class="built_in">Math</span>.max(left+right,max);<span class="comment">//åˆ·æ–°æœ€å¤§æ·±åº¦ä¹‹å’Œ,è¿™æ­¥æ‰æ˜¯é‡ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Math</span>.max(left,right)+<span class="number">1</span>;<span class="comment">//è¿”å›æœ€å¤§æ·±åº¦+1ï¼›è®©ä¸‹ä¸€æ¬¡é€’å½’çŸ¥é“é•¿åº¦</span></span><br><span class="line">    &#125;</span><br><span class="line">    deep(root,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å±‚åºéå†"><a href="#å±‚åºéå†" class="headerlink" title="å±‚åºéå†"></a>å±‚åºéå†</h1><p>å±‚åºéå†å±äºè¿­ä»£éå†ï¼Œä»£ç æ¡†æ¶å¦‚ä¸‹ï¼›<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> levelOrder = <span class="function"><span class="keyword">function</span> (<span class="params">root</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> map = &#123;&#125;;</span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> jud = <span class="function">(<span class="params">n, count</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!n) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (!map[count]) &#123;</span><br><span class="line">            map[count] = [n.val];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            map[count].push(n.val);</span><br><span class="line">        &#125;</span><br><span class="line">        count++;</span><br><span class="line">        jud(n.left, count);</span><br><span class="line">        jud(n.right, count);</span><br><span class="line">    &#125;</span><br><span class="line">    jud(root, count);</span><br><span class="line">    <span class="keyword">return</span> [...Object.values(map)]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220503203233.png" alt=""></p><p>å…¶å®BFSç®—æ³•å°±æ˜¯ä»äºŒå‰æ ‘çš„å±‚åºéå†è¡ç”Ÿå‡ºæ¥çš„ï¼Œå¸¸ç”¨äºæ±‚æ— æƒå›¾çš„æœ€çŸ­è·¯å¾„é—®é¢˜ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    <category term="æ‰‹æŠŠæ‰‹äºŒå‰æ ‘" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/%E6%89%8B%E6%8A%8A%E6%89%8B%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯å¿…é¡»çŸ¥é“çš„æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡</title>
    <link href="https://zlinni.github.io/posts/2062480448/"/>
    <id>https://zlinni.github.io/posts/2062480448/</id>
    <published>2022-05-01T14:40:21.000Z</published>
    <updated>2022-05-03T10:39:50.366Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>ä¸Šå‘¨ä¸€é¢è…¾è®¯äº‘æ™ºçš„æ—¶å€™ï¼Œé¢è¯•å®˜é—®æˆ‘è¿™ä¹ˆä¸ªé—®é¢˜ï¼šâ€œä½ çŸ¥é“æµè§ˆå™¨çš„é¦–å±æ—¶é—´æ€ä¹ˆæŸ¥çœ‹å—ï¼Ÿâ€æˆ‘å›ç­”è¿›å…¥é¡µé¢åˆ°æœ€åä¸€ä¸ªè¯·æ±‚å›æ”¶æ‰€ç”¨çš„æ—¶é—´ï¼Œç„¶åä»–åˆé—®ï¼šå…·ä½“æœ‰ä»€ä¹ˆæŒ‡æ ‡æ¥è¡¨æ˜å‘¢ï¼Ÿäºæ˜¯å°±æœ‰äº†ä¸‹æ–‡</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/æ€§èƒ½æŒ‡æ ‡.png" alt=""></p><h1 id="æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡"><a href="#æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡"></a>æµè§ˆå™¨æ€§èƒ½æŒ‡æ ‡</h1><p>ä¸ºäº†æè¿°webé¡µé¢çš„æ€§èƒ½ï¼Œå¼€å‘äººå‘˜æä¾›äº†å¾ˆå¤šå¯é‡åŒ–çš„æŒ‡æ ‡æ¥è¿›è¡Œåˆ†æã€‚æ¯”å¦‚TTFBã€FPã€FCPç­‰ã€‚æŒ‡æ ‡ä¹‹é—´ä¹Ÿæ˜¯æœ‰è”ç³»çš„ï¼Œå…¶ä¸­è¿˜æœ‰éƒ¨åˆ†æŒ‡æ ‡ä¸“é—¨ä¸ºäº†æè¿°ç”¨æˆ·äº¤äº’ä½“éªŒï¼Œæ¯”å¦‚FPã€FCPã€FSPã€FCIã€TTIç­‰ã€‚ä¸‹é¢å°±æ¥ä»ç”¨æˆ·æ ¸å¿ƒæŒ‡æ ‡å¼€å§‹è®²è¿°å†…å®¹ã€‚</p><h1 id="æ ¸å¿ƒæŒ‡æ ‡"><a href="#æ ¸å¿ƒæŒ‡æ ‡" class="headerlink" title="æ ¸å¿ƒæŒ‡æ ‡"></a>æ ¸å¿ƒæŒ‡æ ‡</h1><div class="note primary flat"><p>å½“ç”¨æˆ·æ‰“å¼€ä¸€ä¸ªé¡µé¢ï¼Œä¼šç»å†ä¸€ä¸ªè¿™æ ·çš„è§†è§‰è¿‡ç¨‹ï¼šç™½å±-&gt;åº•å›¾-&gt;å‡ºç°éƒ¨åˆ†å†…å®¹-&gt;é¦–å±å†…å®¹å‡ºç°ï¼Œä½†å›¾ç‰‡è¿˜åœ¨åŠ è½½ä¸­-&gt;é¦–å±å†…å®¹å’Œå›¾ç‰‡éƒ½åŠ è½½å®Œæ¯•</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220502163126.png" alt=""></p><p>ä¸€èˆ¬åœ¨è¿™ä¸ªé¦–å±çš„å†…å®¹å¤§éƒ¨åˆ†è¢«åŠ è½½çš„æ—¶å€™ï¼Œç”¨æˆ·æ‰èƒ½å¼€å§‹å’Œé¡µé¢è¿›è¡Œäº¤äº’ç­‰æ“ä½œï¼Œæ‰€ä»¥å¦‚æœè¿™æ®µå“åº”çš„æ—¶é—´å¾ˆé•¿ï¼Œå°±ä¼šå¯¼è‡´ç”¨æˆ·çš„ä½“éªŒå¾ˆå·®ï¼Œä¸‹é¢çš„å‡ ä¸ªæ ¸å¿ƒæŒ‡æ ‡æè¿°è¿™äº›è¿‡ç¨‹çš„å…³é”®å˜åŒ–ç‚¹ï¼Œé€šè¿‡å®ƒä»¬æˆ‘ä»¬å¯ä»¥æ¥äº†è§£ç”¨æˆ·ä½“éªŒã€‚</p><ul><li>LCP æœ€å¤§å†…å®¹ç»˜åˆ¶</li><li>FID ç¬¬ä¸€æ¬¡äº¤äº’çš„å»¶è¿Ÿ</li><li>CLS ç´¯è®¡ä½ç§»åå·®</li></ul><h1 id="Largest-Contentful-Paint-LCP"><a href="#Largest-Contentful-Paint-LCP" class="headerlink" title="Largest Contentful Paint(LCP)"></a>Largest Contentful Paint(LCP)</h1><div class="note primary flat"><p>æœ€å¤§å†…å®¹ç»˜åˆ¶ï¼Œç”¨äºè®°å½•è§†çª—å†…æœ€å¤§å…ƒç´ çš„ç»˜åˆ¶æ—¶é—´ï¼Œè¿™ä¸ªå¯èƒ½éšç€é¡µé¢çš„æ¸²æŸ“å‘ç”Ÿå˜åŒ–ã€‚ä¸”åœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡äº¤äº’ååœæ­¢è®°å½•ã€‚</p></div><p>LCPä¼šæŒç»­æ›´æ–°ï¼Œå› æ­¤åœ¨é¡µé¢çš„éª¨æ¶å±æˆ–è€…loadingåŠ¨ç”»å­˜åœ¨çš„æ—¶å€™ï¼ŒFCPå·²ç»è®°å½•å®Œäº†ï¼Œè€ŒLCPå› ä¸ºè¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥è®©æˆ‘ä»¬çŸ¥é“åç»­é¡µé¢çš„ä¸»è¦å†…å®¹æ˜¯ä»€ä¹ˆæ—¶å€™å‘ˆç°çš„</p><p>æœ€ä¼˜æ—¶é—´åœ¨2.5så†…</p><h2 id="LCPå…³æ³¨ä»€ä¹ˆå…ƒç´ "><a href="#LCPå…³æ³¨ä»€ä¹ˆå…ƒç´ " class="headerlink" title="LCPå…³æ³¨ä»€ä¹ˆå…ƒç´ "></a>LCPå…³æ³¨ä»€ä¹ˆå…ƒç´ </h2><ol><li><code>&lt;img&gt;</code> å…ƒç´ </li><li><code>&lt;image&gt;</code>å…ƒç´ å†…çš„<code>&lt;svg&gt;</code>å…ƒç´ </li><li><code>&lt;video&gt;</code> å…ƒç´ </li><li>é€šè¿‡ <code>url()</code> å‡½æ•°åŠ è½½èƒŒæ™¯å›¾ç‰‡çš„å…ƒç´ </li><li>åŒ…å«æ–‡æœ¬èŠ‚ç‚¹æˆ–å…¶ä»–å†…è”æ–‡æœ¬å…ƒç´ å­çº§çš„å—çº§å…ƒç´ ã€‚</li></ol><h2 id="æ”¹å–„LCP"><a href="#æ”¹å–„LCP" class="headerlink" title="æ”¹å–„LCP"></a>æ”¹å–„LCP</h2><div class="note primary flat"><p>æ”¹å–„LCPå°±è¦ä»ä¸ºä»€ä¹ˆä¼šé€ æˆLCPå¼€å§‹è¯´æ˜</p></div><ul><li>æœåŠ¡å™¨å“åº”æ—¶é—´æ…¢ </li><li>é˜»æ–­æ¸²æŸ“çš„JSå’ŒCSS</li><li>èµ„æºåŠ è½½æ—¶é—´æ…¢</li><li>å®¢æˆ·ç«¯æ¸²æŸ“</li></ul><p>ä»ä»¥ä¸Šçš„è§’åº¦å»æ”¹å–„LCP</p><h3 id="æœåŠ¡å™¨ä¼˜åŒ–"><a href="#æœåŠ¡å™¨ä¼˜åŒ–" class="headerlink" title="æœåŠ¡å™¨ä¼˜åŒ–"></a>æœåŠ¡å™¨ä¼˜åŒ–</h3><div class="note primary flat"><p>æœåŠ¡å™¨æ¶‰åŠåˆ°TTFBè¿™ä¸ªæŒ‡æ ‡ï¼Œå¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥ä¼˜åŒ–</p></div><ul><li>ç¼“å­˜HTMLç¦»çº¿é¡µé¢ï¼Œç¼“å­˜é¡µé¢èµ„æºï¼Œå‡å°æµè§ˆå™¨å¯¹èµ„æºçš„è¯·æ±‚(ä¸æ˜¯é¦–æ¬¡)</li><li>å‹ç¼©HTML</li><li>ä½¿ç”¨preconnectå°½å¿«ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œä½¿ç”¨dns-prefetchå°½å¿«è¿›è¡ŒDNSæŸ¥æ‰¾</li><li>ä½¿ç”¨CDN</li></ul><h3 id="ä¼˜åŒ–é˜»æ–­æ¸²æŸ“çš„èµ„æº"><a href="#ä¼˜åŒ–é˜»æ–­æ¸²æŸ“çš„èµ„æº" class="headerlink" title="ä¼˜åŒ–é˜»æ–­æ¸²æŸ“çš„èµ„æº"></a>ä¼˜åŒ–é˜»æ–­æ¸²æŸ“çš„èµ„æº</h3><div class="note primary flat"><p>JSå’ŒCSSé˜»æ–­é¡µé¢çš„æ¸²æŸ“æ˜¯æ— å¯é¿å…çš„ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡CSSå’ŒJSå‹ç¼©åˆå¹¶çº§è”å†…è”æ¥å‡å°‘</p></div><h3 id="ä¼˜åŒ–èµ„æºåŠ è½½æ—¶é—´"><a href="#ä¼˜åŒ–èµ„æºåŠ è½½æ—¶é—´" class="headerlink" title="ä¼˜åŒ–èµ„æºåŠ è½½æ—¶é—´"></a>ä¼˜åŒ–èµ„æºåŠ è½½æ—¶é—´</h3><div class="note primary flat"><p>ä¸Šè¿°æˆ‘ä»¬çŸ¥é“LCPåªå’Œå‡ ä¸ªæ ‡ç­¾æœ‰å…³ï¼Œé‚£æˆ‘ä»¬å°±ä»æ ‡ç­¾å…¥æ‰‹ä¼˜åŒ–</p></div><ul><li>å¯¹å›¾ç‰‡è¿›è¡Œä¼˜åŒ–ï¼Œè½¬WEBP</li><li>å¯¹é‡è¦çš„èµ„æºè¿›è¡Œé¢„åŠ è½½ï¼Œæ¯”å¦‚ä¸º <code>style</code> æ ‡ç­¾æ·»åŠ  <code>rel=&quot;preload&quot;</code> å±æ€§</li><li>gzipå‹ç¼©</li><li>service workerç¼“å­˜èµ„æº</li></ul><h3 id="è½¬æœåŠ¡ç«¯æ¸²æŸ“"><a href="#è½¬æœåŠ¡ç«¯æ¸²æŸ“" class="headerlink" title="è½¬æœåŠ¡ç«¯æ¸²æŸ“"></a>è½¬æœåŠ¡ç«¯æ¸²æŸ“</h3><p>SSR</p><h1 id="First-Input-Delay-FID"><a href="#First-Input-Delay-FID" class="headerlink" title="First Input Delay(FID)"></a>First Input Delay(FID)</h1><div class="note primary flat"><p>é¦–æ¬¡è¾“å…¥å»¶è¿Ÿï¼Œè®°å½•äº†FCPå’ŒTTIä¹‹é—´ç”¨æˆ·é¦–æ¬¡ä¸é¡µé¢äº¤äº’çš„æ—¶å€™å“åº”çš„å»¶è¿Ÿã€‚</p></div><p>è¿™ä¸ªæŒ‡æ ‡è¡¡é‡å“åº”çš„å»¶è¿Ÿï¼Œä¹Ÿæ˜¯è¡¨æ˜é•¿ä»»åŠ¡çš„ä¸€ä¸ªæŒ‡æ ‡ã€‚</p><h2 id="æ”¹å–„FID"><a href="#æ”¹å–„FID" class="headerlink" title="æ”¹å–„FID"></a>æ”¹å–„FID</h2><h3 id="å‡å°‘JSæ‰§è¡Œæ—¶é—´"><a href="#å‡å°‘JSæ‰§è¡Œæ—¶é—´" class="headerlink" title="å‡å°‘JSæ‰§è¡Œæ—¶é—´"></a>å‡å°‘JSæ‰§è¡Œæ—¶é—´</h3><p>åŒä¸ŠLCPçš„æ–¹æ³•</p><ul><li>ç¼©å°å¹¶å‹ç¼©js</li><li>å»¶è¿ŸåŠ è½½é¦–å±ä¸éœ€è¦çš„js</li><li>å°½é‡å‡å°‘æœªä½¿ç”¨çš„polyfill</li></ul><h3 id="åˆ†è§£è€—æ—¶ä»»åŠ¡"><a href="#åˆ†è§£è€—æ—¶ä»»åŠ¡" class="headerlink" title="åˆ†è§£è€—æ—¶ä»»åŠ¡"></a>åˆ†è§£è€—æ—¶ä»»åŠ¡</h3><p>è¶…è¿‡50msçš„ä»»åŠ¡éƒ½ç§°ä¹‹ä¸ºé•¿ä»»åŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†é•¿ä»»åŠ¡æ‹†è§£ç§°ä¸ºè¾ƒå°çš„å¼‚æ­¥ä»»åŠ¡ã€‚</p><h3 id="ä½¿ç”¨Web-Worker"><a href="#ä½¿ç”¨Web-Worker" class="headerlink" title="ä½¿ç”¨Web Worker"></a>ä½¿ç”¨Web Worker</h3><p>ä¸»çº¿ç¨‹é˜»å¡æ˜¯FIDçš„æ ¹æœ¬åŸå› ï¼Œæ‰€ä»¥ä½¿ç”¨Web Workerå¸®åŠ©ä½ åœ¨å’Œä¸»çº¿ç¨‹åˆ†ç¦»çš„åå°çº¿ç¨‹ä¸Šè¿è¡Œjsï¼Œä»è€Œæ”¹å–„FID</p><h1 id="Cumulative-Layout-Shift-CLS"><a href="#Cumulative-Layout-Shift-CLS" class="headerlink" title="Cumulative Layout Shift(CLS)"></a>Cumulative Layout Shift(CLS)</h1><div class="note primary flat"><p>ç´¯è®¡ä½ç§»åå·®ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºè§†è§‰ç¨³å®šæ€§ã€‚è¿™ä¸ªæŒ‡æ ‡æ˜¯ä¸ºäº†è®°å½•æœ‰äº›åŠ¨æ€æ’å…¥çš„å†…å®¹å½±å“ç”¨æˆ·çš„ä½“éªŒè¯ç”Ÿçš„ã€‚è®¡ç®—çš„æ–¹æ³•æ˜¯ï¼šä½ç§»å½±å“çš„é¢ç§¯*ä½ç§»è·ç¦»</p></div><p>æœŸæœ›å€¼ä½äº0.1æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œè¯´æ˜é¡µé¢è·³æ¥è·³å»çš„æƒ…å†µæ¯”è¾ƒå°‘ã€‚å¦‚æœæœ‰å¹¿å‘Šæ’å…¥å¯¹ç”¨æˆ·çš„ä½“éªŒä¹Ÿä¸æ˜¯å¾ˆå¥½</p><h2 id="æ”¹å–„CLS"><a href="#æ”¹å–„CLS" class="headerlink" title="æ”¹å–„CLS"></a>æ”¹å–„CLS</h2><p>ä½ç§»ä¼šé€ æˆCLSå˜å¤§ï¼Œé‚£ä¹ˆå°±ä»è¿™ä¸ªæ–¹é¢å¼€å§‹æ”¹å–„ã€‚</p><h3 id="ä¸ä½¿ç”¨æ— å°ºå¯¸çš„å…ƒç´ "><a href="#ä¸ä½¿ç”¨æ— å°ºå¯¸çš„å…ƒç´ " class="headerlink" title="ä¸ä½¿ç”¨æ— å°ºå¯¸çš„å…ƒç´ "></a>ä¸ä½¿ç”¨æ— å°ºå¯¸çš„å…ƒç´ </h3><p>è¿™æ–¹é¢çš„çŸ¥è¯†å¯èƒ½å¾ˆå¤šäººéƒ½ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œæˆ‘ä»¬é™¤äº†è¦è®¾ç½®å›¾ç‰‡çš„é•¿å®½ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šä»–çš„é•¿å®½æ¯”<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span>&#123;</span><br><span class="line">  aspect-ratio: <span class="built_in">attr</span>(width)/ <span class="built_in">attr</span>(height)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯¹äºå“åº”å¼çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è®¾ç½®<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> </span><br><span class="line">    <span class="attribute">width</span>=&quot;<span class="number">1000</span>&quot; </span><br><span class="line">    <span class="attribute">height</span>=&quot;<span class="number">1000</span>&quot;</span><br><span class="line">    <span class="attribute">src</span>=&quot;puppy-<span class="number">1000</span><span class="selector-class">.jpg</span>&quot;</span><br><span class="line">    srcset=&quot;puppy-<span class="number">1000</span><span class="selector-class">.jpg</span> <span class="number">1000</span>w,</span><br><span class="line">            puppy-<span class="number">2000</span><span class="selector-class">.jpg</span> <span class="number">2000</span>w,</span><br><span class="line">            puppy-<span class="number">3000</span><span class="selector-class">.jpg</span> <span class="number">3000</span>w&quot;</span><br><span class="line">    alt=&quot;ConardLi&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure></p><ul><li>ä¸è¦åœ¨ç°æœ‰çš„å†…å®¹ä¹‹ä¸Šæ’å…¥å†…å®¹ï¼Œé™¤éæ˜¯å“åº”å¼çš„ç”¨æˆ·äº¤äº’ã€‚</li><li>å®å¯è½¬æ¢åŠ¨ç”»ï¼Œä¹Ÿä¸è¦è½¬æ¢è§¦å‘å¸ƒå±€å˜åŒ–çš„å±æ€§çš„åŠ¨ç”»</li></ul><h3 id="æå‰ç»™å¹¿å‘Šä½é¢„ç•™ç©ºé—´"><a href="#æå‰ç»™å¹¿å‘Šä½é¢„ç•™ç©ºé—´" class="headerlink" title="æå‰ç»™å¹¿å‘Šä½é¢„ç•™ç©ºé—´"></a>æå‰ç»™å¹¿å‘Šä½é¢„ç•™ç©ºé—´</h3><p>å¾ˆå¤šé¡µé¢çš„å¹¿å‘Šéƒ½æ˜¯åŠ¨æ€æ’å…¥çš„ï¼Œæ‰€ä»¥è¦ä¸ºå¹¿å‘Šä½é¢„ç•™ç©ºé—´</p><h3 id="å­—ä½“å˜åŒ–"><a href="#å­—ä½“å˜åŒ–" class="headerlink" title="å­—ä½“å˜åŒ–"></a>å­—ä½“å˜åŒ–</h3><p>å­—ä½“å˜åŒ–å¯ä»¥é‡‡ç”¨<code>font-display:swap</code>å’Œ<code>preload</code>çš„æ–¹å¼æå‰åŠ è½½ï¼Œè¿˜æœ‰è½¬æ ¼å¼å¹¶å‹ç¼©çš„æ–¹å¼ã€‚</p><h1 id="First-Paint-FP"><a href="#First-Paint-FP" class="headerlink" title="First Paint (FP)"></a>First Paint (FP)</h1><div class="note primary flat"><p>ä»å¼€å§‹åŠ è½½åˆ°æµè§ˆå™¨é¦–æ¬¡ç»˜åˆ¶åƒç´ åˆ°å±å¹•ä¸Šçš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯é¡µé¢åœ¨å±å¹•ä¸Šé¦–æ¬¡å‘ç”Ÿè§†è§‰å˜åŒ–çš„æ—¶é—´ã€‚ä½†æ­¤å˜åŒ–å¯èƒ½æ˜¯ç®€å•çš„èƒŒæ™¯è‰²æ›´æ–°æˆ–è€…ä¸å¼•äººæ³¨æ„çš„å†…å®¹ï¼Œå¥¹å¹¶ä¸ä»£è¡¨é¡µé¢çš„å®Œæ•´æ€§ï¼Œå¯èƒ½ä¼šæŠ¥å‘Šæ²¡æœ‰ä»»ä½•å¯è§å†…å®¹è¢«ç»˜åˆ¶çš„æ—¶é—´</p></div><h2 id="æµ‹é‡æ–¹å¼"><a href="#æµ‹é‡æ–¹å¼" class="headerlink" title="æµ‹é‡æ–¹å¼"></a>æµ‹é‡æ–¹å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFirstPaint</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> firstPaints = &#123;&#125;;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> performance.getEntriesByType === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> performanceEntries = performance.getEntriesByType(<span class="string">&#x27;paint&#x27;</span>) || [];</span><br><span class="line">    performanceEntries.forEach(<span class="function">(<span class="params">entry</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (entry.name === <span class="string">&#x27;first-paint&#x27;</span>) &#123;</span><br><span class="line">        firstPaints.firstPaint = entry.startTime;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (entry.name === <span class="string">&#x27;first-contentful-paint&#x27;</span>) &#123;</span><br><span class="line">        firstPaints.firstContentfulPaint = entry.startTime;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (chrome &amp;&amp; chrome.loadTimes) &#123;</span><br><span class="line">      <span class="keyword">let</span> loadTimes = <span class="built_in">window</span>.chrome.loadTimes();</span><br><span class="line">      <span class="keyword">let</span> &#123;firstPaintTime, startLoadTime&#125; = loadTimes;</span><br><span class="line">      firstPaints.firstPaint = (firstPaintTime - startLoadTime) * <span class="number">1000</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (performance.timing &amp;&amp; <span class="keyword">typeof</span> performance.timing.msFirstPaint === <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> &#123;msFirstPaint, navigationStart&#125; = performance.timing;</span><br><span class="line">      firstPaints.firstPaint = msFirstPaint - navigationStart;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> firstPaints;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="First-Contentful-Paint-FCP"><a href="#First-Contentful-Paint-FCP" class="headerlink" title="First Contentful Paint (FCP)"></a>First Contentful Paint (FCP)</h1><div class="note primary flat"><p>è¿™ä¸ªæŒ‡æ ‡ç”¨äºè®°å½•æµè§ˆå™¨é¦–æ¬¡ç»˜åˆ¶æ¥è‡ªDOMå†…å®¹çš„æ—¶é—´ï¼Œå†…å®¹å¿…é¡»æ˜¯æ–‡æœ¬ã€å›¾ç‰‡(åŒ…å«èƒŒæ™¯å›¾)ã€éç™½è‰²çš„canvasæˆ–SVGã€ä¹ŸåŒ…å«æ­£åœ¨åŠ è½½ä¸­çš„Webå­—ä½“çš„æ–‡æœ¬ã€‚</p></div><p>è¯¥é˜¶æ®µç”¨æˆ·çœ‹åˆ°çš„å¯èƒ½æ˜¯ä¸€ä¸ªheaderæˆ–è€…å¯¼èˆªæ ï¼Œå¹¶ä¸ä¸€å®šæ˜¯ç”¨æˆ·å€¼å¾—æ¶ˆè´¹çš„å†…å®¹</p><p>ä¸”å­—ä½“å¯¹FCPå½±å“æ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>font-display:swap</code>çš„æ–¹å¼è®©æµè§ˆå™¨ä¸€å¼€å§‹å°±ä½¿ç”¨ç³»ç»Ÿçš„å­—ä½“ï¼Œç­‰å­—ä½“æ›´æ–°å¥½å†ä½¿ç”¨è‡ªå®šä¹‰çš„å­—ä½“</p><p>å­—ä½“çš„ä¼˜åŒ–è¿˜å¯ä»¥ä»æ ¼å¼ä¸Šï¼Œæ¯”å¦‚å°†ï¼š</p><p>FCPçš„æµ‹é‡æ–¹å¼è§FP</p><p>æœ€ä¼˜æ—¶é—´<br>å…³äºè¿™ä¸¤ä¸ªæŒ‡æ ‡ï¼Œæœ‰å¦‚ä¸‹çš„æ—¶é—´ä½“éªŒ<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220502170159.png" alt=""></p><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºåœ¨2sä»¥å†…èƒ½å®Œæˆå°±ç®—ä½“éªŒä¼˜ç§€ï¼Œè¯¦ç»†çš„ä¹Ÿå¯ä»¥åœ¨LightHouseä¸­æŸ¥çœ‹</p><h1 id="Time-to-Interactive-TTI"><a href="#Time-to-Interactive-TTI" class="headerlink" title="Time to Interactive(TTI)"></a>Time to Interactive(TTI)</h1><div class="note primary flat"><p>é¦–æ¬¡å¯äº¤äº’æ—¶é—´ï¼Œè®¡ç®—æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶</p></div><ol><li>FCPæŒ‡æ ‡ä¹‹åå¼€å§‹è®¡ç®—</li><li>æŒç»­äº”ç§’æ²¡æœ‰é•¿ä»»åŠ¡ï¼ˆæ‰§è¡Œæ—¶é—´è¶…è¿‡50msï¼‰ä¸”æ— ä¸¤ä¸ªä»¥ä¸Šæ­£åœ¨è¿›è¡Œçš„GETè¯·æ±‚<br>3ï¼Œ å¾€å‰å›æº¯è‡³5så‰çš„æœ€åä¸€ä¸ªé•¿ä»»åŠ¡ç»“æŸæ—¶é—´ã€‚</li></ol><p>50msæ˜¯è°·æ­Œå®šä¹‰çš„ï¼Œæ¨èçš„å“åº”æ—¶é—´æ˜¯100msä»¥å†…ï¼Œå¦‚æœè¶…è¿‡äº†è¿™ä¸ªæ—¶é—´ï¼Œç”¨æˆ·ä¼šæœ‰å»¶è¿Ÿæ„Ÿã€‚</p><p>è¿™ä¸ªæŒ‡æ ‡è¡¡é‡äº†å“åº”äº¤äº’ã€‚</p><h1 id="Total-Blocking-Time-TBT"><a href="#Total-Blocking-Time-TBT" class="headerlink" title="Total Blocking Time(TBT)"></a>Total Blocking Time(TBT)</h1><div class="note primary flat"><p>é˜»å¡æ€»æ—¶é—´ï¼Œè®°å½•äº†FCPåˆ°TTIä¹‹é—´æ‰€æœ‰é•¿ä»»åŠ¡çš„é˜»å¡æ—¶é—´æ€»å’Œã€‚</p></div><h1 id="Time-to-First-Byte-TTFB"><a href="#Time-to-First-Byte-TTFB" class="headerlink" title="Time to First Byte(TTFB)"></a>Time to First Byte(TTFB)</h1><p>æœåŠ¡å™¨æœ‰å…³<br><div class="note primary flat"><p>æµè§ˆå™¨ä»è¯·æ±‚é¡µé¢å¼€å§‹åˆ°æ¥æ”¶ç¬¬ä¸€å­—èŠ‚çš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´æ®µå†…åŒ…æ‹¬ DNS æŸ¥æ‰¾ã€TCP è¿æ¥å’Œ SSL è¿æ¥ã€‚</p></div></p><h1 id="DomContentLoadedï¼ˆDCLï¼‰"><a href="#DomContentLoadedï¼ˆDCLï¼‰" class="headerlink" title="DomContentLoadedï¼ˆDCLï¼‰"></a>DomContentLoadedï¼ˆDCLï¼‰</h1><div class="note primary flat"><p>DomContentLoaded äº‹ä»¶è§¦å‘çš„æ—¶é—´ã€‚å½“ HTML æ–‡æ¡£è¢«å®Œå…¨åŠ è½½å’Œè§£æå®Œæˆä¹‹åï¼ŒDOMContentLoaded äº‹ä»¶è¢«è§¦å‘ï¼Œè€Œæ— éœ€ç­‰å¾…æ ·å¼è¡¨ã€å›¾åƒå’Œå­æ¡†æ¶åŠ è½½å®Œæˆã€‚</p></div><h1 id="Load-L"><a href="#Load-L" class="headerlink" title="Load(L)"></a>Load(L)</h1><div class="note primary flat"><p>onLoad äº‹ä»¶è§¦å‘çš„æ—¶é—´ã€‚é¡µé¢æ‰€æœ‰èµ„æºéƒ½åŠ è½½å®Œæ¯•åï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼ŒCSSï¼‰ï¼ŒonLoad äº‹ä»¶æ‰è¢«è§¦å‘ã€‚</p></div><h1 id="å…³äºæ ¸å¿ƒæŒ‡æ ‡"><a href="#å…³äºæ ¸å¿ƒæŒ‡æ ‡" class="headerlink" title="å…³äºæ ¸å¿ƒæŒ‡æ ‡"></a>å…³äºæ ¸å¿ƒæŒ‡æ ‡</h1><p>LCPä»£è¡¨äº†é¡µé¢çš„é€Ÿåº¦ï¼Œä¸”LCPåœ¨ç›®å‰æµè¡Œloadingå’Œéª¨æ¶å±çš„æƒ…å†µä¸‹ï¼Œèƒ½ä½“ç°çš„ä¸œè¥¿å°±æ›´å¤šäº†ã€‚ä»–çš„æŒ‡æ ‡å®æ—¶æ›´æ–°ï¼Œæ•°æ®æ›´ç²¾ç¡®ï¼Œä¸”ä»£è¡¨ç€é¡µé¢æœ€å¤§å…ƒç´ çš„æ¸²æŸ“æ—¶é—´ï¼Œé€šå¸¸æ¥è¯´æœ€å¤§å…ƒç´ çš„å¿«é€ŸåŠ è½½èƒ½è®©ç”¨æˆ·æ„Ÿè§‰æ€§èƒ½è¿˜å¥½ã€‚</p><p>FIDè¡¨ç¤ºé¡µé¢çš„äº¤äº’ä½“éªŒæŒ‡æ ‡ï¼Œå¦‚æœä»–å¿«è¯´æ˜äº¤äº’çš„å»¶è¿Ÿä½ï¼Œä¼šè®©ç”¨æˆ·è§‰å¾—ç½‘é¡µæµç•…ã€‚</p><p>CLSä»£è¡¨äº†é¡µé¢çš„ç¨³å®šæ€§ï¼Œå°¤å…¶åœ¨æ‰‹æœºä¸Šæ›´ä¸ºé‡è¦ã€‚å› ä¸ºæ”¶é›†å±å¹•å°çš„åŸå› ï¼Œåç§»å·®è¶Šå¤šå¯¼è‡´è§†è§‰äº¤äº’è¶Šå·®ï¼Œé™ä½ç”¨æˆ·ä½“éªŒã€‚</p><h1 id="å…³äºæŒ‡æ ‡æ”¶é›†"><a href="#å…³äºæŒ‡æ ‡æ”¶é›†" class="headerlink" title="å…³äºæŒ‡æ ‡æ”¶é›†"></a>å…³äºæŒ‡æ ‡æ”¶é›†</h1><h2 id="Lighthouse"><a href="#Lighthouse" class="headerlink" title="Lighthouse"></a>Lighthouse</h2><p>ä½¿ç”¨åˆ°äº†Lighthouseï¼Œè¿™ä¸ªæ˜¯Chromeè‡ªå¸¦çš„æ€§èƒ½æŒ‡æ ‡è·å–å™¨ï¼Œä¼šæ˜¾ç¤ºå‡ºå…·ä½“çš„æŒ‡æ ‡åç§°å’Œæ—¶é—´ï¼Œä»¥åŠåˆ†æ•°ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220502193259.png" alt=""></p><h2 id="web-vitals-extension"><a href="#web-vitals-extension" class="headerlink" title="web-vitals-extension"></a>web-vitals-extension</h2><p>å¯ä»¥ç”¨è¿™ä¸ªæ’ä»¶æ¥è·å–ä¸‰å¤§æ ¸å¿ƒæŒ‡æ ‡ï¼šLCPã€FIDã€CLS</p><h2 id="web-vitals-åº“"><a href="#web-vitals-åº“" class="headerlink" title="web-vitals åº“"></a>web-vitals åº“</h2><p>ä½¿ç”¨è¿™ä¸ªåº“å¯ä»¥è·å–CLSã€FIDã€LCPä»¥åŠFCPã€TTFB</p><p>ä½¿ç”¨æ–¹æ³•<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;getCLS, getFID, getLCP&#125; <span class="keyword">from</span> <span class="string">&#x27;web-vitals&#x27;</span>;</span><br><span class="line"></span><br><span class="line">getCLS(<span class="built_in">console</span>.log);</span><br><span class="line">getFID(<span class="built_in">console</span>.log);</span><br><span class="line">getLCP(<span class="built_in">console</span>.log);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h2 id="Chrome-DevTools"><a href="#Chrome-DevTools" class="headerlink" title="Chrome DevTools"></a>Chrome DevTools</h2><p>æ‰“å¼€performanceå°±å¯ä»¥è·å–æŒ‡æ ‡</p><h2 id="ä»£ç æ”¶é›†"><a href="#ä»£ç æ”¶é›†" class="headerlink" title="ä»£ç æ”¶é›†"></a>ä»£ç æ”¶é›†</h2><p>ä½¿ç”¨<code>window.performance</code>æˆ–å…¶ä»–ç¬¬ä¸‰æ–¹çš„åº“</p><h1 id="å…³äºæµ‹è¯•"><a href="#å…³äºæµ‹è¯•" class="headerlink" title="å…³äºæµ‹è¯•"></a>å…³äºæµ‹è¯•</h1><p>èµ„æºåŠ è½½æ–¹é¢çš„å»¶è¿Ÿï¼šä½¿ç”¨sleepçš„æ–¹å¼äººä¸ºçš„æ§åˆ¶èµ„æºçš„åŠ è½½æ—¶é•¿ã€‚<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/index.css?sleep=3000&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></p><p>ç½‘ç»œæ–¹é¢çš„å»¶è¿Ÿï¼šä½¿ç”¨chromeçš„ç½‘é€Ÿè°ƒèŠ‚ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬æµ‹è¯•å ä½å›¾ï¼Œéª¨æ¶å±çš„æƒ…å†µã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="æµè§ˆå™¨ç³»åˆ—" scheme="https://zlinni.github.io/categories/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="æµè§ˆå™¨" scheme="https://zlinni.github.io/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ä»0åˆ°1TypeScript</title>
    <link href="https://zlinni.github.io/posts/2090815300/"/>
    <id>https://zlinni.github.io/posts/2090815300/</id>
    <published>2022-04-26T14:23:37.000Z</published>
    <updated>2022-05-02T15:24:23.722Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>TSå…¥é—¨æ•™ç¨‹ï¼Œä»0åˆ°1</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/ts.png" alt=""></p><h1 id="TSä»‹ç»"><a href="#TSä»‹ç»" class="headerlink" title="TSä»‹ç»"></a>TSä»‹ç»</h1><h2 id="TSæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#TSæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="TSæ˜¯ä»€ä¹ˆï¼Ÿ"></a>TSæ˜¯ä»€ä¹ˆï¼Ÿ</h2><div class="note primary flat"><p>tsæ˜¯jsçš„è¶…é›†ï¼Œè¶…é›†æŒ‡çš„æ˜¯ä»–åŒ…å«äº†eså‰é¢æ‰€æœ‰ç‰ˆæœ¬çš„å†…å®¹å¹¶æœ‰è‡ªå·±çš„æ‹“å±•ã€‚</p></div><h2 id="TSåšåˆ°äº†ä»€ä¹ˆï¼Ÿ"><a href="#TSåšåˆ°äº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="TSåšåˆ°äº†ä»€ä¹ˆï¼Ÿ"></a>TSåšåˆ°äº†ä»€ä¹ˆï¼Ÿ</h2><div class="note primary flat"><p>é¦–å…ˆjsæ˜¯å¼±ç±»å‹ï¼Œå¾ˆå¤šé”™è¯¯åœ¨è¿è¡Œçš„æ—¶å€™æ‰èƒ½å‘ç°ã€‚<br>tsä½¿ç”¨äº†ä»–çš„é™æ€ç±»å‹æ£€æµ‹æœºåˆ¶ï¼ˆåé¢æåŠï¼‰å¸®åŠ©æˆ‘ä»¬ææ—©å‘ç°é”™è¯¯ã€‚</p></div><h2 id="TSç‰¹ç‚¹"><a href="#TSç‰¹ç‚¹" class="headerlink" title="TSç‰¹ç‚¹"></a>TSç‰¹ç‚¹</h2><ol><li>æ”¯æŒæœ€æ–°çš„jsç‰¹æ€§ï¼ˆè¶…é›†ï¼‰</li><li>é™æ€ä»£ç æ£€æŸ¥ï¼ˆè§£å†³å¼±ç±»å‹ï¼‰</li><li>æœ‰å…¶ä»–åç«¯è¯­è¨€çš„ç‰¹æ€§ï¼ˆæšä¸¾ï¼Œæ³›å‹ï¼Œç±»å‹è½¬åŒ–ï¼Œå‘½åç©ºé—´ï¼Œå£°æ˜æ–‡ä»¶â€¦)</li></ol><h1 id="é™æ€ç±»å‹æ£€æµ‹"><a href="#é™æ€ç±»å‹æ£€æµ‹" class="headerlink" title="é™æ€ç±»å‹æ£€æµ‹"></a>é™æ€ç±»å‹æ£€æµ‹</h1><p>ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ä¸ªé—®é¢˜ï¼Ÿ</p><div class="note primary flat"><p>jsåœ¨è¿è¡Œä»£ç çš„æ—¶å€™ï¼Œéœ€è¦æˆ‘ä»¬äººä¸ºçš„çŸ¥é“ä»£ç çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Œæ‰èƒ½åšå‡ºå“åº”çš„æ“ä½œï¼ˆæ‰§è¡Œå‡½æ•°æ‰èƒ½çŸ¥é“ï¼‰ã€‚ä¸èƒ½åœ¨æˆ‘ä»¬ä¹¦å†™çš„è¿‡ç¨‹å°±ç«‹åˆ»ç»™å‡ºç¼–è¯‘é”™è¯¯çš„åé¦ˆã€‚<br>tså°±èƒ½åœ¨ï¼ˆç¼–è¯‘ä¹‹å‰ï¼‰å‘Šè¯‰æˆ‘ä»¬</p></div><h2 id="éå¼‚å¸¸æ•…éšœ"><a href="#éå¼‚å¸¸æ•…éšœ" class="headerlink" title="éå¼‚å¸¸æ•…éšœ"></a>éå¼‚å¸¸æ•…éšœ</h2><p>tsä¸ä»…èƒ½å‘Šè¯‰æˆ‘ä»¬å“ªäº›å‡½æ•°çš„å€¼é”™è¯¯ï¼Œè¿˜èƒ½è¯†åˆ«ç±»ä¼¼äºé”™åˆ«å­—ï¼Œæœªè°ƒç”¨å‡½æ•°å’ŒåŸºæœ¬é€»è¾‘é”™è¯¯<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user=&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;ber&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">user.location</span><br></pre></td></tr></table></figure><br>ä¸Šé¢è¿™æ®µä»£ç åœ¨jsä¸­è¿”å›<code>undefined</code>,è€Œåœ¨tsä¸­æå‰å‘Šè¯‰ä½ è¿™ä¸ªå˜é‡æ²¡æœ‰å®šä¹‰ä¸èƒ½ä½¿ç”¨</p><p><code>é”™åˆ«å­—</code>ï¼šå‘Šè¯‰ä½ å¯¹è±¡ä¸Šé¢æŸä¸ªæ–¹æ³•æ‹¼å†™é”™è¯¯ç­‰</p><p><code>æœªè°ƒç”¨å‡½æ•°</code>ï¼šå‡½æ•°æ²¡æœ‰åŠ æ‹¬å·å°±ä½¿ç”¨ï¼Œä¼šæç¤ºæœªè°ƒç”¨é”™è¯¯</p><p><code>é€»è¾‘é”™è¯¯</code>ï¼šæ¯”å¦‚åªæœ‰ä¸¤ç§æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œifä¸€ä¸ªæ¡ä»¶åˆelseifå¦å¤–ä¸€ä¸ªæ¡ä»¶ï¼Œå°±ä¼šæŠ¥é”™</p><h1 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="headerlink" title="æ­å»ºç¯å¢ƒ"></a>æ­å»ºç¯å¢ƒ</h1><h2 id="å®‰è£…ts"><a href="#å®‰è£…ts" class="headerlink" title="å®‰è£…ts"></a>å®‰è£…ts</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g typescript</span><br></pre></td></tr></table></figure><h2 id="å®‰è£…ts-node"><a href="#å®‰è£…ts-node" class="headerlink" title="å®‰è£…ts-node"></a>å®‰è£…ts-node</h2><p>å¯ä»¥ç›´æ¥ç¼–è¯‘tsæ–‡ä»¶<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i -g ts-node</span><br><span class="line">//ä½¿ç”¨</span><br><span class="line">npx ts-node xxx.ts</span><br></pre></td></tr></table></figure></p><h2 id="åˆ›å»ºä¸€ä¸ªtsconfig-json"><a href="#åˆ›å»ºä¸€ä¸ªtsconfig-json" class="headerlink" title="åˆ›å»ºä¸€ä¸ªtsconfig.json"></a>åˆ›å»ºä¸€ä¸ª<code>tsconfig.json</code></h2><p>è§£å†³å˜é‡åorå‡½æ•°åç›¸åŒæŠ¥é”™çš„é—®é¢˜<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc --init</span><br></pre></td></tr></table></figure></p><h2 id="å®˜æ–¹playground"><a href="#å®˜æ–¹playground" class="headerlink" title="å®˜æ–¹playground"></a>å®˜æ–¹playground</h2><p>å®˜æ–¹æä¾›çš„tsåœ¨çº¿ç¼–è¯‘äº‘ç¯å¢ƒâ€”<a href="">playground</a></p><h1 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h1><p>åœ¨å¯¹åº”çš„ç›®å½•ç»ˆç«¯è¿è¡Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tsc hello.ts</span><br></pre></td></tr></table></figure></p><p>å¾—åˆ°å¯¹åº”çš„jsæ–‡ä»¶,æ‰§è¡Œnodeå‘½ä»¤å°±å¯ä»¥æ‰§è¡Œjsä»£ç </p><h2 id="tså’Œjsçš„å†²çª"><a href="#tså’Œjsçš„å†²çª" class="headerlink" title="tså’Œjsçš„å†²çª"></a>tså’Œjsçš„å†²çª</h2><div class="note primary flat"><p>å½“æˆ‘ä»¬å°†tsä»£ç ä¿®æ”¹ä¸ºä¸€ä¸ªå‡½æ•°å¹¶è°ƒç”¨çš„æ—¶å€™ï¼Œå†æ¬¡ç¼–è¯‘è¿è¡Œjsæ–‡ä»¶ï¼Œä¼šäº§ç”Ÿå†²çª</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220430175814.png" alt=""></p><p>åŸå› ï¼šå‡½æ•°åorå˜é‡åç›¸åŒï¼Œé‡å¤å®šä¹‰</p><p>è§£å†³æ–¹æ³•ï¼š</p><ol><li><code>tsc --init</code>ç”Ÿæˆé…ç½®æ–‡ä»¶</li><li>æ³¨é‡Šæ‰<code>&quot;strict&quot;: true,  o9</code></li></ol><h2 id="è‡ªåŠ¨ç¼–è¯‘"><a href="#è‡ªåŠ¨ç¼–è¯‘" class="headerlink" title="è‡ªåŠ¨ç¼–è¯‘"></a>è‡ªåŠ¨ç¼–è¯‘</h2><p><code>tsc --watch</code></p><h2 id="å‘å‡ºé”™è¯¯"><a href="#å‘å‡ºé”™è¯¯" class="headerlink" title="å‘å‡ºé”™è¯¯"></a>å‘å‡ºé”™è¯¯</h2><div class="note primary flat"><p>æˆ‘ä»¬åœ¨tsé‡Œé¢æŠ¥äº†é”™ï¼Œä½†æ˜¯åœ¨ç¼–è¯‘å®Œä¹‹åï¼Œè¿˜æ˜¯èƒ½è¿è¡Œjsæ–‡ä»¶ï¼Œå¦‚æœæˆ‘ä»¬è¦ä¼˜åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œç»“æœä¸ºï¼štsç¼–è¯‘æŠ¥é”™å°±ä¸ç”Ÿæˆjsæ–‡ä»¶çš„è¯ï¼Œéœ€è¦å¦‚ä¸‹ï¼š</p></div><p><code>tsc -noEmitOnError hello.ts</code></p><p>or</p><p><code>tsc -noEmitOnError --watch</code></p><h2 id="é™çº§ç¼–è¯‘"><a href="#é™çº§ç¼–è¯‘" class="headerlink" title="é™çº§ç¼–è¯‘"></a>é™çº§ç¼–è¯‘</h2><p>è®¾ç½®jsoné‡Œé¢çš„targetä¸º<code>es5</code><br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220430195603.png" alt=""></p><h2 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h2><div class="note primary flat"><p>ä¸åŒçš„ç”¨æˆ·å¸Œæœ›åœ¨tsé‡Œé¢æ£€æŸ¥çš„ä¸¥æ ¼ç¨‹åº¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œé…ç½®å¦‚ä¸‹</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220430195741.png" alt=""></p><p><code>strict</code>æ˜¯åŒ…å«äº†ä¸‹é¢ä¸¤ä¸ªç±»å‹çš„æ¨¡å¼</p><p><code>noImplicitAny</code>æ˜¯æŒ‡ä¸å¯ä»¥å¿½ç•¥anyï¼Œä¹Ÿå°±æ˜¯è¦å®šä¹‰ç±»å‹</p><p><code>strictNullChecks</code>æ„æ€æ˜¯<code>null undefined</code>åªèƒ½èµ‹å€¼ç»™å¯¹åº”çš„ç±»å‹</p><h1 id="åŸºç¡€æ•°æ®ç±»å‹"><a href="#åŸºç¡€æ•°æ®ç±»å‹" class="headerlink" title="åŸºç¡€æ•°æ®ç±»å‹"></a>åŸºç¡€æ•°æ®ç±»å‹</h1><h2 id="æ˜¾å¼ç±»å‹"><a href="#æ˜¾å¼ç±»å‹" class="headerlink" title="æ˜¾å¼ç±»å‹"></a>æ˜¾å¼ç±»å‹</h2><p>tsç»™æˆ‘ä»¬æä¾›äº†ç±»å‹å®šä¹‰çš„æ³¨é‡Šï¼Œæ¯”å¦‚è¯´<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">conflit</span>(<span class="params">person:<span class="built_in">string</span>,date:<span class="built_in">Date</span></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`hello,<span class="subst">$&#123;person&#125;</span>,<span class="subst">$&#123;date&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line">conflit(<span class="string">&#x27;jojo&#x27;</span>,<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br></pre></td></tr></table></figure></p><p>ä½†æ˜¯åœ¨ç¼–è¯‘æˆjsä¹‹åå°±ä¼šåˆ å»ï¼Œå¯ä»¥æ–¹ä¾¿ç¨‹åºå‘˜æŸ¥çœ‹ã€‚</p><p>æ ¹æ®ä¸Šé¢æ˜¾å¼ç±»å‹çš„è¯´æ³•æˆ‘ä»¬çŸ¥é“äº†tså¯ä»¥å®šä¹‰å¾ˆå¤šæ•°æ®ç±»å‹ï¼Œæ¯”å¦‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str: string = <span class="string">&quot;jimmy&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> num: number = <span class="number">24</span>;</span><br><span class="line"><span class="keyword">let</span> bool: boolean = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">let</span> u: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> n: <span class="literal">null</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> obj: object = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> big: bigint = <span class="number">100n</span>;</span><br><span class="line"><span class="keyword">let</span> sym: symbol = <span class="built_in">Symbol</span>(<span class="string">&quot;me&quot;</span>); </span><br></pre></td></tr></table></figure></p><h2 id="å‡ ä¸ªéœ€è¦ç•™æ„çš„æ•°æ®"><a href="#å‡ ä¸ªéœ€è¦ç•™æ„çš„æ•°æ®" class="headerlink" title="å‡ ä¸ªéœ€è¦ç•™æ„çš„æ•°æ®"></a>å‡ ä¸ªéœ€è¦ç•™æ„çš„æ•°æ®</h2><div class="note primary flat"><p>å½“æˆ‘ä»¬å®šä¹‰å¥½ç±»å‹çš„æ—¶å€™ï¼Œå¦‚æœç»™å˜é‡èµ‹å€¼åˆ«çš„ç±»å‹æ˜¯ä¼šæŠ¥é”™æç¤ºçš„ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªç±»å‹ä¸ä¸€æ ·</p></div><h3 id="null-amp-undefined"><a href="#null-amp-undefined" class="headerlink" title="null&amp;undefined"></a><code>null&amp;undefined</code></h3><p><code>null undefined</code>è¿™ä¸¤ä¸ªç±»å‹å¯ä»¥ä½œä¸ºå…¶ä»–æ‰€æœ‰ç±»å‹çš„å­ç±»å‹,ä¹Ÿå°±æ˜¯å¯ä»¥æŠŠå®ƒä»¬èµ‹ç»™åˆ«çš„å€¼</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// nullå’Œundefinedèµ‹å€¼ç»™string</span></span><br><span class="line"><span class="keyword">let</span> str:<span class="built_in">string</span> = <span class="string">&quot;666&quot;</span>;</span><br><span class="line">str = <span class="literal">null</span></span><br><span class="line">str= <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nullå’Œundefinedèµ‹å€¼ç»™number</span></span><br><span class="line"><span class="keyword">let</span> num:<span class="built_in">number</span> = <span class="number">666</span>;</span><br><span class="line">num = <span class="literal">null</span></span><br><span class="line">num= <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nullå’Œundefinedèµ‹å€¼ç»™object</span></span><br><span class="line"><span class="keyword">let</span> obj:<span class="built_in">object</span> =&#123;&#125;;</span><br><span class="line">obj = <span class="literal">null</span></span><br><span class="line">obj= <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nullå’Œundefinedèµ‹å€¼ç»™Symbol</span></span><br><span class="line"><span class="keyword">let</span> sym: symbol = <span class="built_in">Symbol</span>(<span class="string">&quot;me&quot;</span>); </span><br><span class="line">sym = <span class="literal">null</span></span><br><span class="line">sym= <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nullå’Œundefinedèµ‹å€¼ç»™boolean</span></span><br><span class="line"><span class="keyword">let</span> isDone: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br><span class="line">isDone = <span class="literal">null</span></span><br><span class="line">isDone= <span class="literal">undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nullå’Œundefinedèµ‹å€¼ç»™bigint</span></span><br><span class="line"><span class="keyword">let</span> big: bigint =  <span class="number">100n</span>;</span><br><span class="line">big = <span class="literal">null</span></span><br><span class="line">big= <span class="literal">undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note warning flat"><p>ä½†å¦‚æœåœ¨<code>tsconfig.json</code>é‡Œé¢æŒ‡å®šäº†<code>&quot;strictNullChecks&quot;:true</code>é‚£ä¹ˆå®ƒä»¬åªèƒ½è¢«èµ‹å€¼ç»™è‡ªå·±çš„ç±»å‹æˆ–è€…void</p></div><h3 id="number-amp-bigint"><a href="#number-amp-bigint" class="headerlink" title="number&amp;bigint"></a><code>number&amp;bigint</code></h3><div class="note primary flat"><p>è¿™ä¸¤ä¸ªå€¼äº’ä¸å…¼å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ç›¸äº’èµ‹å€¼ï¼Œä¼šæŠ¥é”™</p></div><h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><div class="note primary flat"><p>å¯¹æ•°ç»„çš„å®šä¹‰æœ‰ä¸¤ç§æ–¹å¼</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//arr:type[]</span></span><br><span class="line"><span class="keyword">let</span> arr:<span class="built_in">string</span>[] = [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>];</span><br><span class="line"><span class="comment">//arr:Array&lt;type&gt;è¿™æ˜¯æ³›å‹çš„å®šä¹‰æ–¹æ³•</span></span><br><span class="line"><span class="keyword">let</span> arr2:<span class="built_in">Array</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>]</span><br></pre></td></tr></table></figure><p>å®šä¹‰è”åˆç±»å‹æ•°ç»„<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//arr:(type1|type2)[]</span></span><br><span class="line"><span class="keyword">let</span> arr3:(<span class="built_in">number</span> | <span class="built_in">string</span>)[];</span><br><span class="line">arr3 = [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;sdcas&quot;</span>,<span class="number">1</span>,<span class="number">2</span>];</span><br></pre></td></tr></table></figure></p><p>å®šä¹‰å¯¹è±¡ç±»å‹æ•°ç»„<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Arrobj &#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">  <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr4:Arrobj[] = [&#123;<span class="attr">name</span>:<span class="string">&#x27;jojo&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;]</span><br></pre></td></tr></table></figure></p><h2 id="any"><a href="#any" class="headerlink" title="any"></a>any</h2><p>å®šä¹‰æˆanyç±»å‹çš„æ—¶å€™è¡¨ç¤ºä½ ä¸å¸Œæœ›æŸä¸ªç‰¹å®šå€¼å¯¼è‡´ç±»å‹é”™è¯¯çš„äº§ç”Ÿã€‚</p><div class="note warning flat"><p>æ³¨æ„é¿å…ä½¿ç”¨any è¿™æ ·ä¼šä¸¢å¤±tsçš„ä¿æŠ¤æœºåˆ¶</p></div><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><h3 id="å‡½æ•°å£°æ˜"><a href="#å‡½æ•°å£°æ˜" class="headerlink" title="å‡½æ•°å£°æ˜"></a>å‡½æ•°å£°æ˜</h3><p>å…·åå‡½æ•°<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">x: <span class="built_in">number</span>,y: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><div class="note primary flat"><p>è¿™ä¸ªæ˜¯å‘Šè¯‰æˆ‘ä»¬å‡½æ•°çš„è¿”å›å€¼ä¹Ÿå¯ä»¥æŒ‡å®šç±»å‹ï¼Œä½†ä¸€èˆ¬ä¸éœ€è¦ï¼Œå› ä¸ºtsä¼šç»™æˆ‘ä»¬è‡ªåŠ¨åˆ¤æ–­è¿”å›å€¼çš„ç±»å‹</p></div><p>åŒ¿åå‡½æ•°ï¼šä¼šè‡ªåŠ¨æ ¹æ®ä¸Šä¸‹æ–‡åˆ¤æ–­è¯»å–çš„æ•°æ®ç±»å‹æ˜¯ä»€ä¹ˆã€‚</p><h3 id="å‡½æ•°è¡¨è¾¾å¼"><a href="#å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="å‡½æ•°è¡¨è¾¾å¼"></a>å‡½æ•°è¡¨è¾¾å¼</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum: <span class="function">(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span> = <span class="function"><span class="keyword">function</span> (<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">number</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç”¨æ¥å£å®šä¹‰å‡½æ•°ç±»å‹"><a href="#ç”¨æ¥å£å®šä¹‰å‡½æ•°ç±»å‹" class="headerlink" title="ç”¨æ¥å£å®šä¹‰å‡½æ•°ç±»å‹"></a>ç”¨æ¥å£å®šä¹‰å‡½æ•°ç±»å‹</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> SearchFunc&#123;</span><br><span class="line">  (source: <span class="built_in">string</span>, <span class="attr">subString</span>: <span class="built_in">string</span>): <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡‡ç”¨å‡½æ•°è¡¨è¾¾å¼æ¥å£å®šä¹‰å‡½æ•°ç±»å‹çš„æ•°æ®çš„æ—¶å€™ï¼Œå¯¹ç­‰å·å·¦ä¾§è¿›è¡Œç±»å‹é™åˆ¶ï¼Œå¯ä»¥ä¿è¯ä»¥åå¯¹å‡½æ•°åèµ‹å€¼æ—¶ä¿è¯å‚æ•°ä¸ªæ•°ï¼Œå‚æ•°ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹ä¸å˜ã€‚</p><h3 id="å¯é€‰å‚æ•°"><a href="#å¯é€‰å‚æ•°" class="headerlink" title="å¯é€‰å‚æ•°"></a>å¯é€‰å‚æ•°</h3><p>ä½¿ç”¨<code>å˜é‡å?: type</code>çš„å½¢å¼<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: <span class="built_in">number</span>,y?: <span class="built_in">number</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(y)&#123;</span><br><span class="line">      <span class="keyword">return</span> x+y;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(myFun(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">console</span>.log(myFun(<span class="number">33</span>))</span><br></pre></td></tr></table></figure></p><div class="note warning flat"><p>æ³¨æ„å¯é€‰å‚æ•°åé¢ä¸èƒ½å†è·Ÿå¿…éœ€å‚æ•°</p></div><h3 id="å‚æ•°é»˜è®¤å€¼"><a href="#å‚æ•°é»˜è®¤å€¼" class="headerlink" title="å‚æ•°é»˜è®¤å€¼"></a>å‚æ•°é»˜è®¤å€¼</h3><p>åœ¨typeåé¢åŠ <code>= é»˜è®¤å€¼</code><br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span> = <span class="number">22</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(myFun(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"><span class="built_in">console</span>.log(myFun(<span class="number">33</span>))</span><br></pre></td></tr></table></figure></p><h3 id="å‰©ä½™å‚æ•°"><a href="#å‰©ä½™å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°"></a>å‰©ä½™å‚æ•°</h3><p>æ³¨æ„éœ€è¦ç”¨anyæ¥æŒ‡å®šrest<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">arr: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt;, ...items: <span class="built_in">any</span>[]</span>) </span>&#123;</span><br><span class="line">    items.forEach(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">        arr.push(item);</span><br><span class="line">    &#125;)    </span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr: <span class="built_in">Array</span>&lt;<span class="built_in">number</span>&gt; = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(myFun(arr,<span class="number">3</span>,<span class="number">4</span>,<span class="number">543414</span>,<span class="number">123</span>))</span><br></pre></td></tr></table></figure></p><h3 id="å‡½æ•°é‡è½½"><a href="#å‡½æ•°é‡è½½" class="headerlink" title="å‡½æ•°é‡è½½"></a>å‡½æ•°é‡è½½</h3><p>jsæ˜¯åŠ¨æ€è¯­è¨€ï¼Œä¼šæ ¹æ®ä¸åŒçš„å‚æ•°è¿”å›ä¸åŒç±»å‹çš„è°ƒç”¨ç»“æœ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line">add(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">// 3</span></span><br><span class="line">add(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>); <span class="comment">//&quot;12&quot;</span></span><br></pre></td></tr></table></figure></p><p>butå¦‚æœå¼€å¯äº†noImplicitAnyçš„è¯ï¼Œtsä¸èƒ½ç”¨ä¸Šè¿°ä»£ç ï¼Œå› ä¸ºéœ€è¦æŒ‡å®šç±»å‹ï¼Œæ‰€ä»¥å°±è¯ç”Ÿäº†è”åˆç±»å‹å¸®åŠ©æˆ‘ä»¬æ ¹æ®ä¸åŒçš„æƒ…å†µè¿”å›ä¸åŒçš„ç»“æœ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Combination = <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: Combination, y: Combination</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">&#x27;string&#x27;</span> || <span class="keyword">typeof</span> y === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x.toString() + y.toString();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(myFun(<span class="number">1</span>,<span class="number">3</span>));</span><br><span class="line"><span class="built_in">console</span>.log(myFun(<span class="number">1</span>,<span class="string">&quot;3&quot;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½†å…¶å®åˆ°è¿™ä¸€æ­¥ï¼Œçœ‹ä¼¼æ²¡æœ‰é—®é¢˜äº†ï¼Œå®é™…ä¸Šæ–°çš„é—®é¢˜åˆäº§ç”Ÿäº†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Combination = <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: Combination, y: Combination</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">&#x27;string&#x27;</span> || <span class="keyword">typeof</span> y === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x.toString() + y.toString();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = myFun(<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;def&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line">result.split(<span class="string">&quot; &quot;</span>);<span class="comment">//æŠ¥é”™</span></span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹æç¤ºå¯ä»¥çŸ¥é“numberç±»å‹ä¸Šé¢æ²¡æœ‰æ–¹æ³•splitï¼Œä¸ºä»€ä¹ˆæ˜¯numberç±»å‹å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬è¿™ä¸ªå‚æ•°è™½ç„¶å®šä¹‰äº†ç»„åˆç±»å‹ï¼Œä½†æ˜¯æˆ‘ä»¬çš„tså¹¶ä¸çŸ¥é“è¿”å›å€¼æ˜¯ä»€ä¹ˆç±»å‹ï¼Œæ‰€ä»¥äº§ç”Ÿäº†å‡½æ•°é‡è½½</p><div class="note primary flat"><p>å‡½æ•°é‡è½½å°±æ˜¯ä½¿ç”¨ç›¸åŒå‡½æ•°åç§°å’Œä¸åŒå‚æ•°ç±»å‹æˆ–ä¸åŒå‚æ•°ä¸ªæ•°åˆ›å»ºæ–¹æ³•çš„ä¸€ç§èƒ½åŠ›</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Combination = <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">number</span></span>): <span class="title">number</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: <span class="built_in">string</span>, y: <span class="built_in">number</span></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: <span class="built_in">number</span>, y: <span class="built_in">string</span></span>): <span class="title">string</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: <span class="built_in">string</span>, y: <span class="built_in">string</span></span>): <span class="title">string</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">x: Combination, y: Combination</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">&#x27;string&#x27;</span> || <span class="keyword">typeof</span> y === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x.toString() + y.toString();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> result = myFun(<span class="string">&quot;abc&quot;</span>, <span class="string">&quot;def&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="keyword">const</span> res = result.split(<span class="string">&quot;b&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å®ç°äº†å‡½æ•°çš„é‡è½½</p><h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrintCoord</span>(<span class="params">pt:&#123;x: <span class="built_in">number</span>,y: <span class="built_in">number</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(pt.x,pt.y);</span><br><span class="line">&#125;</span><br><span class="line">PrintCoord(&#123;<span class="attr">x</span>:<span class="number">333</span>,<span class="attr">y</span>:<span class="number">44</span>&#125;)</span><br></pre></td></tr></table></figure><p>é…åˆå¯é€‰å‚æ•°+å¯é€‰é“¾çš„ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">PrintCoord</span>(<span class="params">pt:&#123;x: <span class="built_in">number</span>,y?: <span class="built_in">string</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(pt.y?.toUpperCase())</span><br><span class="line">&#125;</span><br><span class="line">PrintCoord(&#123;<span class="attr">x</span>:<span class="number">333</span>,<span class="attr">y</span>:<span class="string">&#x27;jojo&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure></p><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><p>æˆ‘ä»¬å®šä¹‰æ¥å£å¯ä»¥ç”¨äºç±»å‹çš„åç»­æ‹“å±•ï¼Œçœ‹åŸºç¡€åº”ç”¨å¦‚ä¸‹<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Point &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">number</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFun</span>(<span class="params">pt:Point</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> pt.x+pt.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(myFun(&#123;<span class="attr">x</span>:<span class="number">1</span>,<span class="attr">y</span>:<span class="number">2</span>&#125;))</span><br></pre></td></tr></table></figure></p><p>æ‹“å±•æ¥å£å¦‚ä¸‹ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Animal &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> Bear <span class="keyword">extends</span> Animal&#123;</span><br><span class="line">    <span class="attr">honey</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> bear: Bear = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;jobear&#x27;</span>,</span><br><span class="line">    <span class="attr">honey</span>:<span class="string">&#x27;èœ‚èœœ&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(bear)</span><br></pre></td></tr></table></figure></p><p>typeçš„æ‹“å±• é€šè¿‡&amp;ç¬¦å·<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Animal = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Bear = Animal &amp;&#123;</span><br><span class="line">    <span class="attr">honey</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> bear: Bear = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;jobear&#x27;</span>,</span><br><span class="line">    <span class="attr">honey</span>:<span class="string">&#x27;èœ‚èœœ&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(bear)</span><br></pre></td></tr></table></figure></p><p>å‘ç°æœ‰çš„ç±»å‹æ·»åŠ å­—æ®µ(é‡å¤å®šä¹‰æ¥å£åå­—æ·»åŠ )<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> jojo &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> jojo &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> j: jojo = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jojo&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(j)</span><br></pre></td></tr></table></figure></p><p>ç±»å‹åˆ›å»ºåä¸èƒ½æ›´æ”¹<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> jojo = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> jojo = &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æŠ¥é”™</span></span><br></pre></td></tr></table></figure></p><h2 id="void"><a href="#void" class="headerlink" title="void"></a>void</h2><p>voidè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼Œä¸€èˆ¬çš„ç”¨å¤„æ˜¯å‡½æ•°æ²¡æœ‰è¿”å›å€¼çš„æ—¶å€™å®šä¹‰ä¸ºvoid<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>): <span class="title">void</span></span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;this is a void function&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">myFunc()</span><br></pre></td></tr></table></figure></p><h2 id="never"><a href="#never" class="headerlink" title="never"></a>never</h2><p>neverè¡¨ç¤ºæ°¸ä¸å­˜åœ¨å€¼çš„ç±»å‹</p><p>æ¯”æ–¹è¯´å½“å‡½æ•°é‡åˆ°å¼‚å¸¸çš„æ—¶å€™ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°æ°¸è¿œéƒ½ä¸ä¼šæœ‰è¿”å›å€¼ï¼Œå› ä¸ºæŠ›å‡ºå¼‚å¸¸ç›´æ¥ä¸­æ–­äº†ç¨‹åºè¿è¡Œï¼Œä¸ä¼šåˆ°æœ€åä¸€æ­¥ã€‚</p><p>æˆ–è€…è¯´ä»£ç ä¸­é‡åˆ°æ— é™å¾ªç¯çš„æ—¶å€™ï¼Œç¨‹åºæ°¸è¿œåˆ°ä¸äº†æ‰§è¡Œå‡½æ•°è¿”å›å€¼çš„é‚£ä¸€æ­¥ï¼Œæ°¸ä¸å­˜åœ¨è¿”å›</p><p>ä½¿ç”¨çš„åœºæ™¯æ˜¯ï¼š<br>é’ˆå¯¹äºæˆ‘ä»¬çš„ä»£ç æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰çš„è”åˆç±»å‹è¢«ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆä¼šå› ä¸ºæˆ‘ä»¬äº‹å…ˆåœ¨æ¡ä»¶åˆ¤æ–­ä¸­å†™äº†neverä»è€ŒæŠ¥é”™ï¼Œå› æ­¤åœ¨ä»£ç çš„å®‰å…¨æ€§æ¥è®²neveræ˜¯æ¯”è¾ƒå¯é çš„ä½¿ç”¨ã€‚<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Foo = <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">controlFlowAnalysisWithNever</span>(<span class="params">foo: Foo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> foo === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œ foo è¢«æ”¶çª„ä¸º string ç±»å‹</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> foo === <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œ foo è¢«æ”¶çª„ä¸º number ç±»å‹</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// foo åœ¨è¿™é‡Œæ˜¯ never</span></span><br><span class="line">    <span class="keyword">const</span> check: <span class="built_in">never</span> = foo;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœæœ‰äººä¿®æ”¹äº†typeçš„ç±»å‹ å°†æŠ¥é”™</span></span><br></pre></td></tr></table></figure></p><h2 id="unknown"><a href="#unknown" class="headerlink" title="unknown"></a>unknown</h2><p>unknownå®šä¹‰çš„ç±»å‹å’Œanyä¸€æ ·å¯ä»¥èµ‹å…¨éƒ¨å€¼</p><h2 id="ä¸è¦å¼„æ··åŸå§‹ç±»å‹å’Œå¯¹è±¡ç±»å‹"><a href="#ä¸è¦å¼„æ··åŸå§‹ç±»å‹å’Œå¯¹è±¡ç±»å‹" class="headerlink" title="ä¸è¦å¼„æ··åŸå§‹ç±»å‹å’Œå¯¹è±¡ç±»å‹"></a>ä¸è¦å¼„æ··åŸå§‹ç±»å‹å’Œå¯¹è±¡ç±»å‹</h2><div class="note primary flat"><p>æˆ‘ä»¬åœ¨åˆå­¦tsçš„æ—¶å€™ï¼Œå¾ˆå®¹æ˜“æŠŠnumberï¼Œbooleanè¿™ä¸€ç±»å’Œ<code>Number Boolean</code>ææ··ï¼Œå®é™…ä¸Šå‰è€…å±äºåŸå§‹ç±»å‹ï¼Œåè€…å±äºåŸå§‹ç±»å‹çš„åŒ…è£…å¯¹è±¡ï¼Œåœ¨ä½¿ç”¨ä¸Šé¢ï¼Œå‰è€…å¯ä»¥èµ‹å€¼ç»™åè€…ï¼Œåè€…ä¸èƒ½èµ‹å€¼ç»™å‰è€…</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num: <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">let</span> Num: <span class="built_in">Number</span>;</span><br><span class="line">Num = num; <span class="comment">// ok</span></span><br><span class="line">num = Num; <span class="comment">// ts(2322)æŠ¥é”™</span></span><br></pre></td></tr></table></figure><h2 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h2><div class="note primary flat"><p>å…ƒç»„ç”¨æ¥é™åˆ¶æ•°ç»„å…ƒç´ çš„ä¸ªæ•°å’Œç±»å‹ï¼Œæ˜¯tsç‹¬æœ‰çš„æœºåˆ¶ï¼Œé€‚åˆç”¨äºå¤šå€¼è¿”å›</p></div><p>å…ƒç»„å®šä¹‰çš„æ•°æ®å¿…é¡»ç±»å‹å’Œä¸ªæ•°éƒ½è¦åŒ¹é…<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x: [<span class="built_in">string</span>, <span class="built_in">number</span>]; </span><br><span class="line"><span class="comment">// ç±»å‹å¿…é¡»åŒ¹é…ä¸”ä¸ªæ•°å¿…é¡»ä¸º2</span></span><br><span class="line"></span><br><span class="line">x = [<span class="string">&#x27;hello&#x27;</span>, <span class="number">10</span>]; <span class="comment">// OK </span></span><br><span class="line">x = [<span class="string">&#x27;hello&#x27;</span>, <span class="number">10</span>,<span class="number">10</span>]; <span class="comment">// Error </span></span><br><span class="line">x = [<span class="number">10</span>, <span class="string">&#x27;hello&#x27;</span>]; <span class="comment">// Error</span></span><br></pre></td></tr></table></figure></p><h3 id="å…ƒç»„çš„è§£æ„èµ‹å€¼"><a href="#å…ƒç»„çš„è§£æ„èµ‹å€¼" class="headerlink" title="å…ƒç»„çš„è§£æ„èµ‹å€¼"></a>å…ƒç»„çš„è§£æ„èµ‹å€¼</h3><div class="note primary flat"><p>å…ƒç»„ä¹Ÿæ˜¯æ”¯æŒè§£æ„èµ‹å€¼çš„</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> employee: [<span class="built_in">number</span>, <span class="built_in">string</span>] = [<span class="number">1</span>, <span class="string">&quot;Semlinker&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> [id, username] = employee;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`id: <span class="subst">$&#123;id&#125;</span>`</span>);<span class="comment">//id 1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`username: <span class="subst">$&#123;username&#125;</span>`</span>);<span class="comment">// username Semlinker</span></span><br></pre></td></tr></table></figure><h3 id="å…ƒç»„ç±»å‹çš„å¯é€‰å…ƒç´ "><a href="#å…ƒç»„ç±»å‹çš„å¯é€‰å…ƒç´ " class="headerlink" title="å…ƒç»„ç±»å‹çš„å¯é€‰å…ƒç´ "></a>å…ƒç»„ç±»å‹çš„å¯é€‰å…ƒç´ </h3><p>è§ä¾‹å­çŸ¥ç”¨æ³•<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Point = [<span class="built_in">number</span>, <span class="built_in">number</span>?, <span class="built_in">number</span>?];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> x: Point = [<span class="number">10</span>]; <span class="comment">// ä¸€ç»´åæ ‡ç‚¹</span></span><br><span class="line"><span class="keyword">const</span> xy: Point = [<span class="number">10</span>, <span class="number">20</span>]; <span class="comment">// äºŒç»´åæ ‡ç‚¹</span></span><br><span class="line"><span class="keyword">const</span> xyz: Point = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">10</span>]; <span class="comment">// ä¸‰ç»´åæ ‡ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(x.length); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(xy.length); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(xyz.length); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure></p><h3 id="å…ƒç»„çš„å‰©ä½™å…ƒç´ "><a href="#å…ƒç»„çš„å‰©ä½™å…ƒç´ " class="headerlink" title="å…ƒç»„çš„å‰©ä½™å…ƒç´ "></a>å…ƒç»„çš„å‰©ä½™å…ƒç´ </h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> RestTupleType = [<span class="built_in">number</span>, ...string[]];</span><br><span class="line"><span class="keyword">let</span> restTuple: RestTupleType = [<span class="number">666</span>, <span class="string">&quot;Semlinker&quot;</span>, <span class="string">&quot;Kakuqo&quot;</span>, <span class="string">&quot;Lolo&quot;</span>];</span><br><span class="line"><span class="built_in">console</span>.log(restTuple[<span class="number">0</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(restTuple[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure><h3 id="å…ƒç»„çš„åªè¯»ç±»å‹"><a href="#å…ƒç»„çš„åªè¯»ç±»å‹" class="headerlink" title="å…ƒç»„çš„åªè¯»ç±»å‹"></a>å…ƒç»„çš„åªè¯»ç±»å‹</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> point: <span class="keyword">readonly</span> [<span class="built_in">number</span>, <span class="built_in">number</span>] = [<span class="number">10</span>, <span class="number">20</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cannot assign to &#x27;0&#x27; because it is a read-only property.</span></span><br><span class="line">point[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// Property &#x27;push&#x27; does not exist on type &#x27;readonly [number, number]&#x27;.</span></span><br><span class="line">point.push(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// Property &#x27;pop&#x27; does not exist on type &#x27;readonly [number, number]&#x27;.</span></span><br><span class="line">point.pop();</span><br><span class="line"><span class="comment">// Property &#x27;splice&#x27; does not exist on type &#x27;readonly [number, number]&#x27;.</span></span><br><span class="line">point.splice(<span class="number">1</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><h1 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h1><p>tsæä¾›äº†as xxxè¿›è¡Œç±»å‹çš„æ–­è¨€ï¼Œè¿™æ ·å­æˆ‘ä»¬åœ¨è‡ªèº«æ¸…æ¥šå®é™…çš„ç±»å‹çš„æƒ…å†µä¸‹ï¼Œè®©ç¼–è¯‘å™¨ä¸è¦å¹²æ‰°ä½ çš„ç±»å‹å€¼ï¼Œå°±å¥½æ¯”anyï¼Œä½†æ˜¯ä½¿ç”¨äº†anyå°±å®Œå…¨æŒ‡å®šä¸äº†äº†ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayNumber: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> greaterThan2: <span class="built_in">number</span> = arrayNumber.find(<span class="function"><span class="params">num</span> =&gt;</span> num &gt; <span class="number">2</span>) <span class="keyword">as</span> <span class="built_in">number</span>;</span><br><span class="line"><span class="built_in">console</span>.log(greaterThan2)</span><br></pre></td></tr></table></figure></p><p>å‘Šè¯‰ç¼–è¯‘å™¨æˆ‘è¦ç¼–è¯‘å‡ºæ¥çš„ç»“æœæ˜¯ä»€ä¹ˆç±»å‹</p><p>è¯­æ³•å¦‚ä¸‹ï¼šä¸¤ç§ç±»å‹<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°–æ‹¬å· è¯­æ³•</span></span><br><span class="line"><span class="keyword">let</span> someValue: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> strLength: <span class="built_in">number</span> = (&lt;<span class="built_in">string</span>&gt;someValue).length;</span><br><span class="line"></span><br><span class="line"><span class="comment">// as è¯­æ³•</span></span><br><span class="line"><span class="keyword">let</span> someValue: <span class="built_in">any</span> = <span class="string">&quot;this is a string&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> strLength: <span class="built_in">number</span> = (someValue <span class="keyword">as</span> <span class="built_in">string</span>).length;</span><br></pre></td></tr></table></figure></p><p>å°–æ‹¬å·è¯­æ³•ä¼šå’Œreactä¸­çš„JSXå†²çªï¼Œæ‰€ä»¥æ›´æ¨èä½¿ç”¨as</p><h2 id="éç©ºæ–­è¨€"><a href="#éç©ºæ–­è¨€" class="headerlink" title="éç©ºæ–­è¨€"></a>éç©ºæ–­è¨€</h2><div class="note primary flat"><p>åœ¨ä¸Šä¸‹æ–‡ä¸­tsçš„ç±»å‹æ£€æŸ¥å™¨æ— æ³•åˆ¤æ–­ç±»å‹çš„æ—¶å€™ï¼Œä½¿ç”¨<code>!</code>å°±å¯ä»¥ç”¨äºæ–­è¨€æ“ä½œå¯¹è±¡æ˜¯énullå’Œéundefinedç±»å‹<br>ä¸¾ä¾‹ï¼Œx!å°†ä»xçš„å€¼åŸŸæ’é™¤nullå’Œundefined</p></div><p>eg<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> NumGenerator = <span class="function">() =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params">numGenerator: NumGenerator | <span class="literal">undefined</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Object is possibly &#x27;undefined&#x27;.(2532)</span></span><br><span class="line">  <span class="comment">// Cannot invoke an object which is possibly &#x27;undefined&#x27;.(2722)</span></span><br><span class="line">  <span class="keyword">const</span> num1 = numGenerator(); <span class="comment">// Error</span></span><br><span class="line">  <span class="keyword">const</span> num2 = numGenerator!(); <span class="comment">//OK</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="ç¡®å®šèµ‹å€¼æ–­è¨€"><a href="#ç¡®å®šèµ‹å€¼æ–­è¨€" class="headerlink" title="ç¡®å®šèµ‹å€¼æ–­è¨€"></a>ç¡®å®šèµ‹å€¼æ–­è¨€</h2><div class="note primary flat"><p>åœ¨å˜é‡å£°æ˜åé¢ä½¿ç”¨<code>!</code>è¿™ä¸ªæ–­è¨€,å‘Šè¯‰tsè¿™ä¸ªå˜é‡ä¼šè¢«æ˜ç¡®çš„èµ‹å€¼</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x!: <span class="built_in">number</span>;</span><br><span class="line">initialize();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span> * x); <span class="comment">// Ok</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initialize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  x = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸å†™è¯¥æ–­è¨€ï¼Œåˆ™ä¼šæŠ¥é”™ä¸ºè¯¥æ•°åœ¨èµ‹å€¼å‰è¢«ä½¿ç”¨äº†ã€‚</p><h1 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h1><div class="note primary flat"><p>tsç‹¬æœ‰çš„å®šä¹‰æ–¹å¼ï¼Œjsä¸­æ²¡æœ‰ï¼Œé€šè¿‡enumæ¥è¿›è¡Œå®šä¹‰</p></div><p>æšä¸¾ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬é€’å¢<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Direaction&#123;</span><br><span class="line">    UP=<span class="number">1</span>,</span><br><span class="line">    DOWN,</span><br><span class="line">    LEFT,</span><br><span class="line">    RIGHT</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Direaction.UP);</span><br><span class="line"><span class="built_in">console</span>.log(Direaction.RIGHT);</span><br><span class="line"><span class="built_in">console</span>.log(Direaction.DOWN);</span><br><span class="line"><span class="built_in">console</span>.log(Direaction.LEFT);</span><br><span class="line"><span class="comment">//1 4 2 3</span></span><br></pre></td></tr></table></figure></p><h1 id="ç±»å‹æ‹“å®½"><a href="#ç±»å‹æ‹“å®½" class="headerlink" title="ç±»å‹æ‹“å®½"></a>ç±»å‹æ‹“å®½</h1><div class="note primary flat"><p>é€šè¿‡tsæ¨æ–­å‡ºæ¥çš„ç±»å‹å°±æ˜¯å­—é¢é‡æ‹“å®½</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;this is string&#x27;</span>; <span class="comment">// ç±»å‹æ˜¯ string</span></span><br><span class="line"><span class="keyword">let</span> strFun = <span class="function">(<span class="params">str = <span class="string">&#x27;this is string&#x27;</span></span>) =&gt;</span> str; <span class="comment">// ç±»å‹æ˜¯ (str?: string) =&gt; string;</span></span><br><span class="line"><span class="keyword">const</span> specifiedStr = <span class="string">&#x27;this is string&#x27;</span>; <span class="comment">// ç±»å‹æ˜¯ &#x27;this is string&#x27;</span></span><br><span class="line"><span class="keyword">let</span> str2 = specifiedStr; <span class="comment">// ç±»å‹æ˜¯ &#x27;string&#x27;</span></span><br><span class="line"><span class="keyword">let</span> strFun2 = <span class="function">(<span class="params">str = specifiedStr</span>) =&gt;</span> str; <span class="comment">// ç±»å‹æ˜¯ (str?: string) =&gt; string;</span></span><br></pre></td></tr></table></figure><h1 id="ç±»å‹ç¼©å°"><a href="#ç±»å‹ç¼©å°" class="headerlink" title="ç±»å‹ç¼©å°"></a>ç±»å‹ç¼©å°</h1><div class="note primary flat"><p>å°†ç±»å‹å£°æ˜ç»†åŒ–ä¸ºæ›´å…·ä½“çš„ç±»å‹çš„è¿‡ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸ºç±»å‹ç¼©å°</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">padLeft</span>(<span class="params">padding: <span class="built_in">number</span> | <span class="built_in">string</span>, input: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> padding === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Array</span>(padding + <span class="number">1</span>).join(<span class="string">&quot; &quot;</span>) + input;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> padding + input</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çœŸå€¼ç¼©å°"><a href="#çœŸå€¼ç¼©å°" class="headerlink" title="çœŸå€¼ç¼©å°"></a>çœŸå€¼ç¼©å°</h2><div class="note primary flat"><p>ä½¿ç”¨æ¡ä»¶ã€<code>&amp;&amp;ã€||</code>ã€ifè¯­å¥ï¼Œå¸ƒå°”å¦å®š<code>!</code>è¿›è¡Œç¼©å°çš„æ–¹å¼ç§°ä¸ºçœŸå€¼ç¼©å°ï¼Œå¸¸è§å¦‚ä¸‹ï¼š</p></div><ol><li>å¼ºåˆ¶ç±»å‹è½¬æ¢</li><li>ä½¿ç”¨Boolean</li><li>ä½¿ç”¨<code>!!</code>ï¼Œç¬¬ä¸€ä¸ªå¹å·å°†æ–‡å­—è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹ï¼Œå†é€šè¿‡å¦å¤–ä¸€ä¸ªå¹å·è½¬æˆçœŸæ­£çš„trueæˆ–è€…false</li></ol><h2 id="ç­‰å€¼ç¼©å°"><a href="#ç­‰å€¼ç¼©å°" class="headerlink" title="ç­‰å€¼ç¼©å°"></a>ç­‰å€¼ç¼©å°</h2><div class="note primary flat"><p>tså¯ä»¥é€šè¿‡çœŸå€¼åˆ¤æ–­ç±»å‹ï¼Œå¦‚ä¸‹</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params">x: <span class="built_in">number</span>|<span class="built_in">string</span>, y:<span class="built_in">boolean</span>|<span class="built_in">string</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x===y)&#123;</span><br><span class="line">        x.toUpperCase;</span><br><span class="line">        y.toUpperCase;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="inç¼©å°"><a href="#inç¼©å°" class="headerlink" title="inç¼©å°"></a>inç¼©å°</h2><div class="note primary flat"><p>jsçš„inæ“ä½œç¬¦ç”¨äºç¡®å®šæŸä¸ªå¯¹è±¡æ˜¯å¦æ‹¥æœ‰è¯¥åç§°çš„å±æ€§</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220501210341.png" alt=""></p><h2 id="instanceofç¼©å°"><a href="#instanceofç¼©å°" class="headerlink" title="instanceofç¼©å°"></a>instanceofç¼©å°</h2><p>ç•¥</p><h2 id="åˆ†é…ç¼©å°"><a href="#åˆ†é…ç¼©å°" class="headerlink" title="åˆ†é…ç¼©å°"></a>åˆ†é…ç¼©å°</h2><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220501210631.png" alt=""></p><h2 id="ç±»å‹è°“è¯"><a href="#ç±»å‹è°“è¯" class="headerlink" title="ç±»å‹è°“è¯"></a>ç±»å‹è°“è¯</h2><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220501210749.png" alt=""></p><h1 id="å­—é¢é‡ç±»å‹"><a href="#å­—é¢é‡ç±»å‹" class="headerlink" title="å­—é¢é‡ç±»å‹"></a>å­—é¢é‡ç±»å‹</h1><div class="note primary flat"><p>tsæ”¯æŒä¸‰ç§å­—é¢é‡ç±»å‹ï¼šå­—ç¬¦ä¸²å­—é¢é‡ã€æ•°å­—å­—é¢é‡ã€å¸ƒå°”å­—é¢é‡</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> specifiedStr: <span class="string">&#x27;this is string&#x27;</span> = <span class="string">&#x27;this is string&#x27;</span>;</span><br><span class="line">  <span class="keyword">let</span> specifiedNum: <span class="number">1</span> = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> specifiedBoolean: <span class="literal">true</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h1><div class="note primary flat"><p>ä½¿ç”¨|ç¬¦å· </p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myFavoriteNumber: <span class="built_in">string</span> | <span class="built_in">number</span>;</span><br><span class="line">myFavoriteNumber = <span class="string">&#x27;seven&#x27;</span>; <span class="comment">// OK</span></span><br><span class="line">myFavoriteNumber = <span class="number">7</span>; <span class="comment">// OK</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="äº¤å‰ç±»å‹"><a href="#äº¤å‰ç±»å‹" class="headerlink" title="äº¤å‰ç±»å‹"></a>äº¤å‰ç±»å‹</h1><div class="note primary flat"><p>å’Œè”åˆç±»å‹å·®ä¸å¤šï¼Œä¸è¿‡è¿™é‡Œçš„ç¬¦å·ç”¨çš„æ˜¯&amp;ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯æ‰€æœ‰ç±»å‹éƒ½è¦æœ‰,ç±»ä¼¼äºæ±‚å¹¶é›†</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> IntersectionType = &#123; <span class="attr">id</span>: <span class="built_in">number</span>; name: <span class="built_in">string</span>; &#125; &amp; &#123; <span class="attr">age</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> mixed: IntersectionType = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note warning flat"><p>è¿™é‡Œå¼•ç”³å‡ºä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåˆå¹¶çš„æ˜¯åŒåçš„å±æ€§ç±»å‹ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ</p></div><p>æƒ…å†µ1 ä¸¤ä¸ªåŒåkey ä½†æ˜¯ç±»å‹ä¸åŒ<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> IntersectionTypeConfict = &#123; <span class="attr">id</span>: <span class="built_in">number</span>; name: <span class="built_in">string</span>; &#125; </span><br><span class="line">&amp; &#123; <span class="attr">age</span>: <span class="built_in">number</span>; name: <span class="built_in">number</span>; &#125;;</span><br><span class="line"><span class="keyword">const</span> mixedConflict: IntersectionTypeConfict = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="number">2</span>, <span class="comment">// ts(2322) é”™è¯¯ï¼Œ&#x27;number&#x27; ç±»å‹ä¸èƒ½èµ‹ç»™ &#x27;never&#x27; ç±»å‹</span></span><br><span class="line">  <span class="attr">age</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><br>è¿™ç§æƒ…å†µä¸‹ç›´æ¥pass</p><p>æƒ…å†µ2 ä¸¤ä¸ªåŒåkey ç±»å‹ç›¸åŒï¼Œ ä½†å…¶ä¸­ä¸€ä¸ªæ˜¯å¦ä¸€ä¸ªæ˜¯å­ç±»å‹<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> IntersectionTypeConfict = &#123; <span class="attr">id</span>: <span class="built_in">number</span>; name: <span class="number">2</span>; &#125; </span><br><span class="line">&amp; &#123; <span class="attr">age</span>: <span class="built_in">number</span>; name: <span class="built_in">number</span>; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mixedConflict: IntersectionTypeConfict = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="number">2</span>, <span class="comment">// ok</span></span><br><span class="line">  <span class="attr">age</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line">mixedConflict = &#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="number">22</span>, <span class="comment">// &#x27;22&#x27; ç±»å‹ä¸èƒ½èµ‹ç»™ &#x27;2&#x27; ç±»å‹</span></span><br><span class="line">  <span class="attr">age</span>: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><br>è¿™ç§æƒ…å†µä»¥å­ç±»å‹ä¸ºä¸»</p><p>æƒ…å†µ3 ä¸¤ä¸ªåŒåkey ç±»å‹ä¸æ˜¯åŸºæœ¬ç±»å‹<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  <span class="attr">x</span>:&#123;<span class="attr">d</span>:<span class="literal">true</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> B &#123;</span><br><span class="line">  <span class="attr">x</span>:&#123;<span class="attr">e</span>:<span class="built_in">string</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> C &#123;</span><br><span class="line">  <span class="attr">x</span>:&#123;<span class="attr">f</span>:<span class="built_in">number</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> ABC = A &amp; B &amp; C</span><br><span class="line"><span class="keyword">let</span> abc:ABC = &#123;</span><br><span class="line">  <span class="attr">x</span>:&#123;</span><br><span class="line">    <span class="attr">d</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">e</span>:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">f</span>:<span class="number">666</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>ç»“æœæ˜¯å¯ä»¥åˆå¹¶</p><h1 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h1><div class="note primary flat"><p>æ³›å‹å¯ä»¥å¸®åŠ©æˆ‘ä»¬å…³è”å‚æ•°çš„å€¼å’Œè¿”å›å€¼ä¹‹é—´çš„å…³ç³»ï¼Œè§ä¸‹é¢çš„ä¾‹å­ã€‚</p></div><p>éœ€æ±‚ï¼šå¦‚æœæˆ‘ä»¬è¦å®ç°ä¸€ä¸ªå‡½æ•° identityï¼Œå‡½æ•°çš„å‚æ•°å¯ä»¥æ˜¯ä»»ä½•å€¼ï¼Œè¿”å›å€¼å°±æ˜¯å°†å‚æ•°åŸæ ·è¿”å›ï¼Œå¹¶ä¸”å…¶åªèƒ½æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p><p>ç”±äºå…¶å¯ä»¥æ¥å—ä»»æ„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ çš„å‡½æ•°çš„å…¥å‚å’Œè¿”å›å€¼éƒ½åº”è¯¥å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚ ç°åœ¨è®©æˆ‘ä»¬ç»™ä»£ç å¢åŠ ç±»å‹å£°æ˜ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> idBoolean = <span class="function">(<span class="params">arg: <span class="built_in">boolean</span></span>) =&gt;</span> <span class="built_in">boolean</span>;</span><br><span class="line"><span class="keyword">type</span> idNumber = <span class="function">(<span class="params">arg: <span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">type</span> idString = <span class="function">(<span class="params">arg: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä¸‹æ¥ä½ æ¯æ¬¡éƒ½è¦å†™æ— ç©·æ— å°½çš„ä»£ç ï¼Œå¾ˆæ˜æ˜¾æ˜¯ä¸å¤ªåˆç†çš„ï¼Œæ‰€ä»¥å¼•å‡ºäº†æ³›å‹è¿™ä¸ªæ¦‚å¿µï¼Œä¸‹é¢çœ‹çœ‹æ³›å‹çš„ç”¨æ³•ï¼š<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­Tæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»å‹typeï¼Œåªæœ‰åœ¨è°ƒç”¨å®ƒçš„æ—¶å€™æ‰ç¡®å®šå®ƒçš„å€¼ã€‚</p><p>é™¤äº†Tä»¥å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„æ³›å‹ä»£è¡¨ï¼š</p><ol><li>K key è¡¨ç¤ºå¯¹è±¡ä¸­çš„é”®ç±»å‹</li><li>V value è¡¨ç¤ºå¯¹è±¡ä¸­çš„å€¼ç±»å‹</li><li>E element è¡¨ç¤ºå…ƒç´ ç±»å‹</li></ol><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220501211814.png" alt=""></p><p>å…¶å®å¹¶ä¸æ˜¯åªèƒ½å®šä¹‰ä¸€ä¸ªç±»å‹å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥è‡ªå®šä¹‰çš„ç±»å‹å˜é‡å¦‚ä¸‹<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">identity</span> &lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">value: T, message: U</span>) : <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(message);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(identity&lt;<span class="built_in">Number</span>, <span class="built_in">string</span>&gt;(<span class="number">68</span>, <span class="string">&quot;Semlinker&quot;</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>ä¹Ÿå¯ä»¥ç®€ç•¥çš„è°ƒç”¨,ç¼–è¯‘å™¨ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨è¯†åˆ«ã€‚<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(identity(<span class="number">68</span>, <span class="string">&quot;Semlinker&quot;</span>));</span><br></pre></td></tr></table></figure></p><h2 id="æ³›å‹çº¦æŸ"><a href="#æ³›å‹çº¦æŸ" class="headerlink" title="æ³›å‹çº¦æŸ"></a>æ³›å‹çº¦æŸ</h2><div class="note primary flat"><p>å¦‚æœæƒ³æ‰“å°å‡ºå‚æ•°çš„sizeï¼Œç›´æ¥ä½¿ç”¨æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºTåªæ˜¯ç±»å‹ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æ–¹æ³•çš„é›†åˆ</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trace</span>&lt;<span class="title">T</span>&gt;(<span class="params">arg: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arg.size); <span class="comment">// Error: Property &#x27;size doesn&#x27;t exist on type &#x27;T&#x27;</span></span><br><span class="line">  <span class="keyword">return</span> arg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä½•æ“ä½œä½¿å¾—ä»–èƒ½æ‹¥æœ‰è¿™ä¸ªsizeç±»å‹å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œåªè¦ä½ è‡ªå·±å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œè®©Tå»ç»§æ‰¿å³å¯<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Sizeable&#123;</span><br><span class="line">    <span class="attr">size</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trace</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">Sizeable</span>&gt;(<span class="params">args:T</span>): <span class="title">T</span></span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args.size);</span><br><span class="line">    <span class="keyword">return</span> args</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="æ³›å‹å·¥å…·ç±»å‹"><a href="#æ³›å‹å·¥å…·ç±»å‹" class="headerlink" title="æ³›å‹å·¥å…·ç±»å‹"></a>æ³›å‹å·¥å…·ç±»å‹</h2><div class="note primary flat"><p>ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…ï¼Œtsè®¾ç½®äº†ä¸€äº›å·¥å…·ç±»æ¯”å¦‚Partialã€Requiredã€Readonlyç­‰ã€‚ä½†æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€äº›åŸºç¡€çŸ¥è¯†æ–¹ä¾¿æˆ‘ä»¬åç»­ç”¨è¿™äº›å·¥å…·ç±»</p></div><h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><div class="note primary flat"><p>å…³äºtypeofæˆ‘ä»¬çŸ¥é“æ˜¯ç”¨äºåˆ¤æ–­ç±»å‹çš„ï¼Œä½†ä½ å¯èƒ½ä¸ä¼šåšä¸‹é¢è¿™æ ·çš„äº‹æƒ…</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> jojo: Person = &#123;<span class="attr">name</span>:<span class="string">&#x27;jojo&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;;</span><br><span class="line"><span class="keyword">type</span> JOJO = <span class="keyword">typeof</span> jojo;<span class="comment">//type JOJO = Person</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°ä»£ç ç”¨äº†typeofè·å–äº†å˜é‡çš„ç±»å‹å¹¶èµ‹ç»™äº†JOJOï¼Œåé¢æˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°JOJOç±»å‹</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œtypeofè¿˜å¯ä»¥ç”¨æ¥è·å–å‡½æ•°çš„ç±»å‹ã€å¯¹è±¡çš„ç»“æ„ç±»å‹<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Message = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;jimmy&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">address</span>: &#123;</span><br><span class="line">      <span class="attr">province</span>: <span class="string">&#x27;å››å·&#x27;</span>,</span><br><span class="line">      <span class="attr">city</span>: <span class="string">&#x27;æˆéƒ½&#x27;</span>   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> message = <span class="keyword">typeof</span> Message;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> type message = &#123;</span></span><br><span class="line"><span class="comment">    name: string;</span></span><br><span class="line"><span class="comment">    age: number;</span></span><br><span class="line"><span class="comment">    address: &#123;</span></span><br><span class="line"><span class="comment">        province: string;</span></span><br><span class="line"><span class="comment">        city: string;</span></span><br><span class="line"><span class="comment">    &#125;;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toArray</span>(<span class="params">x: <span class="built_in">number</span></span>): <span class="title">Array</span>&lt;<span class="title">number</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [x];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Func = <span class="keyword">typeof</span> toArray; <span class="comment">// -&gt; (x: number) =&gt; number[]</span></span><br></pre></td></tr></table></figure></p><h3 id="keyof"><a href="#keyof" class="headerlink" title="keyof"></a>keyof</h3><div class="note primary flat"><p>è¯¥æ–¹æ³•è¿”å›ç±»å‹çš„æ‰€æœ‰é”®ï¼Œè¿”å›å€¼æ˜¯è”åˆç±»å‹</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> K1 = keyof Person; <span class="comment">// &quot;name&quot; | &quot;age&quot;</span></span><br><span class="line"><span class="keyword">type</span> K2 = keyof Person[]; <span class="comment">// &quot;length&quot; | &quot;toString&quot; | &quot;pop&quot; | &quot;push&quot; | &quot;concat&quot; | &quot;join&quot; </span></span><br><span class="line"><span class="keyword">type</span> K3 = keyof &#123; [x: <span class="built_in">string</span>]: Person &#125;;  <span class="comment">// string | number</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>keyofçš„ä½œç”¨<br><div class="note primary flat"><p>jsæ˜¯ä¸€é—¨é«˜åº¦åŠ¨æ€çš„è¯­è¨€ï¼Œæ‰€ä»¥æœ‰äº›æ—¶å€™åœ¨æˆ‘ä»¬çš„tsé‡Œé¢æƒ³è¦æ•è·åˆ°æŸäº›æ“ä½œå¯èƒ½å¾ˆéº»çƒ¦ï¼Œæ¯”å¦‚</p></div></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prop</span>(<span class="params">obj:<span class="built_in">object</span>,key:<span class="built_in">string</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> obj[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Element implicitly has an &#x27;any&#x27; type because expression of type &#x27;string&#x27; can&#x27;t be used to index type &#x27;&#123;&#125;&#x27;.</span></span><br></pre></td></tr></table></figure><p>å…ƒç´ éšå¼çš„æ‹¥æœ‰anyç±»å‹ï¼Œæ‰€ä»¥stringç±»å‹ä¸èƒ½ç”¨äºç´¢å¼•{}ç±»å‹ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åˆ©ç”¨åˆ°keyofå’Œæ³›å‹æ¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prop</span>&lt;<span class="title">T</span> <span class="title">extend</span> <span class="title">object</span>,<span class="title">K</span> <span class="title">extends</span> <span class="title">keyof</span> <span class="title">T</span>&gt;(<span class="params">obj: T,key: K</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> obj[key];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¿°çš„ä»£ç ä¸­ï¼ŒTçº¦æŸäº†objectï¼ŒKçº¦æŸäº†Tçš„æ‰€æœ‰é”®ï¼Œæ‰€ä»¥éå¸¸çš„åˆç†ï¼Œæ­¤æ—¶è®¿é—®ä¸å­˜åœ¨çš„å±æ€§çš„æ—¶å€™ï¼Œä¹Ÿä¼šæç¤ºé”™è¯¯äº†ã€‚</p><h3 id="in-å…·ä½“åœºæ™¯ï¼Ÿ"><a href="#in-å…·ä½“åœºæ™¯ï¼Ÿ" class="headerlink" title="in(å…·ä½“åœºæ™¯ï¼Ÿ)"></a>in(å…·ä½“åœºæ™¯ï¼Ÿ)</h3><div class="note primary flat"><p>inç”¨æ¥éå†æšä¸¾ç±»å‹</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Keys = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Obj =  &#123;</span><br><span class="line">  [p <span class="keyword">in</span> Keys]: <span class="built_in">any</span></span><br><span class="line">&#125; <span class="comment">// -&gt; &#123; a: any, b: any, c: any &#125;</span></span><br></pre></td></tr></table></figure><h3 id="infer"><a href="#infer" class="headerlink" title="infer"></a>infer</h3><div class="note primary flat"><p>inferå°±æ˜¯å–åˆ°å‡½æ•°å€¼çš„è¿”å›ç±»å‹ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ReturnType&lt;T&gt; = T <span class="keyword">extends</span> (</span><br><span class="line">  ...args: <span class="built_in">any</span>[]</span><br><span class="line">) =&gt; infer R ? R : <span class="built_in">any</span>;</span><br></pre></td></tr></table></figure><h3 id="extends"><a href="#extends" class="headerlink" title="extends"></a>extends</h3><div class="note primary flat"><p>æ·»åŠ çº¦æŸï¼Œä¸Šé¢å·²ç»è®²åˆ°äº†ç”¨æ³•å’Œåœºæ™¯ï¼Œç•¥</p></div><h3 id="ç´¢å¼•ç±»å‹"><a href="#ç´¢å¼•ç±»å‹" class="headerlink" title="ç´¢å¼•ç±»å‹"></a>ç´¢å¼•ç±»å‹</h3><div class="note primary flat"><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨å¯¹è±¡ä¸­è·å–ä¸€äº›å€¼ç„¶åå»ºç«‹å¯¹åº”çš„é›†åˆ</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;musion&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">35</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValues</span>(<span class="params">person: <span class="built_in">any</span>, keys: <span class="built_in">string</span>[]</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> keys.map(<span class="function"><span class="params">key</span> =&gt;</span> person[key])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(getValues(person, [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>])) <span class="comment">// [&#x27;musion&#x27;, 35]</span></span><br><span class="line"><span class="built_in">console</span>.log(getValues(person, [<span class="string">&#x27;gender&#x27;</span>])) <span class="comment">// [undefined]</span></span><br></pre></td></tr></table></figure><p>ä½†æ­¤æ—¶tså¹¶æ²¡æœ‰å¯¹ä¸å­˜åœ¨çš„å€¼è¿›è¡ŒæŠ¥é”™ï¼Œé€šè¿‡è¿™é‡Œæˆ‘ä»¬æƒ³åˆ°äº†keyof+extends,ç»“åˆæˆ‘ä»¬çš„ç´¢å¼•ç±»å‹æ“ä½œç¬¦[]</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValues</span>&lt;<span class="title">T</span>, <span class="title">K</span> <span class="title">extends</span> <span class="title">keyof</span> <span class="title">T</span>&gt;(<span class="params">person: T, keys: K[]</span>): <span class="title">T</span>[<span class="title">K</span>][] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> keys.map(<span class="function"><span class="params">key</span> =&gt;</span> person[key]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> Person &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">    age: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person: Person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;musion&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">35</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getValues(person, [<span class="string">&#x27;name&#x27;</span>]) <span class="comment">// [&#x27;musion&#x27;]</span></span><br><span class="line">getValues(person, [<span class="string">&#x27;gender&#x27;</span>]) <span class="comment">// æŠ¥é”™ï¼š</span></span><br><span class="line"><span class="comment">// Argument of Type &#x27;&quot;gender&quot;[]&#x27; is not assignable to parameter of type &#x27;(&quot;name&quot; | &quot;age&quot;)[]&#x27;.</span></span><br><span class="line"><span class="comment">// Type &quot;gender&quot; is not assignable to type &quot;name&quot; | &quot;age&quot;.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>T[K]</code>è¡¨ç¤ºå¯¹è±¡Tçš„å±æ€§Kæ‰€è¡¨ç¤ºçš„ç±»å‹ï¼Œé‚£ä¹ˆ<code>T[K][]</code>å°±æ˜¯å¯¹è±¡Tçš„å±æ€§Kæ‰€è¡¨ç¤ºç±»å‹çš„æ•°ç»„ã€‚</p><h3 id="æ˜ å°„ç±»å‹"><a href="#æ˜ å°„ç±»å‹" class="headerlink" title="æ˜ å°„ç±»å‹"></a>æ˜ å°„ç±»å‹</h3><div class="note primary flat"><p>æ ¹æ®æ—§çš„ç±»å‹åˆ›é€ å‡ºæ–°çš„ç±»å‹ï¼Œç§°ä¹‹ä¸ºæ˜ å°„ç±»å‹</p></div><p>æ˜ å°„ç±»å‹çš„ç”¨æ³•éå¸¸å·§å¦™ï¼Œå¦‚ä¸‹ä¾‹å­å°†æ¥å£çš„æ‰€æœ‰å±æ€§å˜æˆå¯é€‰<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> TestInterface&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¸Œæœ›å°†æ¥å£çš„æ‰€æœ‰å±æ€§å˜æˆå¯é€‰</span></span><br><span class="line"><span class="comment">//åœ¨tsä¸­å¯ä»¥é€šè¿‡+/-æ·»åŠ æˆ–è€…åˆ é™¤</span></span><br><span class="line"><span class="keyword">type</span> OptionTestInterface&lt;T&gt; = &#123;</span><br><span class="line">    [p <span class="keyword">in</span> keyof T]+?:T[p]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> newTestInterface = OptionTestInterface&lt;TestInterface&gt;</span><br><span class="line"><span class="comment">// type newTestInterface = &#123;</span></span><br><span class="line"><span class="comment">//    name?:string,</span></span><br><span class="line"><span class="comment">//    age?:number</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>å°†æ¥å£çš„æ‰€æœ‰å±æ€§å˜æˆåªè¯»<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">type</span> OptionalTestInterface&lt;T&gt; = &#123;</span><br><span class="line"> +<span class="keyword">readonly</span> [p <span class="keyword">in</span> keyof T]+?:T[p]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> newTestInterface = OptionalTestInterface&lt;TestInterface&gt;</span><br><span class="line"><span class="comment">// type newTestInterface = &#123;</span></span><br><span class="line"><span class="comment">//   readonly name?:string,</span></span><br><span class="line"><span class="comment">//   readonly age?:number</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><p>ç”±äºç”Ÿæˆåªè¯»å’Œå¯é€‰å±æ€§æ¯”è¾ƒå¸¸ç”¨ï¼Œtså·²ç»å†…ç½®äº†Readonlyå’ŒPartialå·¥å…·ç±»å‹</p><h3 id="Partial-å¯é€‰"><a href="#Partial-å¯é€‰" class="headerlink" title="Partial å¯é€‰"></a>Partial å¯é€‰</h3><p>æˆ‘ä»¬çœ‹ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> UserInfo&#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å˜æˆå¯é€‰</span></span><br><span class="line"><span class="keyword">type</span> newUserInfo = Partial&lt;UserInfo&gt;;</span><br><span class="line"><span class="comment">//interfaceÂ newUserInfoÂ &#123;</span></span><br><span class="line"><span class="comment">//Â Â Â Â id?:Â string;</span></span><br><span class="line"><span class="comment">//Â Â Â Â name?:Â string;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><div class="note warning flat"><p>Partialæœ‰å±€é™æ€§ï¼Œä»–åªè´Ÿè´£ç¬¬ä¸€å±‚çš„æ•°æ®ï¼Œå¦‚æœå¤šå±‚å°±è¦è‡ªå·±å®ç°äº†ã€‚</p></div><h3 id="DeepPartial-æ·±åº¦å¯é€‰"><a href="#DeepPartial-æ·±åº¦å¯é€‰" class="headerlink" title="DeepPartial æ·±åº¦å¯é€‰"></a>DeepPartial æ·±åº¦å¯é€‰</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> DeepPartial&lt;T&gt; = &#123;</span><br><span class="line">    [U <span class="keyword">in</span> keyof T]?: T[U] <span class="keyword">extends</span> <span class="built_in">object</span></span><br><span class="line">    ? DeepPartial&lt;T[U]&gt;</span><br><span class="line">    : T[U]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> PartialedWindow = DeepPartial&lt;T&gt;; </span><br><span class="line"><span class="comment">//æ‰€æœ‰å±æ€§éƒ½å˜æˆå¯é€‰äº†</span></span><br></pre></td></tr></table></figure><h3 id="Required-å¿…é€‰"><a href="#Required-å¿…é€‰" class="headerlink" title="Required å¿…é€‰"></a>Required å¿…é€‰</h3><div class="note primary flat"><p>å°†æ‰€æœ‰å±æ€§å˜æˆå¿…é€‰</p></div><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span>Â Required&lt;T&gt;Â =Â &#123;Â </span><br><span class="line">Â Â Â Â [PÂ <span class="keyword">in</span>Â keyofÂ T]-?:Â T[P]Â </span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…¶ä¸­<code>-?</code>æ˜¯ä¸ºäº†ç§»é™¤å¯é€‰</p><h3 id="Readonly-åªè¯»"><a href="#Readonly-åªè¯»" class="headerlink" title="Readonly åªè¯»"></a>Readonly åªè¯»</h3><div class="note primary flat"><p>åªè¯»ï¼Œä¸å¯ä¿®æ”¹</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Readonly&lt;T&gt; = &#123;</span><br><span class="line"> <span class="keyword">readonly</span> [P <span class="keyword">in</span> keyof T]: T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>eg<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Todo &#123;</span><br><span class="line"> <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todo: Readonly&lt;Todo&gt; = &#123;</span><br><span class="line"> <span class="attr">title</span>: <span class="string">&quot;Delete inactive users&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">todo.title = <span class="string">&quot;Hello&quot;</span>; <span class="comment">// Error: cannot reassign a readonly property</span></span><br></pre></td></tr></table></figure></p><h3 id="Pick-æŒ‘é€‰å±æ€§"><a href="#Pick-æŒ‘é€‰å±æ€§" class="headerlink" title="Pick æŒ‘é€‰å±æ€§"></a>Pick æŒ‘é€‰å±æ€§</h3><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span>Â Pick&lt;T,Â KÂ <span class="keyword">extends</span>Â keyofÂ T&gt;Â =Â &#123;</span><br><span class="line">Â Â Â Â [PÂ <span class="keyword">in</span>Â K]:Â T[P];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Todo &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  description: <span class="built_in">string</span>;</span><br><span class="line">  completed: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TodoPreview = Pick&lt;Todo, <span class="string">&quot;title&quot;</span> | <span class="string">&quot;completed&quot;</span>&gt;;</span><br><span class="line"><span class="comment">//TodoPreview åªæœ‰titleå’Œcompletedäº†</span></span><br><span class="line"><span class="keyword">const</span> todo: TodoPreview = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;Clean room&quot;</span>,</span><br><span class="line">  <span class="attr">completed</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="Record"><a href="#Record" class="headerlink" title="Record"></a>Record</h3><div class="note primary flat"><p>å°†Kä¸­æ‰€æœ‰å±æ€§å€¼è½¬æ¢ä¸ºTç±»å‹</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span>Â Record&lt;KÂ <span class="keyword">extends</span>Â keyofÂ <span class="built_in">any</span>,Â T&gt;Â =Â &#123;</span><br><span class="line">Â Â Â Â [PÂ <span class="keyword">in</span>Â K]:Â T;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> PageInfo &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Page = <span class="string">&quot;home&quot;</span> | <span class="string">&quot;about&quot;</span> | <span class="string">&quot;contact&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> x: Record&lt;Page, PageInfo&gt; = &#123;</span><br><span class="line">  <span class="attr">about</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;about&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">contact</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;contact&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">home</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;home&quot;</span> &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="ReturnType-è·å–è¿”å›ç±»å‹"><a href="#ReturnType-è·å–è¿”å›ç±»å‹" class="headerlink" title="ReturnType è·å–è¿”å›ç±»å‹"></a>ReturnType è·å–è¿”å›ç±»å‹</h3><div class="note primary flat"><p>å¾—åˆ°å‡½æ•°çš„è¿”å›å€¼ç±»å‹</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span>Â ReturnType&lt;TÂ <span class="keyword">extends</span>Â (...args:Â <span class="built_in">any</span>[])Â =&gt;Â <span class="built_in">any</span>&gt;Â =Â TÂ <span class="keyword">extends</span>Â (</span><br><span class="line">Â Â ...args:Â <span class="built_in">any</span>[]</span><br><span class="line">)Â =&gt;Â inferÂ R</span><br><span class="line">Â Â ?Â R</span><br><span class="line">Â Â :Â <span class="built_in">any</span>;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span>Â FuncÂ =Â <span class="function">(<span class="params">value:Â <span class="built_in">number</span></span>)Â =&gt;</span>Â <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">const</span>Â foo:Â ReturnType&lt;Func&gt;Â =Â <span class="string">&quot;1&quot;</span>;</span><br></pre></td></tr></table></figure><br><code>ReturnType</code>è·å–åˆ°Funcçš„ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥fooä¹Ÿåªèƒ½è¢«èµ‹ä¸ºå­—ç¬¦ä¸²äº†</p><h3 id="Exclude-ç§»é™¤"><a href="#Exclude-ç§»é™¤" class="headerlink" title="Exclude ç§»é™¤"></a>Exclude ç§»é™¤</h3><div class="note primary flat"><p>å°†æŸä¸ªç±»å‹ä¸­å±äºå¦å¤–ä¸€ä¸ªçš„ç±»å‹ç§»é™¤ï¼Œç±»ä¼¼äºç±»å‹å»é‡</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Exclude&lt;T, U&gt; = T <span class="keyword">extends</span> U ? <span class="built_in">never</span> : T;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T0 = Exclude&lt;<span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span>&gt;; <span class="comment">// &quot;b&quot; | &quot;c&quot;</span></span><br><span class="line"><span class="keyword">type</span> T1 = Exclude&lt;<span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span>&gt;; <span class="comment">// &quot;c&quot;</span></span><br><span class="line"><span class="keyword">type</span> T2 = Exclude&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | (<span class="function">() =&gt;</span> <span class="built_in">void</span>), <span class="built_in">Function</span>&gt;; <span class="comment">// string | number</span></span><br></pre></td></tr></table></figure></p><h3 id="Extract-æå–"><a href="#Extract-æå–" class="headerlink" title="Extract æå–"></a>Extract æå–</h3><div class="note primary flat"><p>ä»Tä¸­æå–U,ç±»ä¼¼äºæ‰¾åˆ°å”¯ä¸€å€¼</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Extract&lt;T, U&gt; = T <span class="keyword">extends</span> U ? T : <span class="built_in">never</span>;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T0 = Extract&lt;<span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span>, <span class="string">&quot;a&quot;</span> | <span class="string">&quot;f&quot;</span>&gt;; <span class="comment">// &quot;a&quot;</span></span><br><span class="line"><span class="keyword">type</span> T1 = Extract&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | (<span class="function">() =&gt;</span> <span class="built_in">void</span>), <span class="built_in">Function</span>&gt;; <span class="comment">// () =&gt;void</span></span><br></pre></td></tr></table></figure></p><h3 id="Omit-æ’ä»–"><a href="#Omit-æ’ä»–" class="headerlink" title="Omit æ’ä»–"></a>Omit æ’ä»–</h3><div class="note primary flat"><p>Omitç±»ä¼¼äºæ’ä»–æ€æƒ³ é™¤äº†è‡ªå·±ä¹‹å¤–çš„éƒ½èƒ½ç”¨</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Omit&lt;T, K <span class="keyword">extends</span> keyof <span class="built_in">any</span>&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Todo &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line">  description: <span class="built_in">string</span>;</span><br><span class="line">  completed: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> TodoPreview = Omit&lt;Todo, <span class="string">&quot;description&quot;</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> todo: TodoPreview = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;Clean room&quot;</span>,</span><br><span class="line">  <span class="attr">completed</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="NonNullable-æ’null-amp-undefined"><a href="#NonNullable-æ’null-amp-undefined" class="headerlink" title="NonNullable æ’null&amp;undefined"></a>NonNullable æ’null&amp;undefined</h3><div class="note primary flat"><p>NonNullableç”¨äºè¿‡æ»¤nullå’Œundefined</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> NonNullable&lt;T&gt; = T extendsnull | <span class="literal">undefined</span> ? <span class="built_in">never</span> : T;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T0 = NonNullable&lt;<span class="built_in">string</span> | <span class="built_in">number</span> | <span class="literal">undefined</span>&gt;; <span class="comment">// string | number</span></span><br><span class="line"><span class="keyword">type</span> T1 = NonNullable&lt;<span class="built_in">string</span>[] | <span class="literal">null</span> | <span class="literal">undefined</span>&gt;; <span class="comment">// string[]</span></span><br></pre></td></tr></table></figure></p><h3 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h3><div class="note primary flat"><p>ç”¨äºè·å–å‚æ•°ç±»å‹ç»„æˆçš„å…ƒç»„ç±»å‹</p></div><p>åŸç†<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Parameters&lt;T <span class="keyword">extends</span> (...args: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span>&gt; = T <span class="keyword">extends</span> (...args: infer P) =&gt; <span class="built_in">any</span></span><br><span class="line">? P : <span class="built_in">never</span>;</span><br></pre></td></tr></table></figure></p><p>ä¾‹å­<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A = Parameters&lt;<span class="function">() =&gt;</span><span class="built_in">void</span>&gt;; <span class="comment">// []</span></span><br><span class="line"><span class="keyword">type</span> B = Parameters&lt;typeofArray.isArray&gt;; <span class="comment">// [any]</span></span><br><span class="line"><span class="keyword">type</span> C = Parameters&lt;typeofparseInt&gt;; <span class="comment">// [string, (number | undefined)?]</span></span><br><span class="line"><span class="keyword">type</span> D = Parameters&lt;typeofMath.max&gt;; <span class="comment">// number[]</span></span><br></pre></td></tr></table></figure></p><h1 id="tsconfig-json"><a href="#tsconfig-json" class="headerlink" title="tsconfig.json"></a><code>tsconfig.json</code></h1><div class="note primary flat"><p>ä»–æ˜¯tsçš„é‡è¦é…ç½®æ–‡ä»¶ï¼Œç›¸å½“äº<code>vue.config.js</code>ï¼Œåœ¨è¿™é‡Œè®²å‡ ä¸ªé‡è¦çš„é…ç½®</p></div><p>files -è®¾ç½®è¦ç¼–è¯‘çš„æ–‡ä»¶åå­—<br>include -è®¾ç½®éœ€è¦è¿›è¡Œç¼–è¯‘çš„æ–‡ä»¶ï¼Œæ”¯æŒè·¯å¾„æ¨¡å¼åŒ¹é…<br>exclude -è®¾ç½®æ— éœ€ç¼–è¯‘çš„æ–‡ä»¶ï¼Œæ”¯æŒè·¯å¾„æ¨¡å¼åŒ¹é…<br>compilerOptions -è®¾ç½®ä¸ç¼–è¯‘æµç¨‹ç›¸å…³çš„é€‰é¡¹</p><h2 id="compilerOptions"><a href="#compilerOptions" class="headerlink" title="compilerOptions"></a>compilerOptions</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">/* åŸºæœ¬é€‰é¡¹ */</span></span><br><span class="line">    <span class="string">&quot;target&quot;</span>: <span class="string">&quot;es5&quot;</span>,                       <span class="comment">// æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬: &#x27;ES3&#x27; (default), &#x27;ES5&#x27;, &#x27;ES6&#x27;/&#x27;ES2015&#x27;, &#x27;ES2016&#x27;, &#x27;ES2017&#x27;, or &#x27;ESNEXT&#x27;</span></span><br><span class="line">    <span class="string">&quot;module&quot;</span>: <span class="string">&quot;commonjs&quot;</span>,                  <span class="comment">// æŒ‡å®šä½¿ç”¨æ¨¡å—: &#x27;commonjs&#x27;, &#x27;amd&#x27;, &#x27;system&#x27;, &#x27;umd&#x27; or &#x27;es2015&#x27;</span></span><br><span class="line">    <span class="string">&quot;lib&quot;</span>: [],                             <span class="comment">// æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;allowJs&quot;</span>: <span class="literal">true</span>,                       <span class="comment">// å…è®¸ç¼–è¯‘ javascript æ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;checkJs&quot;</span>: <span class="literal">true</span>,                       <span class="comment">// æŠ¥å‘Š javascript æ–‡ä»¶ä¸­çš„é”™è¯¯</span></span><br><span class="line">    <span class="string">&quot;jsx&quot;</span>: <span class="string">&quot;preserve&quot;</span>,                     <span class="comment">// æŒ‡å®š jsx ä»£ç çš„ç”Ÿæˆ: &#x27;preserve&#x27;, &#x27;react-native&#x27;, or &#x27;react&#x27;</span></span><br><span class="line">    <span class="string">&quot;declaration&quot;</span>: <span class="literal">true</span>,                   <span class="comment">// ç”Ÿæˆç›¸åº”çš„ &#x27;.d.ts&#x27; æ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;sourceMap&quot;</span>: <span class="literal">true</span>,                     <span class="comment">// ç”Ÿæˆç›¸åº”çš„ &#x27;.map&#x27; æ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;outFile&quot;</span>: <span class="string">&quot;./&quot;</span>,                       <span class="comment">// å°†è¾“å‡ºæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;outDir&quot;</span>: <span class="string">&quot;./&quot;</span>,                        <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">    <span class="string">&quot;rootDir&quot;</span>: <span class="string">&quot;./&quot;</span>,                       <span class="comment">// ç”¨æ¥æ§åˆ¶è¾“å‡ºç›®å½•ç»“æ„ --outDir.</span></span><br><span class="line">    <span class="string">&quot;removeComments&quot;</span>: <span class="literal">true</span>,                <span class="comment">// åˆ é™¤ç¼–è¯‘åçš„æ‰€æœ‰çš„æ³¨é‡Š</span></span><br><span class="line">    <span class="string">&quot;noEmit&quot;</span>: <span class="literal">true</span>,                        <span class="comment">// ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;importHelpers&quot;</span>: <span class="literal">true</span>,                 <span class="comment">// ä» tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•°</span></span><br><span class="line">    <span class="string">&quot;isolatedModules&quot;</span>: <span class="literal">true</span>,               <span class="comment">// å°†æ¯ä¸ªæ–‡ä»¶åšä¸ºå•ç‹¬çš„æ¨¡å— ï¼ˆä¸ &#x27;ts.transpileModule&#x27; ç±»ä¼¼ï¼‰.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥é€‰é¡¹ */</span></span><br><span class="line">    <span class="string">&quot;strict&quot;</span>: <span class="literal">true</span>,                        <span class="comment">// å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥é€‰é¡¹</span></span><br><span class="line">    <span class="string">&quot;noImplicitAny&quot;</span>: <span class="literal">true</span>,                 <span class="comment">// åœ¨è¡¨è¾¾å¼å’Œå£°æ˜ä¸Šæœ‰éšå«çš„ anyç±»å‹æ—¶æŠ¥é”™</span></span><br><span class="line">    <span class="string">&quot;strictNullChecks&quot;</span>: <span class="literal">true</span>,              <span class="comment">// å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥</span></span><br><span class="line">    <span class="string">&quot;noImplicitThis&quot;</span>: <span class="literal">true</span>,                <span class="comment">// å½“ this è¡¨è¾¾å¼å€¼ä¸º any ç±»å‹çš„æ—¶å€™ï¼Œç”Ÿæˆä¸€ä¸ªé”™è¯¯</span></span><br><span class="line">    <span class="string">&quot;alwaysStrict&quot;</span>: <span class="literal">true</span>,                  <span class="comment">// ä»¥ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥æ¯ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨æ¯ä¸ªæ–‡ä»¶é‡ŒåŠ å…¥ &#x27;use strict&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* é¢å¤–çš„æ£€æŸ¥ */</span></span><br><span class="line">    <span class="string">&quot;noUnusedLocals&quot;</span>: <span class="literal">true</span>,                <span class="comment">// æœ‰æœªä½¿ç”¨çš„å˜é‡æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="string">&quot;noUnusedParameters&quot;</span>: <span class="literal">true</span>,            <span class="comment">// æœ‰æœªä½¿ç”¨çš„å‚æ•°æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="string">&quot;noImplicitReturns&quot;</span>: <span class="literal">true</span>,             <span class="comment">// å¹¶ä¸æ˜¯æ‰€æœ‰å‡½æ•°é‡Œçš„ä»£ç éƒ½æœ‰è¿”å›å€¼æ—¶ï¼ŒæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">    <span class="string">&quot;noFallthroughCasesInSwitch&quot;</span>: <span class="literal">true</span>,    <span class="comment">// æŠ¥å‘Š switch è¯­å¥çš„ fallthrough é”™è¯¯ã€‚ï¼ˆå³ï¼Œä¸å…è®¸ switch çš„ case è¯­å¥è´¯ç©¿ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* æ¨¡å—è§£æé€‰é¡¹ */</span></span><br><span class="line">    <span class="string">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>,            <span class="comment">// é€‰æ‹©æ¨¡å—è§£æç­–ç•¥ï¼š &#x27;node&#x27; (Node.js) or &#x27;classic&#x27; (TypeScript pre-1.6)</span></span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,                       <span class="comment">// ç”¨äºè§£æéç›¸å¯¹æ¨¡å—åç§°çš„åŸºç›®å½•</span></span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;&#125;,                           <span class="comment">// æ¨¡å—ååˆ°åŸºäº baseUrl çš„è·¯å¾„æ˜ å°„çš„åˆ—è¡¨</span></span><br><span class="line">    <span class="string">&quot;rootDirs&quot;</span>: [],                        <span class="comment">// æ ¹æ–‡ä»¶å¤¹åˆ—è¡¨ï¼Œå…¶ç»„åˆå†…å®¹è¡¨ç¤ºé¡¹ç›®è¿è¡Œæ—¶çš„ç»“æ„å†…å®¹</span></span><br><span class="line">    <span class="string">&quot;typeRoots&quot;</span>: [],                       <span class="comment">// åŒ…å«ç±»å‹å£°æ˜çš„æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">    <span class="string">&quot;types&quot;</span>: [],                           <span class="comment">// éœ€è¦åŒ…å«çš„ç±»å‹å£°æ˜æ–‡ä»¶ååˆ—è¡¨</span></span><br><span class="line">    <span class="string">&quot;allowSyntheticDefaultImports&quot;</span>: <span class="literal">true</span>,  <span class="comment">// å…è®¸ä»æ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Source Map Options */</span></span><br><span class="line">    <span class="string">&quot;sourceRoot&quot;</span>: <span class="string">&quot;./&quot;</span>,                    <span class="comment">// æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ° TypeScript æ–‡ä»¶è€Œä¸æ˜¯æºæ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">    <span class="string">&quot;mapRoot&quot;</span>: <span class="string">&quot;./&quot;</span>,                       <span class="comment">// æŒ‡å®šè°ƒè¯•å™¨åº”è¯¥æ‰¾åˆ°æ˜ å°„æ–‡ä»¶è€Œä¸æ˜¯ç”Ÿæˆæ–‡ä»¶çš„ä½ç½®</span></span><br><span class="line">    <span class="string">&quot;inlineSourceMap&quot;</span>: <span class="literal">true</span>,               <span class="comment">// ç”Ÿæˆå•ä¸ª soucemaps æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°† sourcemaps ç”Ÿæˆä¸åŒçš„æ–‡ä»¶</span></span><br><span class="line">    <span class="string">&quot;inlineSources&quot;</span>: <span class="literal">true</span>,                 <span class="comment">// å°†ä»£ç ä¸ sourcemaps ç”Ÿæˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¦æ±‚åŒæ—¶è®¾ç½®äº† --inlineSourceMap æˆ– --sourceMap å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* å…¶ä»–é€‰é¡¹ */</span></span><br><span class="line">    <span class="string">&quot;experimentalDecorators&quot;</span>: <span class="literal">true</span>,        <span class="comment">// å¯ç”¨è£…é¥°å™¨</span></span><br><span class="line">    <span class="string">&quot;emitDecoratorMetadata&quot;</span>: <span class="literal">true</span>          <span class="comment">// ä¸ºè£…é¥°å™¨æä¾›å…ƒæ•°æ®çš„æ”¯æŒ</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="JSç³»åˆ—" scheme="https://zlinni.github.io/categories/JS%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="js" scheme="https://zlinni.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯ç™»é™†æŒ‡å—</title>
    <link href="https://zlinni.github.io/posts/3355969119/"/>
    <id>https://zlinni.github.io/posts/3355969119/</id>
    <published>2022-04-24T02:15:14.000Z</published>
    <updated>2022-04-25T02:41:30.129Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>å‰ç«¯ç™»é™†çš„å››ç§æ–¹å¼ä»‹ç»ä»¥åŠåº”ç”¨</p></div><p>å…³é”®è¯ï¼šCookie/Sessionã€Tokenã€SSOå•ç‚¹ç™»å½•ã€OAuthç¬¬ä¸‰æ–¹ç™»é™†<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220424211445.png" alt=""></p><h1 id="éªŒè¯ç™»é™†"><a href="#éªŒè¯ç™»é™†" class="headerlink" title="éªŒè¯ç™»é™†"></a>éªŒè¯ç™»é™†</h1><ul><li>Cookie/Session</li><li>Token </li><li>SSO å•ç‚¹ç™»é™†</li><li>OAuthç¬¬ä¸‰æ–¹ç™»é™†</li></ul><h1 id="cookie-session"><a href="#cookie-session" class="headerlink" title="cookie session"></a>cookie session</h1><p>ç™»é™†æµç¨‹ï¼šé¦–æ¬¡ç™»é™†<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220414092439.png" alt=""></p><ol><li>ç”¨æˆ·è®¿é—®<code>a.com/pageA</code>å¹¶è¾“å…¥å¯†ç ç™»é™†</li><li>æœåŠ¡å™¨éªŒè¯å¯†ç æ— è¯¯åï¼Œä¼šåˆ›å»ºSession IDå¹¶å°†å…¶ä¿å­˜èµ·æ¥</li><li>æœåŠ¡ç«¯å“åº”è¿™ä¸ªè¯·æ±‚ï¼Œå¹¶é€šè¿‡Set-Cookieå°†Session IDå†™å…¥Cookieä¸­</li></ol><p>å†æ¬¡ç™»é™†ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220414092643.png" alt=""></p><ol><li>ç”¨æˆ·è®¿é—®<code>a.com/pageB</code>è‡ªåŠ¨å¸¦ä¸Šç¬¬ä¸€æ¬¡ç™»é™†å†™å…¥çš„Cookie</li><li>æœåŠ¡ç«¯å¯¹æ¯”Cookieä¸­çš„SessionIDå’Œä¿å­˜åœ¨æœåŠ¡ç«¯çš„SessionIDæ˜¯å¦ä¸€è‡´</li><li>ä¸€è‡´åˆ™æˆåŠŸ</li></ol><h2 id="cookie-sessionå­˜åœ¨çš„é—®é¢˜"><a href="#cookie-sessionå­˜åœ¨çš„é—®é¢˜" class="headerlink" title="cookie sessionå­˜åœ¨çš„é—®é¢˜"></a>cookie sessionå­˜åœ¨çš„é—®é¢˜</h2><ul><li>æœåŠ¡å™¨éœ€è¦å¯¹æ¥å¤§é‡çš„å®¢æˆ·ç«¯ï¼Œå¯¼è‡´æœåŠ¡å™¨å‹åŠ›å¤§ã€‚</li><li>å¦‚æœæœåŠ¡å™¨æ˜¯ä¸€ä¸ªé›†ç¾¤ï¼Œä¸ºäº†åŒæ­¥ç™»é™†æ€ï¼Œå°±éœ€è¦å°†SessionIDåŒæ­¥åˆ°æ¯ä¸€å°æœºå™¨ä¸Šï¼Œæ— å½¢ä¸­å¢åŠ äº†æœåŠ¡å™¨çš„ç»´æŠ¤æˆæœ¬ã€‚</li><li>ç”±äºSessionIDå­˜æ”¾åœ¨Cookieä¸­æ‰€ä»¥æ— æ³•é¿å…CSRFæ”»å‡»</li></ul><h1 id="tokenç™»é™†"><a href="#tokenç™»é™†" class="headerlink" title="tokenç™»é™†"></a>tokenç™»é™†</h1><p>ä¸ºäº†è§£å†³cookie+sessionæš´éœ²å‡ºæ¥çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨tokençš„ç™»é™†æ–¹å¼<br><div class="note primary flat"><p>tokenæ˜¯æœåŠ¡ç«¯ç”Ÿæˆçš„ä¸€ä¸²å­—ç¬¦ä¸²ï¼Œä»¥ä½œä¸ºå®¢æˆ·ç«¯è¯·æ±‚çš„ä¸€ä¸ªä»¤ç‰Œã€‚å½“ç¬¬ä¸€æ¬¡ç™»é™†å®Œæˆåï¼ŒæœåŠ¡å™¨ä¼šç”Ÿæˆä¸€ä¸ªtokenå¹¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯åç»­è®¿é—®åªè¦å¸¦ä¸Šè¿™ä¸ªtokenå°±å¯ä»¥å®Œæˆèº«ä»½éªŒè¯ã€‚</p></div></p><h2 id="tokenæœºåˆ¶å®ç°æµç¨‹"><a href="#tokenæœºåˆ¶å®ç°æµç¨‹" class="headerlink" title="tokenæœºåˆ¶å®ç°æµç¨‹"></a>tokenæœºåˆ¶å®ç°æµç¨‹</h2><p>é¦–æ¬¡ç™»é™†ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220414102745.png" alt=""></p><ol><li>ç”¨æˆ·è¾“å…¥è´¦å·å¯†ç ï¼Œå¹¶ç‚¹å‡»ç™»å½•ã€‚</li><li>æœåŠ¡å™¨ç«¯éªŒè¯è´¦å·å¯†ç æ— è¯¯ï¼Œåˆ›å»º Tokenã€‚</li><li>æœåŠ¡å™¨ç«¯å°† Token è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œç”±å®¢æˆ·ç«¯è‡ªç”±ä¿å­˜ã€‚</li></ol><p>åç»­é¡µé¢è®¿é—®æ—¶ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220414102830.png" alt=""></p><ol><li>ç”¨æˆ·è®¿é—® a.com/pageB æ—¶ï¼Œå¸¦ä¸Šç¬¬ä¸€æ¬¡ç™»å½•æ—¶è·å–çš„ Tokenã€‚</li><li>æœåŠ¡å™¨ç«¯éªŒè¯ Token ï¼Œæœ‰æ•ˆåˆ™èº«ä»½éªŒè¯æˆåŠŸã€‚</li></ol><h2 id="Token-æœºåˆ¶çš„ç‰¹ç‚¹"><a href="#Token-æœºåˆ¶çš„ç‰¹ç‚¹" class="headerlink" title="Token æœºåˆ¶çš„ç‰¹ç‚¹"></a>Token æœºåˆ¶çš„ç‰¹ç‚¹</h2><p>æ ¹æ®ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æå‡ºTokençš„ä¼˜ç¼ºç‚¹ï¼š</p><ul><li>æœåŠ¡å™¨ç«¯ä¸éœ€è¦å­˜æ”¾tokenï¼Œæ‰€ä»¥ä¸ä¼šå¯¹æœåŠ¡å™¨é€ æˆå‹åŠ›ï¼Œå³ä½¿æœåŠ¡å™¨é›†ç¾¤ï¼Œä¹Ÿä¸éœ€è¦å¢åŠ ç»´æŠ¤æˆæœ¬ã€‚</li><li>Tokenå¯ä»¥å­˜æ”¾åœ¨å‰ç«¯çš„ä»»ä½•åœ°æ–¹ï¼Œå¯ä»¥ä¸ç”¨ä¿å­˜åœ¨Cookieä¸­ï¼Œæå‡äº†é¡µé¢çš„å®‰å…¨æ€§ã€‚</li><li>Tokenä¸‹å‘ä¹‹åï¼Œåªè¦åœ¨ç”Ÿæ•ˆæ—¶é—´å†…ï¼Œå°±ä¸€ç›´æœ‰æ•ˆï¼Œå¦‚æœæœåŠ¡å™¨æƒ³æ”¶å›æ­¤tokençš„æƒé™ï¼Œå¹¶ä¸å®¹æ˜“ã€‚</li></ul><h2 id="Tokençš„ç”Ÿæˆæ–¹å¼"><a href="#Tokençš„ç”Ÿæˆæ–¹å¼" class="headerlink" title="Tokençš„ç”Ÿæˆæ–¹å¼"></a>Tokençš„ç”Ÿæˆæ–¹å¼</h2><p>æœ€å¸¸è§çš„Tokenç”Ÿæˆæ–¹å¼æ˜¯ä½¿ç”¨JWTï¼Œä»–æ˜¯ä¸€ç§ç®€æ´çš„ï¼Œè‡ªåŒ…å«çš„æ–¹æ³•ç”¨äºé€šä¿¡åŒæ–¹ä¹‹é—´ä»¥JSONå¯¹è±¡çš„å½¢å¼å®‰å…¨çš„ä¼ é€’ä¿¡æ¯ã€‚</p><p>ä¸Šæ–‡ä¸­æˆ‘ä»¬è¯´åˆ°ï¼Œä½¿ç”¨Tokenåï¼ŒæœåŠ¡å™¨ç«¯å¹¶ä¸ä¼šå­˜å‚¨Tokenï¼Œé‚£æ€ä¹ˆåˆ¤æ–­å®¢æˆ·ç«¯çš„tokenæ˜¯å¦åˆæ³•æœ‰æ•ˆï¼Ÿ</p><p>ç­”æ¡ˆå…¶å®å°±åœ¨Tokenå­—ç¬¦ä¸²ä¸­ï¼Œå…¶å®Tokenå¹¶ä¸æ˜¯ä¸€ä¸²æ‚ä¹±æ— ç« çš„å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯é€šè¿‡å¤šç§ç®—æ³•æ‹¼æ¥ç»„åˆè€Œæˆçš„å­—ç¬¦ä¸²ã€‚å¦‚ä¸‹ï¼š</p><p>JWTç®—æ³•ä¸»è¦åˆ†æˆäº†ä¸‰ä¸ªéƒ¨åˆ† </p><ul><li>header å¤´ä¿¡æ¯</li><li>payload æ¶ˆæ¯ä½“</li><li>signature ç­¾å</li></ul><p>headeréƒ¨åˆ†æŒ‡å®šäº†JWTä½¿ç”¨çš„ç­¾åç®—æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">header = <span class="string">&#x27;&#123;&quot;alg&quot;:&quot;HS256&quot;,&quot;typ&quot;:&quot;JWT&quot;&#125;&#x27;</span>   <span class="comment">// `HS256` è¡¨ç¤ºä½¿ç”¨äº† HMAC-SHA256 æ¥ç”Ÿæˆç­¾åã€‚</span></span><br></pre></td></tr></table></figure></p><p>payloadéƒ¨åˆ†æŒ‡æ˜äº†JWTçš„ä½¿ç”¨æ„å›¾<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payload = <span class="string">&#x27;&#123;&quot;loggedInAs&quot;:&quot;admin&quot;,&quot;iat&quot;:1422779638&#125;&#x27;</span>     <span class="comment">//iat è¡¨ç¤ºä»¤ç‰Œç”Ÿæˆçš„æ—¶é—´</span></span><br></pre></td></tr></table></figure></p><p>signatureéƒ¨åˆ†ä¸ºJWTçš„ç­¾å ä¸»è¦ä¸ºäº†è®©JWTä¸èƒ½éšæ„æ›´æ”¹ï¼Œç­¾åçš„æ–¹æ³•åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤</p><ol><li>è¾“å…¥base64urlç¼–ç çš„headeréƒ¨åˆ†ï¼Œbase64urlç¼–ç çš„payloadéƒ¨åˆ†ï¼Œè¾“å‡ºunsignedToken</li><li>è¾“å…¥æœåŠ¡å™¨ç«¯ç§é’¥ï¼ŒunsignedToken,è¾“å‡ºsignatureç­¾å</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> base64Header = encodeBase64(header)</span><br><span class="line"><span class="keyword">const</span> base64Payload = encodeBase64(payload)</span><br><span class="line"><span class="keyword">const</span> unsignedToken = <span class="string">`<span class="subst">$&#123;base64Header&#125;</span>.<span class="subst">$&#123;base64Payload&#125;</span>`</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;æœåŠ¡å™¨ç§é’¥&#x27;</span></span><br><span class="line"></span><br><span class="line">signature = HMAC(key, unsignedToken)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ€åTokenè®¡ç®—å¦‚ä¸‹ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> base64Header = encodeBase64(header)</span><br><span class="line"><span class="keyword">const</span> base64Payload = encodeBase64(payload)</span><br><span class="line"><span class="keyword">const</span> base64Signature = encodeBase64(signature)</span><br><span class="line"></span><br><span class="line">token = <span class="string">`<span class="subst">$&#123;base64Header&#125;</span>.<span class="subst">$&#123;base64Payload&#125;</span>.<span class="subst">$&#123;base64Signature&#125;</span>`</span></span><br></pre></td></tr></table></figure></p><p>æœåŠ¡å™¨åœ¨åˆ¤æ–­tokençš„æ—¶å€™<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [base64Header, base64Payload, base64Signature] = token.split(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> signature1 = decodeBase64(base64Signature)</span><br><span class="line"><span class="keyword">const</span> unsignedToken = <span class="string">`<span class="subst">$&#123;base64Header&#125;</span>.<span class="subst">$&#123;base64Payload&#125;</span>`</span></span><br><span class="line"><span class="keyword">const</span> signature2 = HMAC(<span class="string">&#x27;æœåŠ¡å™¨ç§é’¥&#x27;</span>, unsignedToken)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(signature1 === signature2) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;ç­¾åéªŒè¯æˆåŠŸï¼Œtoken æ²¡æœ‰è¢«ç¯¡æ”¹&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> payload =  decodeBase64(base64Payload)</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">new</span> <span class="built_in">Date</span>() - payload.iat &lt; <span class="string">&#x27;token æœ‰æ•ˆæœŸ&#x27;</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;token æœ‰æ•ˆ&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æœ‰äº† Token ä¹‹åï¼Œç™»å½•æ–¹å¼å·²ç»å˜å¾—éå¸¸é«˜æ•ˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»å¦å¤–ä¸¤ç§ç™»å½•æ–¹å¼ã€‚</p><h1 id="SSOå•ç‚¹ç™»é™†"><a href="#SSOå•ç‚¹ç™»é™†" class="headerlink" title="SSOå•ç‚¹ç™»é™†"></a>SSOå•ç‚¹ç™»é™†</h1><div class="note primary flat"><p>å•ç‚¹ç™»é™†æŒ‡çš„æ˜¯åœ¨å…¬å¸å†…éƒ¨æ­å»ºä¸€ä¸ªå…¬å…±çš„è®¤è¯ä¸­å¿ƒï¼Œå…¬å¸ä¸‹çš„æ‰€æœ‰äº§å“çš„ç™»é™†éƒ½å¯ä»¥åœ¨è®¤è¯ä¸­å¿ƒä¸­å®Œæˆï¼Œä¸€ä¸ªäº§å“åœ¨è®¤è¯ä¸­å¿ƒç™»é™†åï¼Œå†å»è®¿é—®å¦å¤–ä¸€ä¸ªäº§å“ï¼Œå¯ä»¥ä¸ç”¨å†æ¬¡ç™»é™†ï¼Œå³å¯è·å–ç™»é™†çŠ¶æ€ã€‚</p></div><h2 id="SSOæœºåˆ¶å®ç°æµç¨‹"><a href="#SSOæœºåˆ¶å®ç°æµç¨‹" class="headerlink" title="SSOæœºåˆ¶å®ç°æµç¨‹"></a>SSOæœºåˆ¶å®ç°æµç¨‹</h2><p>åˆ†ä¸ºåŒåŸŸå’Œä¸åŒåŸŸã€‚</p><h3 id="åŒåŸŸçš„å•ç‚¹ç™»é™†"><a href="#åŒåŸŸçš„å•ç‚¹ç™»é™†" class="headerlink" title="åŒåŸŸçš„å•ç‚¹ç™»é™†"></a>åŒåŸŸçš„å•ç‚¹ç™»é™†</h3><p>æ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ªåŸŸåå«<code>zlinni.cn</code>,ç„¶åæˆ‘çš„å…¶ä»–é¡µé¢åˆ†åˆ«ä¸ºï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.zlinni.cn</span><br><span class="line">b.zlinni.cn</span><br><span class="line">c.zlinni.cn</span><br><span class="line">login.zlinni.cn<span class="comment">//ssoç™»é™†ç³»ç»Ÿ</span></span><br></pre></td></tr></table></figure></p><p>é‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬åªè¦æ»¡è¶³åœ¨loginä¸­ç™»é™†ï¼Œç„¶åabcä¸‰ä¸ªéƒ½ç™»é™†å°±å®Œæˆäº†sso</p><p>å®ç°çš„æ–¹å¼å°±æ˜¯åˆ©ç”¨äº†cookieçš„pathå’Œdomainï¼Œæˆ‘ä»¬è®¾ç½®domainä¸º<code>.zlinni.cn</code>ï¼Œç„¶åpathä¸º<code>/</code>å°±èƒ½å®ç°æ‰€æœ‰çš„åŸŸåéƒ½å…±äº«loginçš„cookieï¼Œå°±å®ç°äº†å•ç‚¹ç™»é™†ã€‚</p><h3 id="ä¸åŒåŸŸçš„å•ç‚¹ç™»é™†"><a href="#ä¸åŒåŸŸçš„å•ç‚¹ç™»é™†" class="headerlink" title="ä¸åŒåŸŸçš„å•ç‚¹ç™»é™†"></a>ä¸åŒåŸŸçš„å•ç‚¹ç™»é™†</h3><p>ç”¨æˆ·é¦–æ¬¡è®¿é—®éœ€è¦åœ¨è®¤è¯ä¸­å¿ƒç™»é™†ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220424182851.png" alt=""></p><ol><li>ç”¨æˆ·å…ˆè®¿é—®<code>a.com</code>ä¸‹é¢çš„pageAé¡µé¢ï¼Œç„¶åç³»ç»Ÿå‘ç°å®ƒæœªç™»é™†ï¼Œç»™å®ƒé‡å®šå‘åˆ°ssoè®¤è¯ä¸­å¿ƒ</li><li>åœ¨ssoä¸­æ³¨å†Œï¼Œæäº¤ç™»é™†</li><li>ssoéªŒè¯è´¦å·å¯†ç æœ‰æ•ˆï¼Œé‡å®šå‘åˆ°<code>a.com</code>å¹¶å¸¦ä¸Šæˆæƒç ticketï¼Œå†å°†ssoçš„ç™»å½•æ€å†™å…¥cookie</li><li>æ­¤æ—¶aå°±æ‹¿ç€ticketå»ssoä¸­éªŒè¯æ˜¯å¦æœ‰æ•ˆã€‚</li><li>åœ¨açš„æœåŠ¡å™¨ä¸­æ‹¿ç€ticketå‘ssoéªŒè¯ç¡®è®¤çœŸå®æ€§</li><li>éªŒè¯æˆåŠŸåï¼ŒæœåŠ¡å™¨å°†å†™å…¥ä¸¤ä¸ªä¿¡æ¯åˆ°cookieï¼Œä¸€ä¸ªæ˜¯ticketä½œä¸ºaçš„ç™»å½•æ€ï¼Œä¸€ä¸ªæ˜¯ssoçš„tokenè®°å½•ssoçš„ç™»å½•æ€</li></ol><p>æŠ›å‡ºç–‘é—®ï¼šä¸ºä»€ä¹ˆè¦ç”¨ticketï¼Ÿè¿™ä¸ªé—®é¢˜æˆ‘ä»¬åé¢å†è®²</p><p>ç„¶åç™»é™†å®Œæˆè®¿é—®aä¸‹é¢çš„å…¶ä»–é¡µé¢<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220424192857.png" alt=""></p><p>æ­¤æ—¶æˆ‘ä»¬çš„cookieä¸­æºå¸¦äº†ticketï¼Œåªè¦åˆ°æœåŠ¡ç«¯éªŒè¯æ˜¯å¦åœ¨æœ‰æ•ˆçš„æ—¶é—´å†…å³å¯ã€‚</p><p>è®¿é—®bé¡µé¢çš„æ—¶å€™ï¼ˆè¿™ä¸ªbé¡µé¢æ˜¯è®¤è¯ä¸­å¿ƒä¸‹é¢çš„ä¸åŒäº§å“ï¼Œå¦‚æœè¦åšä¾‹å­çš„è¯ï¼Œå¯ä»¥è®¤ä¸ºaæ˜¯æ–°æµªå¾®åšï¼Œbæ˜¯æ–°æµªåšå®¢ï¼‰<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220424193220.png" alt=""><br>æ­¤æ—¶ç”±äºæˆ‘ä»¬çš„bæ˜¯ä¸åŒæºçš„é¡µé¢ï¼Œæ‰€ä»¥cookieä¸­æ˜¯æ²¡æœ‰ticketçš„ï¼ˆï¼ï¼ï¼ï¼éå¸¸é‡è¦ï¼‰ï¼Œä½†æ˜¯å®ƒé‡å®šå‘åˆ°ssoä¸­ï¼Œssoä¸­æˆ‘ä»¬çš„cookieæ˜¯å­˜åœ¨ç™»å½•æ€çš„ï¼Œæ‰€ä»¥æ­¤æ—¶ä¸éœ€è¦å†æ³¨å†Œç­‰æ“ä½œï¼ŒéªŒè¯tokenä¹‹åï¼Œç›´æ¥ç»™bä¸‹å‘ticketå³å¯ã€‚bå†å»éªŒè¯ticketçœŸå®æ€§å³å¯å®Œæˆç™»é™†ã€‚</p><h2 id="ä¸ºä»€ä¹ˆéœ€è¦Ticket"><a href="#ä¸ºä»€ä¹ˆéœ€è¦Ticket" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦Ticket"></a>ä¸ºä»€ä¹ˆéœ€è¦Ticket</h2><p>ticketçš„å­˜åœ¨æ˜¯ä¸ºäº†è§£å†³ä¸åŒåŸŸæºå¸¦çš„cookieä¸ä¸€æ ·çš„é—®é¢˜</p><p>ä»¥ä¸Šè¿‡ç¨‹å°±è§£é‡Šäº†æˆ‘ä»¬è¦ç”¨ticketçš„ç†ç”±ï¼Œå› ä¸ºaå’Œbä¸æ˜¯åŒæºé¡µé¢æ‰€ä»¥ä¸ä¼šæºå¸¦åŒæ ·çš„ticketï¼Œä½†æ˜¯ssoä¸­æ‹¥æœ‰ç™»å½•æ€tokenæ‰€ä»¥æˆ‘ä»¬ä¼šä¸‹å‘ticketåˆ°bä¸­éªŒè¯ã€‚</p><h2 id="SSOå•ç‚¹ç™»é™†é€€å‡º"><a href="#SSOå•ç‚¹ç™»é™†é€€å‡º" class="headerlink" title="SSOå•ç‚¹ç™»é™†é€€å‡º"></a>SSOå•ç‚¹ç™»é™†é€€å‡º</h2><p>å•ç‚¹ç™»é™†ä½¿å¾—å¤šä¸ªäº§å“å…±äº«ç™»å½•æ€ï¼Œä½†æ˜¯æ€ä¹ˆåšåˆ°åœ¨ä¸€ä¸ªäº§å“ä¸­é€€å‡ºç™»é™†ï¼Œå…¶ä»–çš„äº§å“ä¹Ÿé€€å‡ºå‘¢ï¼Ÿ</p><p>è¿™é‡Œå…¶å®è¦åšçš„äº‹æƒ…å¾ˆç®€å•ï¼Œæ¯”å¦‚è¯´é€€å‡ºè¿™ä¸ªbcomçš„ç™»é™†ï¼š</p><ol><li>é¦–å…ˆæˆ‘ä»¬è¦æ¸…é™¤æ‰bä¸­çš„ticket</li><li>è®¤è¯ä¸­å¿ƒssoä¸­æ¸…é™¤å¯¹åº”çš„cookie</li><li>ssoéå†æ‰€æœ‰å¯¹åº”cookieä¸‹å‘äº†ticketçš„äº§å“å¹¶åˆ é™¤ã€‚</li></ol><h2 id="æ€»ç»“sso"><a href="#æ€»ç»“sso" class="headerlink" title="æ€»ç»“sso"></a>æ€»ç»“sso</h2><p>ssoå°±æ˜¯ç±»ä¼¼äº<code>Nginx+ticket+token</code>çš„ç»„åˆ.å…¶ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨å®ƒçš„é‡å®šå‘è§„åˆ™ï¼Œå¯ä»¥å°†tokenå­˜åœ¨ssoçš„cookieä¸­ï¼Œå°†ticketè¿”å›åˆ°å…·ä½“çš„é¡µé¢å­˜åœ¨cookieä¸­ï¼Œç„¶åå†è®¤è¯å®Œæˆç™»é™†</p><h1 id="OAuthç¬¬ä¸‰æ–¹ç™»é™†"><a href="#OAuthç¬¬ä¸‰æ–¹ç™»é™†" class="headerlink" title="OAuthç¬¬ä¸‰æ–¹ç™»é™†"></a>OAuthç¬¬ä¸‰æ–¹ç™»é™†</h1><p>ç”±äºssoå®é™…ä¸Šè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¤§å‚æä¾›çš„ç¬¬ä¸‰æ–¹ç™»é™†ç³»ç»Ÿå®ç°ç™»é™†</p><p>æˆ‘ä»¬ä¸å…³å¿ƒè¿™ä¸ªå®Œæˆæˆæƒçš„è¿‡ç¨‹ï¼Œä½†æ˜¯è¦çŸ¥é“ç”¨æˆ·ç‚¹å‡»åˆ°è¿”å›ç™»é™†çš„è¿™ä¸ªè¿‡ç¨‹å‘ç”Ÿäº†ä»€ä¹ˆ</p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220424204420.png" alt=""></p><ol><li>é¦–å…ˆç”¨æˆ·åœ¨acomç‚¹å‡»ç”¨æˆ·ç™»é™†ï¼Œè·³è½¬åˆ°OAuthï¼Œå¹¶å¸¦ä¸Šå›è°ƒåœ°å€acom</li><li>ç”¨æˆ·äºŒç»´ç éªŒè¯ä¹‹åï¼Œå¾®ä¿¡è¿”å›ä¸´æ—¶ç¥¨æ®code</li><li>aå¸¦ç€codeå’Œè‡ªå·±ç”³è¯·çš„appidã€appsecretï¼Œå‘å¾®ä¿¡çš„æœåŠ¡å™¨ç”³è¯·tokenï¼ŒéªŒè¯æˆåŠŸå¾®ä¿¡ä¸‹å‘token</li><li>æœ‰äº†tokenä¹‹åï¼Œaå°±å¯ä»¥å‘å¾®ä¿¡æœåŠ¡å™¨è·å–ç”¨æˆ·çš„å¤´åƒå’Œæ˜µç§°ç­‰ä¿¡æ¯ã€‚å¹¶å°†ç”¨æˆ·çš„ç™»å½•æ€å†™å…¥cookieä»¥ä¾¿ä¸‹ä¸€æ¬¡ç™»é™†ã€‚</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="é¢è¯•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E9%9D%A2%E8%AF%95%E6%8C%87%E5%8D%97/"/>
    
    
    <category term="é¢è¯•" scheme="https://zlinni.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>èä¼šè´¯é€šå…«å¤§æ’åº</title>
    <link href="https://zlinni.github.io/posts/3106196216/"/>
    <id>https://zlinni.github.io/posts/3106196216/</id>
    <published>2022-04-23T06:37:29.000Z</published>
    <updated>2022-05-04T11:38:32.153Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>è®°å½•å¸¸ç”¨æ’åºç®—æ³•çš„ç®—æ³•æ€æƒ³å’Œå®ç°ï¼ŒåŠ›äº‰åŸºç¡€è¾¾æ ‡ï¼Œå¾€åæ·±å…¥çš„ç‚¹åˆ†å¼€è¡¥å……~</p></div><p>å…³é”®è¯ï¼šå¸¸ç”¨ç®—æ³•ã€sortæ’åºã€å†’æ³¡æ’åºã€æ’å…¥æ’åºã€é€‰æ‹©æ’åºã€å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€æ¡¶æ’åºã€å¸Œå°”æ’åº</p><h1 id="sortæ’åº"><a href="#sortæ’åº" class="headerlink" title="sortæ’åº"></a>sortæ’åº</h1><p>ç›´æ¥ä½¿ç”¨apiå°±èƒ½è¿›è¡Œæ’åºï¼Œæ³¨æ„çš„ç‚¹æ˜¯ï¼š<br>ä¸ä¼ å‚ï¼Œé»˜è®¤æ˜¯unicodeæ’åºï¼Œæ‰€ä»¥å¸¸ç”¨æ¥æ’åºå­—æ¯<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;asbcascacsac&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> arr = str.split(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> sortArr = arr.sort();</span><br><span class="line"><span class="built_in">console</span>.log(sortArr)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">    &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;, &#x27;a&#x27;,</span></span><br><span class="line"><span class="comment">    &#x27;b&#x27;, &#x27;c&#x27;, &#x27;c&#x27;, &#x27;c&#x27;,</span></span><br><span class="line"><span class="comment">    &#x27;c&#x27;, &#x27;s&#x27;, &#x27;s&#x27;, &#x27;s&#x27;</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p><p>ä¼ å‚ï¼Œé»˜è®¤ä¸¤ä¸ªå‚ï¼Œåå­—æ— æ‰€è°“ï¼Œè¿™é‡Œä¸¾ä¾‹æ˜¯aå’Œbï¼Œçœ‹è¿”å›å€¼æ¥å†³å®šå‡åºé™åº<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">116516</span>,<span class="number">1213</span>,<span class="number">123</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(arr))</span><br><span class="line"><span class="keyword">let</span> upArr = arr.sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a-b);</span><br><span class="line"><span class="keyword">let</span> downArr = arr2.sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>b-a);</span><br><span class="line"><span class="built_in">console</span>.log(upArr)</span><br><span class="line"><span class="built_in">console</span>.log(downArr)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">     1,      4,   5,</span></span><br><span class="line"><span class="comment">     8,      8, 123,</span></span><br><span class="line"><span class="comment">  1213, 116516</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  116516, 1213, 123,</span></span><br><span class="line"><span class="comment">       8,    8,   5,</span></span><br><span class="line"><span class="comment">       4,    1</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p><h1 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h1><p>æ€æƒ³ï¼šä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ å¤§å°ï¼Œå¤§åˆ™äº¤æ¢(å‡åº)<br>æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">116516</span>,<span class="number">1213</span>,<span class="number">123</span>]</span><br><span class="line"><span class="keyword">const</span> bubblesort = (<span class="function"><span class="params">arr</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;len-<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> j=<span class="number">0</span>;j&lt;len-i-<span class="number">1</span>;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[j+<span class="number">1</span>]&lt;arr[j])&#123;</span><br><span class="line">                [arr[j],arr[j+<span class="number">1</span>]] = [arr[j+<span class="number">1</span>],arr[j]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(bubblesort(arr))</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">     1,      4,   5,</span></span><br><span class="line"><span class="comment">     8,      8, 123,</span></span><br><span class="line"><span class="comment">  1213, 116516</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p><p>ä¼˜åŒ–ï¼šå¦‚æœåŸæ•°ç»„å·²ç»æ˜¯æ’åºæ•°ç»„ï¼Œå°±ä¸å¿…å†æ’ï¼Œç”¨flag<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bubblesort = (<span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; len - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (arr[j + <span class="number">1</span>] &lt; arr[j]) &#123;</span><br><span class="line">                [arr[j], arr[j + <span class="number">1</span>]] = [arr[j + <span class="number">1</span>], arr[j]];</span><br><span class="line">                flag=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag)<span class="keyword">return</span> arr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(bubblesort(arr))</span><br></pre></td></tr></table></figure></p><h1 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h1><p>æ€æƒ³ï¼šæ¯æ¬¡éƒ½æ‰¾åˆ°æœ€å°å€¼æ”¾åœ¨å¤´éƒ¨ï¼Œç„¶åç¼©å°èŒƒå›´ç»§ç»­æ“ä½œ ç›´åˆ°å®Œå…¨æœ‰åº<br>æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> selectsort = (<span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> len = arr.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> minIndex = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = i; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(arr[minIndex]&gt;arr[j])&#123;</span><br><span class="line">                minIndex = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(minIndex!==i)&#123;</span><br><span class="line">            [arr[minIndex],arr[i]] = [arr[i],arr[minIndex]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(selectsort(arr))</span><br></pre></td></tr></table></figure></p><h1 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h1><p>åŸç†ï¼šå½“æ¯æ¬¡æ’åºçš„æ—¶å€™ï¼Œå¦‚æœå‰é¢çš„å…ƒç´ å¤§äºå½“å‰çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°†å‰é¢çš„å…ƒç´ è½¬æ¢æˆå½“å‰å…ƒç´ ï¼Œç»§ç»­æ¯”è¾ƒï¼Œæœ€åæ›¿æ¢å›æœ€å¼€å§‹è½¬æ¢çš„å…ƒç´ <br>æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)<br>eg<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">3</span> <span class="number">2</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line">ç»è¿‡ç¬¬ä¸€è½®ï¼ˆå•ä¸ªå…ƒç´ å¯ä»¥å½“æˆæœ‰åºçš„æ•°åˆ—æ‰€ä»¥å¿½ç•¥ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ ä»index1å¼€å§‹ä¿å­˜å˜é‡ï¼Œä¹Ÿå°±æ˜¯temp3å’Œ<span class="number">5</span>å¯¹æ¯”</span><br><span class="line">å¦‚æœ<span class="number">3</span>&lt;<span class="number">5</span>ï¼Œ<span class="number">5</span>å°±åœ¨å‰é¢è…¾å‡ºä¸€ä¸ªä½ç½®ç»™<span class="number">3</span><span class="string">&#x27;5 5 2 4 1&#x27;</span> ï¼ˆarr[j-<span class="number">1</span>]=arr[j]ï¼‰;</span><br><span class="line">æœ€åè¿˜åŸtempå°±å˜æˆ</span><br><span class="line"><span class="number">3</span> <span class="number">5</span> <span class="number">2</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line">ç¬¬äºŒè½® å¯¹æ¯”<span class="number">5</span>å’Œ<span class="number">2</span> æ­¤æ—¶<span class="number">5</span>å‰é¢éœ€è¦è…¾å‡ºä¸€ä¸ªä½ç½®ç»™<span class="number">2</span>(<span class="number">2</span>&lt;<span class="number">5</span>)æ­¤æ—¶å˜æˆ<span class="string">&#x27;3 5 5 4 1&#x27;</span> ç„¶ååˆå‘ç°<span class="number">2</span>&lt;<span class="number">3</span>(j--) åˆ™ç»§ç»­è…¾ä½ç½®<span class="string">&#x27;3 3 5 4 1&#x27;</span>(ä½¿ç”¨<span class="keyword">while</span>çš„åŸå› )æœ€å</span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line">...</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></p><p>code<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertSort</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">1</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">let</span> j=i;</span><br><span class="line">        <span class="keyword">let</span> temp = arr[i];</span><br><span class="line">        <span class="keyword">while</span> (j&gt;<span class="number">0</span>&amp;&amp;arr[j-<span class="number">1</span>]&gt;temp) &#123;</span><br><span class="line">            arr[j] = arr[j-<span class="number">1</span>];<span class="comment">//arr[1]3-&gt;5</span></span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[j] = temp;<span class="comment">//arr[0]5-&gt;3</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h1><p>åŸç†ï¼šé‡‡ç”¨åˆ†æ²»æ€æƒ³ï¼Œåˆ†è§£æ¯ä¸ªå­é—®é¢˜ï¼Œæ•´ä¸ªæ•°ç»„å¯ä»¥å¯¹åŠåˆ†å‰²ï¼Œä¸€ç›´åˆ°åˆ†å‰²æœ€å°çš„çŠ¶æ€ï¼Œç„¶åå¼€å§‹é€æ¸åˆå¹¶ï¼Œä»è§„æ¨¡1åˆ°è§„æ¨¡2ä¸€ç›´åˆ°è¿˜åŸå›æ•´ä¸ªæ•°ç»„ã€‚</p><p>æ—¶é—´å¤æ‚åº¦ï¼šO(nlog(n))</p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220504151812.png" alt=""></p><p>ä¾‹å­ï¼š<code>[8, 7, 6, 5, 4, 3, 2, 1]</code>;</p><p>é¦–å…ˆåˆ†å‰²ï¼Œæˆ‘ä»¬åˆ©ç”¨é€’å½’çš„æ–¹æ³•ï¼Œæ³¨æ„è¾¹ç•Œå°äºç­‰äº1ç›´æ¥è¿”å›arr<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, | <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">[<span class="number">8</span>, <span class="number">7</span>,| <span class="number">6</span>, <span class="number">5</span>, | <span class="number">4</span>, <span class="number">3</span>, |<span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">[<span class="number">8</span>,| <span class="number">7</span>,| <span class="number">6</span>, | <span class="number">5</span>, | <span class="number">4</span>,|  <span class="number">3</span>, |<span class="number">2</span>,|  <span class="number">1</span>]</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶çš„è§„æ¨¡å·²ç»åˆ°äº†æœ€å°çŠ¶æ€ï¼Œé‚£ä¹ˆå¼€å§‹ä¸¤ä¸¤åˆå¹¶,è¿™é‡Œåˆ©ç”¨æ•°ç»„çš„push<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">7</span>,| <span class="number">8</span>,| <span class="number">5</span>, | <span class="number">6</span>, | <span class="number">3</span>,|  <span class="number">4</span>, |<span class="number">1</span>,|  <span class="number">2</span>]</span><br><span class="line">[<span class="number">7</span>, <span class="number">8</span>,| <span class="number">5</span>, <span class="number">6</span>, | <span class="number">3</span>, <span class="number">4</span>, |<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>,  | <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br></pre></td></tr></table></figure></p><p>å¦‚æœå·²ç»æœ‰ä¸€æ–¹çš„åˆå¹¶å®Œå…¨äº†ï¼Œé‚£ä¹ˆç›´æ¥concatå¦ä¸€è¾¹å‰©ä¸‹çš„</p><p>å…·ä½“ä»£ç <br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ†è§£</span></span><br><span class="line"><span class="keyword">const</span> mergeSort = <span class="function"><span class="params">arr</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> len = arr.length;</span><br><span class="line">    <span class="keyword">if</span>(len&lt;<span class="number">2</span>)<span class="keyword">return</span> arr;</span><br><span class="line">    <span class="keyword">const</span> mid = len/<span class="number">2</span>,</span><br><span class="line">        left = mergeSort(arr.slice(<span class="number">0</span>,mid)),</span><br><span class="line">        right = mergeSort(arr.slice(mid));</span><br><span class="line">    <span class="keyword">return</span> mergeArr(left,right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆå¹¶</span></span><br><span class="line"><span class="keyword">const</span> mergeArr = <span class="function">(<span class="params">left,right</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line">    <span class="keyword">while</span>(left.length &amp;&amp; right.length)&#123;</span><br><span class="line">        <span class="keyword">if</span>(left[<span class="number">0</span>]&lt;=right[<span class="number">0</span>])&#123;</span><br><span class="line">            result.push(left.shift());</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            result.push(right.shift());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    result.push(...left,...right);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(mergeSort([<span class="number">4</span>,<span class="number">54</span>,<span class="number">654</span>,<span class="number">12</span>,<span class="number">3</span>,<span class="number">45</span>,<span class="number">1</span>,<span class="number">2</span>]))</span><br></pre></td></tr></table></figure></p><h2 id="å½’å¹¶æ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ"><a href="#å½’å¹¶æ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ" class="headerlink" title="å½’å¹¶æ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ"></a>å½’å¹¶æ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ</h2><div class="note primary flat"><p>å®é™…ä¸Šå®ƒåœ¨åˆå¹¶çš„æ—¶å€™ï¼Œå€ŸåŠ©äº†é¢å¤–çš„ç©ºé—´ï¼Œä½†æ˜¯åˆå¹¶å®Œæˆä¹‹åé¢å¤–çš„ç©ºé—´åˆè¢«é‡Šæ”¾äº†ã€‚æ‰€ä»¥ä¸æ˜¯åŸåœ°æ’åº</p></div><h2 id="å½’å¹¶æ’åºç¨³å®šå—ï¼Ÿ"><a href="#å½’å¹¶æ’åºç¨³å®šå—ï¼Ÿ" class="headerlink" title="å½’å¹¶æ’åºç¨³å®šå—ï¼Ÿ"></a>å½’å¹¶æ’åºç¨³å®šå—ï¼Ÿ</h2><div class="note primary flat"><p>mergeæ–¹æ³•é‡Œé¢çš„<code>left[0]&lt;=right[0]</code>ä¿è¯äº†å€¼ç›¸åŒçš„å…ƒç´ åœ¨åˆå¹¶å‰åçš„é¡ºåºä¸å˜ï¼Œæ‰€ä»¥ä»–æ˜¯ä¸€ç§ç¨³å®šçš„æ’åº</p></div><h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>ä»æ•ˆç‡ä¸Šçœ‹ï¼Œå½’å¹¶æ’åºå¯ç®—æ˜¯æ’åºç®—æ³•ä¸­çš„ä½¼ä½¼è€…ã€‚å‡è®¾æ•°ç»„é•¿åº¦ä¸º nï¼Œé‚£ä¹ˆæ‹†åˆ†æ•°ç»„å…±éœ€ logn æ­¥, åˆæ¯æ­¥éƒ½æ˜¯ä¸€ä¸ªæ™®é€šçš„åˆå¹¶å­æ•°ç»„çš„è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œæ•…å…¶ç»¼åˆæ—¶é—´å¤æ‚åº¦ä¸º O(nlogn)ã€‚<br>æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn)ã€‚<br>æœ€å·®æƒ…å†µï¼šT(n) = O(nlogn)ã€‚<br>å¹³å‡æƒ…å†µï¼šT(n) = O(nlogn)ã€‚</p><h1 id="å¿«é€Ÿæ’åº"><a href="#å¿«é€Ÿæ’åº" class="headerlink" title="å¿«é€Ÿæ’åº"></a>å¿«é€Ÿæ’åº</h1><p>åŸç†ï¼š</p><ol><li>æ‰¾åˆ°ä¸€ä¸ªåŸºå‡†å€¼ï¼Œä¸€èˆ¬æ˜¯æ•°ç»„ä¸­é—´</li><li>åˆ›å»ºæ–°çš„å·¦å³ç©ºæ•°ç»„ï¼Œåˆ†åˆ«å­˜æ”¾æ¯”åŸºå‡†å€¼å°çš„å’Œæ¯”åŸºå‡†å€¼å¤§çš„æ•°æ®<br>3ï¼Œé€’å½’ä¸Šè¿°æ“ä½œï¼Œç›´åˆ°æ•°ç»„é•¿åº¦å°äºç­‰äº1</li></ol><p>ç‰¹ç‚¹ï¼š</p><ol><li>å¿«é€Ÿã€å¸¸ç”¨</li></ol><p>ç¼ºç‚¹ï¼š<br>éœ€è¦æ–°å»ºä¸¤ä¸ªæ•°ç»„æµªè´¹ç©ºé—´èµ„æº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> quickSort = <span class="function"><span class="params">arr</span> =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> len = arr.length;</span><br><span class="line">    <span class="keyword">if</span>(len&lt;=<span class="number">1</span>)<span class="keyword">return</span> arr;</span><br><span class="line">    <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(len/<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//å–å‡ºåŸºå‡†å€¼</span></span><br><span class="line">    <span class="keyword">const</span> midVal = arr.splice(mid,<span class="number">1</span>)[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">const</span> left = [],right = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i]&lt;midVal)&#123;</span><br><span class="line">            left.push(arr[i]);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            right.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> quickSort(left).concat(midVal,right);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(quickSort([<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]))</span><br></pre></td></tr></table></figure><h2 id="å¿«é€Ÿæ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ"><a href="#å¿«é€Ÿæ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ" class="headerlink" title="å¿«é€Ÿæ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ"></a>å¿«é€Ÿæ’åºæ˜¯åŸåœ°æ’åºå—ï¼Ÿ</h2><p>åœ¨åˆ†åŒºçš„æ—¶å€™ï¼Œä»–ä¸éœ€è¦å¾ˆå¤šé¢å¤–çš„ç©ºé—´ï¼Œæ‰€ä»¥æ˜¯åŸåœ°æ’åºæ“ä½œã€‚</p><h2 id="å¿«é€Ÿæ’åºç¨³å®šå—ï¼Ÿ"><a href="#å¿«é€Ÿæ’åºç¨³å®šå—ï¼Ÿ" class="headerlink" title="å¿«é€Ÿæ’åºç¨³å®šå—ï¼Ÿ"></a>å¿«é€Ÿæ’åºç¨³å®šå—ï¼Ÿ</h2><p>å’Œé€‰æ‹©æ’åºç±»ä¼¼ï¼Œå¿«é€Ÿæ’åºå¯èƒ½ä¸æ˜¯ç›¸é‚»çš„ï¼Œå› æ­¤ä»–æœ‰å¯èƒ½æ‰“ç ´åŸæ¥ç›¸åŒå…ƒç´ ä¹‹é—´çš„é¡ºåºï¼Œæ‰€ä»¥æ˜¯ä¸ç¨³å®šçš„ã€‚</p><h2 id="å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦"><a href="#å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦" class="headerlink" title="å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦"></a>å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦</h2><p>å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ ï¼Ÿ<br>æç«¯çš„ä¾‹å­ï¼šå¦‚æœæ•°ç»„ä¸­çš„æ•°æ®åŸæ¥å·²ç»æ˜¯æœ‰åºçš„äº†ï¼Œæ¯”å¦‚ 1ï¼Œ3ï¼Œ5ï¼Œ6ï¼Œ8ã€‚å¦‚æœæˆ‘ä»¬æ¯æ¬¡é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸º pivotï¼Œé‚£æ¯æ¬¡åˆ†åŒºå¾—åˆ°çš„ä¸¤ä¸ªåŒºé—´éƒ½æ˜¯ä¸å‡ç­‰çš„ã€‚æˆ‘ä»¬éœ€è¦è¿›è¡Œå¤§çº¦ n æ¬¡åˆ†åŒºæ“ä½œï¼Œæ‰èƒ½å®Œæˆå¿«æ’çš„æ•´ä¸ªè¿‡ç¨‹ã€‚æ¯æ¬¡åˆ†åŒºæˆ‘ä»¬å¹³å‡è¦æ‰«æå¤§çº¦ n / 2 ä¸ªå…ƒç´ ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¿«æ’çš„æ—¶é—´å¤æ‚åº¦å°±ä» O(nlogn) é€€åŒ–æˆäº† O(n2)ã€‚<br>æœ€ä½³æƒ…å†µï¼šT(n) = O(nlogn)ã€‚<br>æœ€å·®æƒ…å†µï¼šT(n) = O(n2)ã€‚<br>å¹³å‡æƒ…å†µï¼šT(n) = O(nlogn)ã€‚</p><h1 id="æ¡¶æ’åº"><a href="#æ¡¶æ’åº" class="headerlink" title="æ¡¶æ’åº"></a>æ¡¶æ’åº</h1><h1 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç®—æ³•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E7%AE%97%E6%B3%95%E6%8C%87%E5%8D%97/"/>
    
    
    <category term="ç®—æ³•" scheme="https://zlinni.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æµ…è°ˆTCPä¸UDP</title>
    <link href="https://zlinni.github.io/posts/2458362678/"/>
    <id>https://zlinni.github.io/posts/2458362678/</id>
    <published>2022-04-23T06:24:50.000Z</published>
    <updated>2022-04-25T02:41:30.113Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>webå‰ç«¯å¸¸è€ƒTCPä¸UDPçš„çŸ¥è¯†è§£æï¼ŒåŠ›äº‰åŸºç¡€è¾¾æ ‡ï¼Œå¾€åæ·±å…¥çš„ç‚¹åˆ†å¼€è¡¥å……~</p></div><p>å…³é”®è¯:TCP/UDPã€ä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹ã€æµé‡æ§åˆ¶ã€æ‹¥å¡æ§åˆ¶ã€TCPç²˜åŒ…<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423142857.png" alt=""></p><h1 id="TCPå’ŒUDP"><a href="#TCPå’ŒUDP" class="headerlink" title="TCPå’ŒUDP"></a>TCPå’ŒUDP</h1><ol><li>tcpæ˜¯é¢å‘é“¾æ¥çš„ udpæ˜¯æ— è¿æ¥çš„å³å‘é€æ•°æ®å‰ä¸éœ€è¦å»ºç«‹è¿æ¥</li><li>tcpæä¾›å¯é çš„æœåŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´é€šè¿‡tcpè¿æ¥å‘é€çš„æ•°æ®ï¼Œæ— å·®é”™ï¼Œä¸ä¸¢å¤±ï¼Œä¸é‡å¤ï¼Œä¸”æŒ‰åºåˆ°è¾¾ï¼Œudpå°½æœ€å¤§çš„åŠªåŠ›äº¤ä»˜ï¼Œå³ä¸ä¿è¯å¯é äº¤ä»˜ã€‚å¹¶ä¸”å› ä¸ºtcpå¯é ï¼Œé¢å‘è¿æ¥ï¼Œä¸ä¼šä¸¢å¤±æ•°æ®å› æ­¤é€‚åˆå¤§æ•°æ®é‡çš„äº¤æ¢</li><li>tcpæ˜¯é¢å‘å­—èŠ‚æµï¼Œudpé¢å‘æŠ¥æ–‡ï¼Œå¹¶ä¸”ç½‘ç»œå‡ºç°æ‹¥å¡ä¸ä¼šä½¿å¾—å‘é€é€Ÿç‡é™ä½ï¼ˆå› æ­¤ä¼šäº§ç”Ÿä¸¢åŒ…ï¼Œå¯¹å®æ—¶çš„åº”ç”¨æ¯”å¦‚ipç”µè¯å’Œè§†é¢‘ä¼šè®®ç­‰ï¼‰</li><li>tcpåªèƒ½æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œudpæ”¯æŒ1å¯¹1 1å¯¹å¤š</li><li>tcpçš„é¦–éƒ¨è¾ƒå¤§ä¸º20å­—èŠ‚ udpåªæœ‰8å­—èŠ‚</li><li>tcpæ˜¯é¢å‘è¿æ¥çš„å¯é æ€§ä¼ è¾“ï¼Œudpæ˜¯ä¸å¯é çš„ </li></ol><h2 id="å¸¸è§ä½¿ç”¨åœºæ™¯"><a href="#å¸¸è§ä½¿ç”¨åœºæ™¯" class="headerlink" title="å¸¸è§ä½¿ç”¨åœºæ™¯"></a>å¸¸è§ä½¿ç”¨åœºæ™¯</h2><p>UDPï¼š</p><ul><li>ç›´æ’­</li><li>æ¸¸æˆ</li></ul><h1 id="TCPä¸‰æ¬¡æ¡æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹"></a>TCPä¸‰æ¬¡æ¡æ‰‹</h1><div class="note primary flat"><p>å»ºç«‹è¿æ¥å‰ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éœ€è¦é€šè¿‡æ¡æ‰‹æ¥ç¡®è®¤å¯¹æ–¹</p></div><ul><li>å®¢æˆ·ç«¯å‘é€SYNåŒæ­¥åºåˆ—ç¼–å·è¯·æ±‚ï¼Œè¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…ç¡®è®¤</li><li>æœåŠ¡ç«¯æ¥æ”¶å¹¶ç¡®è®¤SYNåŒ…ä¹‹åå‘é€SYN+ACKåŒ…ï¼Œè¿›å…¥SYN_RECVçŠ¶æ€</li><li>å®¢æˆ·ç«¯æ¥æ”¶SYN+ACKåŒ…ä¹‹åï¼Œå‘é€ACKåŒ…ï¼ŒåŒæ–¹è¿›å…¥ESTABLISHEDçŠ¶æ€</li></ul><h2 id="ä¸ºä»€ä¹ˆé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆé‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</h2><p>ä¸¾ä¾‹ï¼šå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µ</p><ul><li>å¦‚æœå®¢æˆ·ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡ä½†ç”±äºç½‘ç»œé—®é¢˜å¯¼è‡´æŠ¥æ–‡å¤±æ•ˆï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åå°±ä¼šå‘é€ç¡®è®¤æŠ¥æ–‡è¡¨ç¤ºåŒæ„è¿æ¥ã€‚æ­¤æ—¶å¦‚æœæ˜¯ä¸¤æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆæ­¤æ—¶æœåŠ¡ç«¯å·²ç»å»ºç«‹äº†æ–°çš„è¿æ¥ï¼Œä½†ç”±äºè¿™ä¸ªè¯·æ±‚æ˜¯å¤±æ•ˆçš„ï¼Œå®¢æˆ·ç«¯å¹¶æ²¡æœ‰å»ºç«‹è¿æ¥ï¼ŒæœåŠ¡ç«¯å°±ä¼šæµªè´¹å¾ˆå¤šèµ„æºã€‚å¦‚æœæ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆæ­¤æ—¶æœåŠ¡ç«¯æ”¶ä¸åˆ°ç¡®è®¤è¿æ¥çš„ä¿¡æ¯ï¼Œå°±çŸ¥é“å®¢æˆ·ç«¯æ²¡æœ‰å»ºç«‹è¿æ¥ã€‚è¿™å°±æ˜¯ä¸‰æ¬¡æ¡æ‰‹çš„ä½œç”¨ã€‚<div class="note primary flat"><p>TCPæœ‰å…­ç§æ ‡è¯†SYNå»ºç«‹è¿æ¥ï¼ŒACKç¡®è®¤ï¼ŒPSHä¼ é€ï¼ŒFINç»“æŸï¼ŒRSTé‡ç½®ï¼ŒURGç´§æ€¥</p></div></li></ul><h2 id="ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­å¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ"><a href="#ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­å¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­å¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ"></a>ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­å¯ä»¥æºå¸¦æ•°æ®å—ï¼Ÿ</h2><ul><li>ç¬¬ä¸€æ¬¡ç¬¬äºŒæ¬¡æ¡æ‰‹ä¸èƒ½æºå¸¦æ•°æ®ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡æ¡æ‰‹å’Œç¬¬äºŒæ¬¡æ¡æ‰‹æœåŠ¡ç«¯è¿˜æ²¡æœ‰å»ºç«‹è¿æ¥ï¼Œæ­¤æ—¶å‘é€æ•°æ®ä¼šè®©æœåŠ¡å™¨å—åˆ°æ”»å‡»ã€‚</li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹æœåŠ¡å™¨å·²ç»å¤„äºESTABLISHEDçŠ¶æ€ï¼Œå¯¹äºå®¢æˆ·ç«¯æ¥è¯´å·²ç»å»ºç«‹äº†è¿æ¥ï¼Œå¹¶ä¸”ä¹ŸçŸ¥é“æœåŠ¡å™¨çš„æ¥æ”¶å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„äº†ï¼Œæ‰€ä»¥èƒ½æºå¸¦æ•°æ®ã€‚</li></ul><h1 id="å››æ¬¡æŒ¥æ‰‹"><a href="#å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="å››æ¬¡æŒ¥æ‰‹"></a>å››æ¬¡æŒ¥æ‰‹</h1><div class="note primary flat"><p>ä¸ºäº†ç¡®ä¿æ•°æ®èƒ½å®Œæˆä¼ è¾“</p></div><ul><li>å®¢æˆ·ç«¯â€”FINâ€”&gt;æœåŠ¡ç«¯ï¼ŒFINâ€”â€”WAIT</li><li>æœåŠ¡ç«¯â€”ACKâ€”&gt;å®¢æˆ·ç«¯ï¼ŒCLOSEâ€”â€”WAIT</li><li>æœåŠ¡ç«¯â€”ACKï¼ŒFINâ€”&gt;å®¢æˆ·ç«¯ï¼ŒLASTâ€”â€”ACK</li><li>å®¢æˆ·ç«¯â€”ACKâ€”&gt;æœåŠ¡ç«¯ï¼ŒCLOSED</li></ul><h2 id="ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™æ˜¯å››æ¬¡æŒ¥æ‰‹ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™æ˜¯å››æ¬¡æŒ¥æ‰‹ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™æ˜¯å››æ¬¡æŒ¥æ‰‹ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™æ˜¯å››æ¬¡æŒ¥æ‰‹ï¼Ÿ</h2><ul><li>æœåŠ¡ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚</li><li>ä½†æ˜¯åœ¨å…³é—­è¿æ¥çš„æ—¶å€™ï¼Œå½“æœåŠ¡ç«¯æ”¶åˆ°FINæŠ¥æ–‡çš„æ—¶å€™ ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹åˆ»å…³é—­è¿æ¥ï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œä½ å‘çš„FINæŠ¥æ–‡æ”¶åˆ°äº†ï¼Œåªæœ‰ç­‰æœåŠ¡å™¨æ‰€æœ‰çš„æŠ¥æ–‡å‘é€å®Œäº†æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ï¼Œæ•…éœ€è¦å››æ¬¡æŒ¥æ‰‹ã€‚ </li></ul><h1 id="æ‹¥å¡æ§åˆ¶"><a href="#æ‹¥å¡æ§åˆ¶" class="headerlink" title="æ‹¥å¡æ§åˆ¶"></a>æ‹¥å¡æ§åˆ¶</h1><div class="note primary flat"><p>ç½‘ç»œæ‹¥å¡ï¼ˆcongestionï¼‰æ˜¯æŒ‡åœ¨åˆ†ç»„äº¤æ¢ç½‘ç»œä¸­ä¼ é€åˆ†ç»„çš„æ•°ç›®å¤ªå¤šæ—¶ï¼Œç”±äºå­˜å‚¨è½¬å‘èŠ‚ç‚¹çš„èµ„æºæœ‰é™è€Œé€ æˆç½‘ç»œä¼ è¾“æ€§èƒ½ä¸‹é™çš„æƒ…å†µã€‚å½“ç½‘ç»œå‘ç”Ÿæ‹¥å¡æ—¶ï¼Œä¸€èˆ¬ä¼šå‡ºç°æ•°æ®ä¸¢å¤±ï¼Œæ—¶å»¶å¢åŠ ï¼Œååé‡ä¸‹é™ï¼Œä¸¥é‡æ—¶ç”šè‡³ä¼šå¯¼è‡´â€œæ‹¥å¡å´©æºƒâ€ï¼ˆcongestion collapseï¼‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“ç½‘ç»œä¸­è´Ÿè½½è¿‡åº¦å¢åŠ è‡´ä½¿ç½‘ç»œæ€§èƒ½ä¸‹é™æ—¶ï¼Œå°±ä¼šå‘ç”Ÿç½‘ç»œæ‹¥å¡ã€‚ä¸‹å›¾åˆ™æè¿°äº†åœ¨æœ‰æ— æ‹¥å¡æ§åˆ¶çš„å¹²é¢„ä¸‹ï¼Œç½‘ç»œååé‡éšè¾“å…¥è´Ÿè½½çš„å¢åŠ çš„å˜åŒ–æƒ…å†µã€‚</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423112204.png" alt=""><br>é€šè¿‡ä»¥ä¸Šçš„æè¿°ï¼Œæˆ‘ä»¬å¤§æ¦‚å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li>ç½‘ç»œæ‹¥å¡å¾€å¾€æ˜¯ç”±äºå¯¹èµ„æºçš„è¯·æ±‚è¶…å‡ºäº†å­˜å‚¨è½¬å‘èŠ‚ç‚¹çš„èƒ½åŠ›è€Œå¯¼è‡´çš„ã€‚</li><li>ç½‘ç»œæ‹¥å¡å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œæ—¶å»¶å¢åŠ ï¼Œååé‡ä¸‹é™ç­‰é—®é¢˜ã€‚</li><li>è‹¥å‡ºç°æ‹¥å¡è€Œä¸è¿›è¡Œæ§åˆ¶ï¼Œæœ‰å¯èƒ½ä¼šä½¿æ•´ä¸ªç½‘ç»œæƒ…å†µæ¶åŒ–ï¼Œç”šè‡³ç½‘ç»œååé™ä¸º0ã€‚</li><li>ç½‘ç»œçš„æ‹¥å¡çŠ¶å†µä¸å½“å‰ç½‘ç»œè´Ÿè½½æ˜¯å¯†åˆ‡ç›¸å…³çš„ã€‚</li></ul><h2 id="æ‹¥å¡æ§åˆ¶ç®—æ³•"><a href="#æ‹¥å¡æ§åˆ¶ç®—æ³•" class="headerlink" title="æ‹¥å¡æ§åˆ¶ç®—æ³•"></a>æ‹¥å¡æ§åˆ¶ç®—æ³•</h2><ol><li>æ…¢å¯åŠ¨</li><li>æ‹¥å¡é¿å…</li><li>å¿«é‡ä¼ </li><li>å¿«æ¢å¤</li></ol><h1 id="æµé‡æ§åˆ¶"><a href="#æµé‡æ§åˆ¶" class="headerlink" title="æµé‡æ§åˆ¶"></a>æµé‡æ§åˆ¶</h1><p>å¦‚æœå‘é€æ–¹çš„æ•°æ®å‘é€è¿‡å¿«ï¼Œæ¥æ”¶è€…æ¥ä¸åŠæ¥æ”¶ï¼Œå°±æœ‰åˆ†ç»„ä¸¢å¤±ã€‚ä¸ºäº†é¿å…åˆ†ç»„ä¸¢å¤±ï¼Œæ§åˆ¶å‘é€è€…çš„å‘é€é€Ÿåº¦ï¼Œä½¿å¾—æ¥æ”¶è€…æ¥å¾—åŠæ¥æ”¶ï¼Œè¿™å°±æ˜¯æµé‡æ§åˆ¶ã€‚</p><p>æµé‡æ§åˆ¶çš„æ ¹æœ¬ç›®çš„æ˜¯é˜²æ­¢åˆ†ç»„ä¸¢å¤±ï¼Œå®ƒæ˜¯æ„æˆTCPå¯é æ€§çš„ä¸€æ–¹é¢</p><h2 id="å®ç°æµé‡æ§åˆ¶"><a href="#å®ç°æµé‡æ§åˆ¶" class="headerlink" title="å®ç°æµé‡æ§åˆ¶"></a>å®ç°æµé‡æ§åˆ¶</h2><p>æ»‘åŠ¨çª—å£åè®®ï¼ˆè¿ç»­ARQåè®®ï¼‰å®ç°ã€‚å®ƒä¿è¯äº†åˆ†ç»„æ— å·®é”™ï¼Œæœ‰åºæ¥æ”¶ï¼Œä¹Ÿå®ç°äº†æµé‡æ§åˆ¶ã€‚</p><p>ä¸»è¦çš„æ–¹å¼æ˜¯ æ¥æ”¶æ–¹è¿”å›çš„ackåŒ…ä¼šåŒ…å«è‡ªå·±æ¥æ”¶çª—å£çš„å¤§å°ï¼Œå¹¶ä¸”åˆ©ç”¨å¤§å°æ¥æ§åˆ¶å‘é€æ–¹çš„æ•°æ®å‘é€</p><h2 id="æµé‡æ§åˆ¶å¼•å‘çš„æ­»é”ï¼Ÿæ€ä¹ˆé¿å…æ­»é”å‘ç”Ÿï¼Ÿ-æ²¡çœ‹æ˜ç™½"><a href="#æµé‡æ§åˆ¶å¼•å‘çš„æ­»é”ï¼Ÿæ€ä¹ˆé¿å…æ­»é”å‘ç”Ÿï¼Ÿ-æ²¡çœ‹æ˜ç™½" class="headerlink" title="æµé‡æ§åˆ¶å¼•å‘çš„æ­»é”ï¼Ÿæ€ä¹ˆé¿å…æ­»é”å‘ç”Ÿï¼Ÿ(æ²¡çœ‹æ˜ç™½)"></a>æµé‡æ§åˆ¶å¼•å‘çš„æ­»é”ï¼Ÿæ€ä¹ˆé¿å…æ­»é”å‘ç”Ÿï¼Ÿ(æ²¡çœ‹æ˜ç™½)</h2><p>å½“å‘é€è€…æ”¶åˆ°äº†ä¸€ä¸ªçª—å£ä¸º0çš„åº”ç­”ï¼Œå‘é€è€…ä¾¿åœæ­¢å‘é€ï¼Œç­‰å¾…æ¥æ”¶è€…çš„ä¸‹ä¸€ä¸ªåº”ç­”ã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªçª—å£ä¸ä¸º0çš„åº”ç­”åœ¨ä¼ è¾“è¿‡ç¨‹ä¸¢å¤±ï¼Œå‘é€è€…ä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œè€Œæ¥æ”¶è€…ä»¥ä¸ºå‘é€è€…å·²ç»æ”¶åˆ°è¯¥åº”ç­”ï¼Œç­‰å¾…æ¥æ”¶æ–°æ•°æ®ï¼Œè¿™æ ·åŒæ–¹å°±ç›¸äº’ç­‰å¾…ï¼Œä»è€Œäº§ç”Ÿæ­»é”ã€‚ä¸ºäº†é¿å…æµé‡æ§åˆ¶å¼•å‘çš„æ­»é”ï¼ŒTCPä½¿ç”¨äº†æŒç»­è®¡æ—¶å™¨ã€‚æ¯å½“å‘é€è€…æ”¶åˆ°ä¸€ä¸ªé›¶çª—å£çš„åº”ç­”åå°±å¯åŠ¨è¯¥è®¡æ—¶å™¨ã€‚æ—¶é—´ä¸€åˆ°ä¾¿ä¸»åŠ¨å‘é€æŠ¥æ–‡è¯¢é—®æ¥æ”¶è€…çš„çª—å£å¤§å°ã€‚è‹¥æ¥æ”¶è€…ä»ç„¶è¿”å›é›¶çª—å£ï¼Œåˆ™é‡ç½®è¯¥è®¡æ—¶å™¨ç»§ç»­ç­‰å¾…ï¼›è‹¥çª—å£ä¸ä¸º0ï¼Œåˆ™è¡¨ç¤ºåº”ç­”æŠ¥æ–‡ä¸¢å¤±äº†ï¼Œæ­¤æ—¶é‡ç½®å‘é€çª—å£åå¼€å§‹å‘é€ï¼Œè¿™æ ·å°±é¿å…äº†æ­»é”çš„äº§ç”Ÿã€‚</p><h2 id="æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„åŒºåˆ«"><a href="#æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„åŒºåˆ«" class="headerlink" title="æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„åŒºåˆ«"></a>æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶çš„åŒºåˆ«</h2><p>æ‹¥å¡æ§åˆ¶å°±æ˜¯ä½œç”¨äºç½‘ç»œçš„ï¼Œå®ƒæ˜¯é˜²æ­¢è¿‡å¤šçš„æ•°æ®æ³¨å…¥åˆ°ç½‘ç»œä¸­ï¼Œé¿å…å‡ºç°ç½‘ç»œè´Ÿè½½è¿‡å¤§çš„æƒ…å†µã€‚å¸¸ç”¨çš„æ–¹æ³•æ˜¯ï¼šæ…¢å¼€å§‹ï¼Œæ‹¥å¡é¿å…ï¼Œå¿«é‡ä¼ ï¼Œå¿«æ¢å¤ã€‚</p><p>æµé‡æ§åˆ¶å°±æ˜¯ä½œç”¨äºæ¥æ”¶è€…çš„ï¼Œå®ƒæ˜¯æ§åˆ¶å‘é€è€…çš„å‘é€é€Ÿåº¦ä»è€Œä½¿å¾—æ¥æ”¶è€…æ¥å¾—åŠæ¥æ”¶ï¼Œé˜²æ­¢åˆ†ç»„ä¸¢å¤±</p><h1 id="TCPç²˜åŒ…"><a href="#TCPç²˜åŒ…" class="headerlink" title="TCPç²˜åŒ…"></a>TCPç²˜åŒ…</h1><h1 id="ä»€ä¹ˆæ˜¯TCPç²˜åŒ…"><a href="#ä»€ä¹ˆæ˜¯TCPç²˜åŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯TCPç²˜åŒ…"></a>ä»€ä¹ˆæ˜¯TCPç²˜åŒ…</h1><div class="note primary flat"><p>ç°åœ¨å‡è®¾å®¢æˆ·ç«¯è¿ç»­å‘äº†ä¸¤ä¸ªæ•°æ®åŒ…ç»™æœåŠ¡ç«¯ï¼Œç”¨pack1å’Œpack2æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆå°±æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p></div><ol><li>æ¥æ”¶ç«¯æ­£å¸¸æ”¶åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423102351.png" alt=""></li><li>æ¥æ”¶ç«¯åªæ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå› ä¸ºTCPä¸ä¼šä¸¢åŒ…æ‰€ä»¥è¿™ä¸ªæ•°æ®åŒ…åŒ…å«äº†å‘é€ç«¯å‘é€çš„ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œè¿™å°±æ˜¯ç²˜åŒ…ã€‚æœåŠ¡ç«¯ä¸çŸ¥é“æ€ä¹ˆåˆ’åˆ†è¿™ä¸¤ä¸ªæ•°æ®åŒ…æ‰€ä»¥å¾ˆéš¾å¤„ç†ã€‚<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423102618.png" alt=""></li><li>æ¥æ”¶ç«¯æ”¶åˆ°ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œä½†å®ƒä»¬éƒ½ä¸å®Œæ•´ã€‚è¿™ç§æƒ…å†µä¸‹å¯èƒ½æ˜¯pack1ä¸¢äº†ä¸€ç‚¹åˆ°pack2ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯pack2ä¸¢äº†ä¸€ç‚¹åˆ°pack1ï¼Œæ­¤æ—¶å‘ç”Ÿäº†ç²˜åŒ…æ‹†åŒ…<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423103042.png" alt=""></li></ol><h1 id="ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…"><a href="#ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…"></a>ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…</h1><p>åŸå› å¦‚ä¸‹ï¼š</p><ol><li>æœ¬èº«å¥—æ¥å­—ç¼“å†²åŒºå¤§å°ä¸è¶³ï¼Œä¸€æ¬¡å†™å…¥çš„æ•°æ®å¤šäº†ï¼Œå°±å‘ç”Ÿäº†æ‹†åŒ…</li><li>æœ¬èº«å¥—æ¥å­—ç¼“å†²åŒºè¿‡å¤§ï¼Œå¤šæ¬¡å†™å…¥æ•°æ®ï¼Œå°±å‘ç”Ÿäº†ç²˜åŒ…</li><li>TCPè¿æ¥å¤ç”¨ï¼Œæœ¬æ¥å•ç‹¬çš„è¿æ¥ä¸­åŒæ–¹è§„å®šå¥½äº†æ•°æ®æ ¼å¼ï¼Œä½†æ˜¯å› ä¸ºå¤ç”¨å¯¼è‡´å¤šä¸ªè¿›ç¨‹ä»¥åŠä¸åŒçš„æ•°æ®æ ¼å¼ä¼ è¾“ï¼Œå°±é€ æˆäº†ç²˜åŒ…</li><li>æ¥æ”¶æ–¹æ²¡åŠæ—¶æ¥æ”¶æ•°æ®ï¼Œå°±å‘ç”Ÿäº†ç²˜åŒ…</li></ol><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>è§£å†³æ–¹æ³•å°±æ˜¯å¤„ç†è¿™ä¸ªè¾¹ç•Œé—®é¢˜ã€‚</p><ol><li>å°¾éƒ¨æ ‡è¯†æ³•ï¼šé€šè¿‡åå•†çš„å°¾éƒ¨æ ‡è®°ï¼Œæ¯”å¦‚<code>\n\t\r</code>ç­‰æ¥è¯´æ˜è¿™æ˜¯è¾¹ç•Œ</li><li>å¤´éƒ¨æ ‡è®°æ³•ï¼šä¸æ˜¯ä¸çŸ¥é“é•¿åº¦å—ï¼Ÿç›´æ¥åœ¨TCPå¤´éƒ¨åŠ ä¸Šæ ‡è¯†æ•°æ®é•¿åº¦</li><li>å®šé•¿å‘é€æ³•ï¼šå‘é€ç«¯å°è£…æ•°æ®åŒ…ä¸ºæŒ‡å®šé•¿åº¦å‘é€</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç½‘ç»œç³»åˆ—" scheme="https://zlinni.github.io/categories/%E7%BD%91%E7%BB%9C%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="è®¡ç®—æœºç½‘ç»œ" scheme="https://zlinni.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>é¢è¯•å®˜é—®æˆ‘äº†è§£TCPç²˜åŒ…å—</title>
    <link href="https://zlinni.github.io/posts/1161612098/"/>
    <id>https://zlinni.github.io/posts/1161612098/</id>
    <published>2022-04-23T02:10:31.000Z</published>
    <updated>2022-04-25T02:41:30.117Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>æœ‰ä¸€å¤©å°æ˜é«˜å…´çš„å»é¢è¯•ï¼Œçªç„¶é—´é¢è¯•å®˜æŠ›å‡ºä¸€ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯TCPç²˜åŒ…ï¼Ÿè¿™ä¸‹å­å¥½äº†ï¼Œå°æ˜è„‘è¢‹æœç´¢äº†TCPçš„å†…å®¹ï¼Œå‘ç°åªæœç´¢åˆ°TCPå’ŒUDPçš„åŒºåˆ«ï¼Œæµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œå’Œä¸‰æ¡å››æŒ¥è¿™å‡ ä¸ªå†…å®¹ï¼Œå°æ˜å°´å°¬çš„è¯´ï¼šæˆ‘ä¸çŸ¥é“ã€‚äºæ˜¯å›æ¥æ¶è¡¥äº†TCPç²˜åŒ…çš„å†…å®¹</p></div><p>å…³é”®è¯ï¼šTCPç²˜åŒ…ã€æ‹†åŒ…<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423111651.png" alt=""></p><h1 id="ä»€ä¹ˆæ˜¯TCPç²˜åŒ…"><a href="#ä»€ä¹ˆæ˜¯TCPç²˜åŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯TCPç²˜åŒ…"></a>ä»€ä¹ˆæ˜¯TCPç²˜åŒ…</h1><div class="note primary flat"><p>ç°åœ¨å‡è®¾å®¢æˆ·ç«¯è¿ç»­å‘äº†ä¸¤ä¸ªæ•°æ®åŒ…ç»™æœåŠ¡ç«¯ï¼Œç”¨pack1å’Œpack2æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆå°±æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p></div><ol><li>æ¥æ”¶ç«¯æ­£å¸¸æ”¶åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423102351.png" alt=""></li><li>æ¥æ”¶ç«¯åªæ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå› ä¸ºTCPä¸ä¼šä¸¢åŒ…æ‰€ä»¥è¿™ä¸ªæ•°æ®åŒ…åŒ…å«äº†å‘é€ç«¯å‘é€çš„ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œè¿™å°±æ˜¯ç²˜åŒ…ã€‚æœåŠ¡ç«¯ä¸çŸ¥é“æ€ä¹ˆåˆ’åˆ†è¿™ä¸¤ä¸ªæ•°æ®åŒ…æ‰€ä»¥å¾ˆéš¾å¤„ç†ã€‚<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423102618.png" alt=""></li><li>æ¥æ”¶ç«¯æ”¶åˆ°ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œä½†å®ƒä»¬éƒ½ä¸å®Œæ•´ã€‚è¿™ç§æƒ…å†µä¸‹å¯èƒ½æ˜¯pack1ä¸¢äº†ä¸€ç‚¹åˆ°pack2ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯pack2ä¸¢äº†ä¸€ç‚¹åˆ°pack1ï¼Œæ­¤æ—¶å‘ç”Ÿäº†ç²˜åŒ…æ‹†åŒ…<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220423103042.png" alt=""></li></ol><h1 id="ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…"><a href="#ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…"></a>ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿç²˜åŒ…æ‹†åŒ…</h1><p>åŸå› å¦‚ä¸‹ï¼š</p><ol><li>æœ¬èº«å¥—æ¥å­—ç¼“å†²åŒºå¤§å°ä¸è¶³ï¼Œä¸€æ¬¡å†™å…¥çš„æ•°æ®å¤šäº†ï¼Œå°±å‘ç”Ÿäº†æ‹†åŒ…</li><li>æœ¬èº«å¥—æ¥å­—ç¼“å†²åŒºè¿‡å¤§ï¼Œå¤šæ¬¡å†™å…¥æ•°æ®ï¼Œå°±å‘ç”Ÿäº†ç²˜åŒ…</li><li>TCPè¿æ¥å¤ç”¨ï¼Œæœ¬æ¥å•ç‹¬çš„è¿æ¥ä¸­åŒæ–¹è§„å®šå¥½äº†æ•°æ®æ ¼å¼ï¼Œä½†æ˜¯å› ä¸ºå¤ç”¨å¯¼è‡´å¤šä¸ªè¿›ç¨‹ä»¥åŠä¸åŒçš„æ•°æ®æ ¼å¼ä¼ è¾“ï¼Œå°±é€ æˆäº†ç²˜åŒ…</li><li>æ¥æ”¶æ–¹æ²¡åŠæ—¶æ¥æ”¶æ•°æ®ï¼Œå°±å‘ç”Ÿäº†ç²˜åŒ…</li></ol><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>è§£å†³æ–¹æ³•å°±æ˜¯å¤„ç†è¿™ä¸ªè¾¹ç•Œé—®é¢˜ã€‚</p><ol><li>å°¾éƒ¨æ ‡è¯†æ³•ï¼šé€šè¿‡åå•†çš„å°¾éƒ¨æ ‡è®°ï¼Œæ¯”å¦‚<code>\n\t\r</code>ç­‰æ¥è¯´æ˜è¿™æ˜¯è¾¹ç•Œ</li><li>å¤´éƒ¨æ ‡è®°æ³•ï¼šä¸æ˜¯ä¸çŸ¥é“é•¿åº¦å—ï¼Ÿç›´æ¥åœ¨TCPå¤´éƒ¨åŠ ä¸Šæ ‡è¯†æ•°æ®é•¿åº¦</li><li>å®šé•¿å‘é€æ³•ï¼šå‘é€ç«¯å°è£…æ•°æ®åŒ…ä¸ºæŒ‡å®šé•¿åº¦å‘é€</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç½‘ç»œç³»åˆ—" scheme="https://zlinni.github.io/categories/%E7%BD%91%E7%BB%9C%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="é¢è¯•" scheme="https://zlinni.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>ä¸‰é“é¢˜ï¼Œå…¥é—¨asyncå’Œawait</title>
    <link href="https://zlinni.github.io/posts/1222301607/"/>
    <id>https://zlinni.github.io/posts/1222301607/</id>
    <published>2022-04-22T06:32:35.000Z</published>
    <updated>2022-04-25T02:41:30.127Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>å„å‚å¾ˆå–œæ¬¢è€ƒçš„asyncå’Œawaité¢˜ï¼Œä¸€èˆ¬ä¸äº†è§£ä»–çš„åšæ³•éƒ½å¾ˆå®¹æ˜“è¸©å‘ã€‚ä¸‹é¢ç”¨ä¸‰é“é¢˜æ¥è®²è§£æ€ä¹ˆè§£è¿™ç±»å‹çš„é¢˜ç›®<br>å…³é”®è¯:asyncã€awaitã€é¢˜è§£</p></div><h1 id="é¢˜ä¸€"><a href="#é¢˜ä¸€" class="headerlink" title="é¢˜ä¸€"></a>é¢˜ä¸€</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line">  <span class="keyword">await</span> async2()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line">async1()</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">    resolve()</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€é“é—¨æ§›ï¼š<br>å¤§éƒ¨åˆ†äººåœ¨å‰é¢éƒ½æ²¡é—®é¢˜ï¼Œåˆ°awaitè¿™é‡Œå°±ä¼šå¡ä½ï¼Œæ­¤æ—¶å¯¹äºawaitçš„æƒ…å†µæ˜¯è¿™æ ·çš„ã€‚<br>ä»–ä¼šå»çœ‹è‡ªå·±ä¹‹åçš„ä»£ç ï¼Œ</p><ol><li>æŸ¥çœ‹å…¶ä¸­æ˜¯å¦æœ‰åŒæ­¥ä»£ç ï¼Œå¦‚æœæœ‰ï¼Œæ‰§è¡Œ</li><li>å¦‚æœæ²¡æœ‰ å…¶ä¸­å¼‚æ­¥çš„ç›´æ¥æ”¾åˆ°ä»»åŠ¡æ ˆ</li><li>åˆ†æawaitä¸‹é¢çš„ä»£ç <br>ç„¶åè·³å‡ºä»£ç ï¼Œç»§ç»­å¾€ä¸‹æŸ¥çœ‹</li></ol><p>å…¶ä¸­å…³äºawaitçš„æ“ä½œï¼Œå…¶å®æ˜¯<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>)=&gt;</span>&#123;</span><br><span class="line">    resolve(async2());</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">value</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//è¿™ä¹Ÿå°±æ˜¯awaitåé¢çš„ä»£ç èƒ½çœ‹æˆæ˜¯å¾®ä»»åŠ¡çš„åŸå› </span></span><br></pre></td></tr></table></figure></p><p>å®ƒç­‰å¾…async2æ‰§è¡Œå®Œå›è°ƒè¿™ä¸ªè¾“å‡º</p><p>ç¬¬äºŒé“é—¨æ§›ï¼š<br>è¿™é‡Œå°±æ¥åˆ°ä¸‹é¢çœ‹æœ‰æ²¡æœ‰åŒæ­¥ä»£ç äº† è¿™é‡Œå°±æ˜¯ç¬¬äºŒæ­¥é—¨æ§›ï¼Œå¦‚æœä½ è®¤ä¸ºï¼Œä»–ç›´æ¥è¾“å‡ºâ€™script endâ€™ï¼Œé‚£ä¹ˆä½ å°±è¸©å‘äº†ã€‚è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°åœ¨æ­¤ä¹‹å‰newäº†Promiseï¼Œå…³é”®æ¥äº†ï¼Œä»–ä¼šç«‹åˆ»æ‰§è¡Œå®ƒçš„æ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ä½ å¯ä»¥æŠŠè¿™ä¸ªæ„é€ å‡½æ•°çœ‹æˆæ˜¯åŒæ­¥ä»£ç ï¼Œæ­¤æ—¶å°±ä¼šè¾“å‡º<code>promise1</code>.å†åˆ°<code>script end</code></p><p>ç¬¬ä¸‰é“é—¨æ§›ï¼š<br>æ­¤æ—¶ï¼Œæˆ‘ä»¬å¾—çŸ¥é“ æ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡éƒ½æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œä»»åŠ¡æ ˆä¸­çš„ä»£ç äº†<br>æ­¤æ—¶çš„ä»»åŠ¡æ ˆä¸­æœ‰awaitä¹‹åçš„ä»£ç ï¼Œpromiseçš„æˆåŠŸå›è°ƒï¼Œå’Œsettimeoutï¼Œå½“ç„¶ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªé¡ºåºå‘¢ã€‚æˆ‘ä»¬è¦çŸ¥é“å¾®ä»»åŠ¡ä¼šæ’é˜Ÿåœ¨å®ä»»åŠ¡å‰é¢ï¼Œä¹Ÿå°±æ˜¯ä¸€å¼€å§‹çš„é¡ºåºæ˜¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">settimeout</span><br><span class="line"></span><br><span class="line"><span class="keyword">await</span> code æ’é˜Ÿ</span><br><span class="line">settimeout</span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡åˆ°promise æ’é˜Ÿåœ¨å®ä»»åŠ¡å‰é¢</span></span><br><span class="line"><span class="keyword">await</span> code</span><br><span class="line">promise </span><br><span class="line">settimeout</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æŒ‰é¡ºåºæ‰§è¡Œ ç»“æœæ˜¯<code>async1 end``promise2``setTimeout</code></p><p>æœ€ç»ˆç­”æ¡ˆï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220422151115.png" alt=""></p><h1 id="é¢˜äºŒ"><a href="#é¢˜äºŒ" class="headerlink" title="é¢˜äºŒ"></a>é¢˜äºŒ</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line">  <span class="keyword">await</span> async2()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">      resolve()</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line">async1()</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise3&#x27;</span>)</span><br><span class="line">    resolve()</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise4&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€é“é—¨æ§›ï¼š<br>async2ä¸­promiseçš„æ„é€ å™¨æ‰§è¡Œä¹‹åï¼Œå°†æˆåŠŸçš„å›è°ƒæ”¾è¿›ä»»åŠ¡æ ˆï¼Œå†å»æŠŠawaitä¸‹é¢çš„codeæ”¾è¿›ä»»åŠ¡æ ˆ</p><p>ä»»åŠ¡æ ˆçš„å†…å®¹ï¼ˆå¼‚æ­¥ï¼‰ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span></span><br><span class="line"></span><br><span class="line">promise2(æ’é˜Ÿ)</span><br><span class="line"><span class="built_in">setTimeout</span></span><br><span class="line"></span><br><span class="line">promise2</span><br><span class="line">async1 end(æ’é˜Ÿ)</span><br><span class="line"><span class="built_in">setTimeout</span></span><br><span class="line"></span><br><span class="line">promise2</span><br><span class="line">async1 end</span><br><span class="line">promise4(æ’é˜Ÿ)</span><br><span class="line"><span class="built_in">setTimeout</span></span><br></pre></td></tr></table></figure></p><p>æœ€ç»ˆç­”æ¡ˆ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">async1 start</span><br><span class="line">promise1</span><br><span class="line">promise3</span><br><span class="line">script end</span><br><span class="line">promise2</span><br><span class="line">async1 end</span><br><span class="line">promise4</span><br><span class="line"><span class="built_in">setTimeout</span></span><br></pre></td></tr></table></figure></p><h1 id="é¢˜ä¸‰"><a href="#é¢˜ä¸‰" class="headerlink" title="é¢˜ä¸‰"></a>é¢˜ä¸‰</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line">  <span class="keyword">await</span> async2()</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout1&#x27;</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">async2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout2&#x27;</span>)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout3&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line">async1()</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">    resolve()</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å‰é¢çš„ä¸€æ ·ï¼Œä¸è¿‡è¿™æ¬¡è¿›å…¥async2åæ˜¯å®ä»»åŠ¡ï¼Œæˆ‘ä»¬ä¾ç„¶æŠŠå®ƒæ”¾è¿›ä»»åŠ¡æ ˆï¼Œå†æŠŠ<br>è¸©å‘ç‚¹ï¼š<br>å®¹æ˜“å¿½è§†æ‰setimeout3æ˜¯ç¬¬ä¸€ä¸ªå®ä»»åŠ¡ã€‚<br>å› æ­¤ç­”æ¡ˆä¸ºsetimeout2 1 3 å®é™…ä¸Šæ˜¯3 2 1</p><p>æœ€ç»ˆç­”æ¡ˆ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">script start</span><br><span class="line">async1 start</span><br><span class="line">promise1</span><br><span class="line">script end</span><br><span class="line">promise2</span><br><span class="line">setTimeout3</span><br><span class="line">setTimeout2</span><br><span class="line">setTimeout1</span><br></pre></td></tr></table></figure></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸‰é“åŸºæœ¬çš„é¢˜ï¼ŒæŒæ¡äº†awaitçš„åŸºæœ¬åŸç†ã€‚å…¶å®å°±æ˜¯promiseçš„å›è°ƒã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="é¢è¯•æŒ‡å—" scheme="https://zlinni.github.io/categories/%E9%9D%A2%E8%AF%95%E6%8C%87%E5%8D%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="é¢è¯•" scheme="https://zlinni.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>DNSåŸŸåç³»ç»Ÿ</title>
    <link href="https://zlinni.github.io/posts/3906343608/"/>
    <id>https://zlinni.github.io/posts/3906343608/</id>
    <published>2022-04-21T07:29:56.000Z</published>
    <updated>2022-04-25T02:41:30.109Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>webå‰ç«¯ä½ å¿…é¡»äº†è§£çš„DNSï¼Œä¸‹é¢è®²è§£DNSçš„ä¸€äº›è¿‡ç¨‹å’Œç”±æ¥ä»¥åŠäº§ç”Ÿçš„å®‰å…¨é—®é¢˜<br>å…³é”®è¯ï¼šDNSæ˜¯ä»€ä¹ˆã€DNSçš„åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“ã€æœ¬åœ°DNSæœåŠ¡å™¨ã€DNSé€’å½’æŸ¥è¯¢å’Œè¿­ä»£æŸ¥è¯¢ã€DNSç¼“å­˜ã€DNSåŠ«æŒ</p></div><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220422103253.png" alt=""></p><h1 id="ä»€ä¹ˆæ˜¯DNS"><a href="#ä»€ä¹ˆæ˜¯DNS" class="headerlink" title="ä»€ä¹ˆæ˜¯DNS"></a>ä»€ä¹ˆæ˜¯DNS</h1><p>DNSå³åŸŸåç³»ç»Ÿï¼Œå…¨ç§°æ˜¯Domain Name Systemã€‚å½“æˆ‘ä»¬åœ¨æµè§ˆå™¨è¾“å…¥ä¸€ä¸ªURLåœ°å€çš„æ—¶å€™ï¼Œæµè§ˆå™¨è¦å‘è¿™ä¸ªURLçš„ä¸»æœºåå¯¹äºçš„æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œå°±å¾—çŸ¥é“æœåŠ¡å™¨çš„IPã€‚å¯¹äºæµè§ˆå™¨æ¥è¯´ï¼ŒDNSçš„ä½œç”¨å°±æ˜¯å°†ä¸»æœºåè½¬æ¢ä¸ºIPåœ°å€ã€‚</p><div class="note primary flat"><p>DNSæ˜¯ï¼š</p><ol><li>ä¸€ä¸ªç”±åˆ†å±‚çš„DNSæœåŠ¡å™¨å®ç°çš„åˆ†å¸ƒå¼æ•°æ®åº“</li><li>ä¸€ä¸ªä½¿å¾—ä¸»æœºèƒ½å¤ŸæŸ¥é˜…åˆ†å¸ƒå¼æ•°æ®åº“çš„åº”ç”¨å±‚åè®®</li></ol></div><p>ä¹Ÿå°±æ˜¯ DNSæ˜¯ä¸€ä¸ªåº”ç”¨å±‚çš„åè®®ï¼Œæˆ‘ä»¬å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå…¶ä¸­åŒ…å«æˆ‘ä»¬è¦æŸ¥è¯¢çš„ä¸»æœºåï¼Œä»–å°±ä¼šç»™æˆ‘ä»¬è¿”å›è¿™ä¸ªä¸»æœºåå¯¹åº”çš„IPã€‚</p><p>å…¶æ¬¡ï¼ŒDNSæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œæ•´ä¸ªDNSç”±åˆ†æ•£åœ¨ä¸–ç•Œå„åœ°çš„å¾ˆå¤šå°DNSæœåŠ¡å™¨ç»„æˆï¼Œæ¯å°DNSæœåŠ¡å™¨ä¸Šé¢éƒ½ä¿å­˜äº†ä¸€äº›æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯ä»¥è®©æˆ‘ä»¬æŸ¥åˆ°æœ€ç»ˆä¸»æœºåå¯¹åº”çš„IP</p><p>æ‰€ä»¥DNSçš„æŸ¥è¯¢è¿‡ç¨‹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å»å‘è¿™äº›DNSæœåŠ¡å™¨è®¿é—®ï¼Œç›´åˆ°æŸ¥åˆ°è¿™ä¸ªIPä¸ºæ­¢ã€‚</p><h1 id="åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“"><a href="#åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“" class="headerlink" title="åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“"></a>åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“</h1><h2 id="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼"><a href="#ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼" class="headerlink" title="ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼"></a>ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼</h2><p>å› ä¸ºæ‰€æœ‰çš„ä¸»æœºä¸å¯èƒ½å…¨éƒ¨ipéƒ½æ”¾åœ¨ä¸€å°dnsæœåŠ¡å™¨ä¸Šé¢ï¼Œæ‰€ä»¥å°±ä¸€å°ä¸€å°åˆ†å‡ºæ¥ï¼Œæ¯å°å­˜å‚¨ä¸åŒçš„æ•°æ®ï¼Œè´Ÿè´£ä¸åŒçš„æ˜ å°„ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯å±‚æ¬¡"><a href="#ä»€ä¹ˆæ˜¯å±‚æ¬¡" class="headerlink" title="ä»€ä¹ˆæ˜¯å±‚æ¬¡"></a>ä»€ä¹ˆæ˜¯å±‚æ¬¡</h2><p>DNSæœåŠ¡å™¨æœ‰ä¸‰ç§ç±»å‹ï¼šæ ¹DNSæœåŠ¡å™¨ï¼Œé¡¶çº§åŸŸDNSæœåŠ¡å™¨å’Œæƒå¨NDSæœåŠ¡å™¨ï¼Œ<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421154505.png" alt=""></p><ul><li>æ ¹DNSæœåŠ¡å™¨<br>é¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®æ ¹åŸŸåæ˜¯ä»€ä¹ˆï¼Ÿæ¯”å¦‚<code>www.baidu.com</code>å…¶å®ä»–çš„æ ¹åŸŸåæ˜¯è¢«éšè—çš„ã€‚çœŸæ­£çš„æ ¹åŸŸåæ˜¯<code>www.baidu.com.root</code>åé¢çš„.root</li></ul><p>é‚£ä¹ˆæ ¹DNSæœåŠ¡å™¨çš„ä½œç”¨æ˜¯ä»€ä¹ˆ?å°±æ˜¯ç®¡ç†ä»–çš„ä¸‹ä¸€çº§ï¼Œä¹Ÿå°±æ˜¯é¡¶çº§åŸŸDNSæœåŠ¡å™¨ã€‚é€šè¿‡è¯¢é—®æ ¹DNSæœåŠ¡å™¨ï¼Œæˆ‘ä»¬èƒ½æŸ¥åˆ°è¯¥ä¸»æœºåå¯¹åº”çš„é¡¶çº§åŸŸçš„ipæ˜¯å¤šå°‘ï¼Œä»è€Œç»§ç»­å‘é¡¶çº§åŸŸè¯·æ±‚äº†è§£ä»–çš„ä¸‹ä¸€å±‚ã€‚</p><ul><li><p>é¡¶çº§åŸŸæœåŠ¡å™¨<br>é™¤äº†å‰é¢æåˆ°çš„comæ˜¯é¡¶çº§åŸŸåï¼Œå¸¸è§çš„é¡¶çº§åŸŸåè¿˜æœ‰cnï¼Œorgï¼Œeduç­‰ã€‚ç„¶åé¡¶çº§åŸŸç®¡ç†çš„æ˜¯æƒå¨DNS</p></li><li><p>æƒå¨DNS<br>ç”±å„å¤§å‚å•†è´Ÿè´£ç®¡ç†çš„åŸŸåï¼Œå®ƒå¯ä»¥è¿”å›æœ€ç»ˆçš„ä¸€ä¸ªIP</p></li></ul><p>æœåŠ¡å™¨ä¹‹é—´æ˜¯å¦‚ä½•ç»§ç»­äº¤äº’çš„ï¼Œç»§ç»­å¾€ä¸‹çœ‹ï¼š</p><h1 id="æœ¬åœ°DNSæœåŠ¡å™¨"><a href="#æœ¬åœ°DNSæœåŠ¡å™¨" class="headerlink" title="æœ¬åœ°DNSæœåŠ¡å™¨"></a>æœ¬åœ°DNSæœåŠ¡å™¨</h1><p>ä¸Šä¸€å±‚æ²¡æœ‰è®²åˆ°æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œæ˜¯å› ä¸ºä»–ä¸¥æ ¼æ„ä¹‰ä¸Šä¸å±äºDNSçš„å±‚æ¬¡ç»“æ„ã€‚</p><p>ä»€ä¹ˆæ˜¯æœ¬åœ°DNSæœåŠ¡å™¨ï¼Ÿ</p><p>æ¯ä¸ªISPéƒ½æœ‰ä¸€å°æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œæ¯”å¦‚å°åŒºï¼Œå¤§å­¦ï¼Œæœºæ„ç­‰ã€‚éƒ½æœ‰ä¸€å°æˆ–å¤šå°æœ¬åœ°DNSæœåŠ¡å™¨ã€‚å½“ä¸»æœºå‘å‡ºDNSè¯·æ±‚çš„æ—¶å€™ï¼Œè¯¥è¯·æ±‚è¢«å‘å¾€æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œæœ¬åœ°DNSæœåŠ¡å™¨ä»£ç†è¿™äº›è¯·æ±‚ï¼Œå°†å®ƒä»¬è½¬å‘åˆ°DNSæœåŠ¡å™¨ä¸­ã€‚å¥½æ¯”Nginx</p><h1 id="é€’å½’æŸ¥è¯¢-è¿­ä»£æŸ¥è¯¢"><a href="#é€’å½’æŸ¥è¯¢-è¿­ä»£æŸ¥è¯¢" class="headerlink" title="é€’å½’æŸ¥è¯¢ è¿­ä»£æŸ¥è¯¢"></a>é€’å½’æŸ¥è¯¢ è¿­ä»£æŸ¥è¯¢</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421155733.png" alt=""></p><p>å…¶ä¸­comæ˜¯é¡¶çº§åŸŸå næ˜¯æƒå¨åŸŸå </p><p>è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸»æœºå‘æœ¬åœ°DNSæœåŠ¡å™¨è¯·æ±‚å°±æ˜¯é€’å½’æŸ¥è¯¢<br>æœ¬åœ°æœåŠ¡å™¨å‘æ ¹DNSï¼Œé¡¶çº§DNSå’Œæƒå¨DNSå‘å‡ºçš„è¯·æ±‚å°±æ˜¯è¿­ä»£æŸ¥è¯¢<br>è¿­ä»£çš„ç‰¹ç‚¹å°±æ˜¯æ‰€æœ‰çš„éƒ½æ˜¯ç”±æœ¬åœ°DNSå‘å‡º æ‰€æœ‰çš„æ¥æ”¶ä¹Ÿæ˜¯å›åˆ°æœ¬åœ°DNS</p><p>å½“ç„¶ä¸æ˜¯æ‰€æœ‰çš„DNSæŸ¥è¯¢éƒ½æ˜¯è¿™æ ·çš„æ¨¡å¼ DNSæŸ¥è¯¢å¯ä»¥æ˜¯é€’å½’çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿­ä»£çš„ å¦‚ä¸‹å›¾å°±åªæ˜¯é€’å½’çš„<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421160546.png" alt=""></p><h1 id="DNSç¼“å­˜"><a href="#DNSç¼“å­˜" class="headerlink" title="DNSç¼“å­˜"></a>DNSç¼“å­˜</h1><p>ä¸ºäº†è®©æˆ‘ä»¬æ›´å¿«çš„æ‹¿åˆ°æƒ³è¦çš„IPï¼ŒDNSå¹¿æ³›ä½¿ç”¨äº†ç¼“å­˜æŠ€æœ¯ã€‚DNSçš„ç¼“å­˜åŸç†å°±æ˜¯ï¼Œåœ¨ä¸€ä¸ªDNSæŸ¥è¯¢çš„è¿‡ç¨‹ä¸­ï¼ŒæŸå°DNSæ”¶åˆ°äº†ä¸€ä¸ªDNSåº”ç­”çš„æ—¶å€™ï¼Œå°±èƒ½å°†æ˜ å°„ç¼“å­˜åˆ°æœ¬åœ°ï¼Œä¸‹æ¬¡æŸ¥è¯¢å°±èƒ½ç›´æ¥ç”¨åˆ°ç¼“å­˜çš„å†…å®¹ã€‚</p><p>but ç¼“å­˜ä¸æ˜¯æ°¸ä¹…çš„ï¼Œä»–ä¹Ÿä¼šå®šæ—¶åˆ é™¤ã€‚</p><p>æ‰€ä»¥æœ‰äº†ç¼“å­˜ï¼Œå¾ˆå¤šæ—¶å€™éƒ½ç»•å¼€äº†æ ¹DNSï¼Œæ‰€ä»¥éœ€è¦å‘æ ¹DNSå‘èµ·çš„æŸ¥è¯¢è¯·æ±‚å¾ˆå°‘ã€‚</p><h1 id="DNSè§£æä¼˜åŒ–"><a href="#DNSè§£æä¼˜åŒ–" class="headerlink" title="DNSè§£æä¼˜åŒ–"></a>DNSè§£æä¼˜åŒ–</h1><p>ä¸»è¦åˆ†ä¸ºä¸¤ä¸ªæ–¹æ¡ˆ</p><ul><li>DNSé¢„è§£æ</li><li>å‡å°‘DNSè¯·æ±‚</li></ul><h1 id="DNSé¢„è§£æ"><a href="#DNSé¢„è§£æ" class="headerlink" title="DNSé¢„è§£æ"></a>DNSé¢„è§£æ</h1><div class="note primary flat"><p>DNSè§£æä¹Ÿéœ€è¦æ—¶é—´çš„ï¼Œå¯ä»¥é€šè¿‡é¢„è§£æçš„æ–¹å¼æ¥é¢„å…ˆè·å–åŸŸåæ‰€å¯¹åº”çš„IP</p></div><p>linkæ–¹å¼ï¼šæ‰‹åŠ¨è§£æ<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;dns-prefetch&quot;</span> <span class="attr">href</span>=<span class="string">&quot;//blog.poetries.top&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><br>metaæ–¹å¼ï¼šhttpsè‡ªåŠ¨è§£æ<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;x-dns-prefetch-control&quot;</span> <span class="attr">content</span>=<span class="string">&quot;on&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><br>è®¾ç½®å“åº”å¤´ï¼šè‡ªåŠ¨è§£æ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.set(<span class="string">&#x27;X-DNS-Prefetch-Control&#x27;</span>, <span class="string">&#x27;on&#x27;</span>)</span><br></pre></td></tr></table></figure></p><h1 id="DNSåŠ«æŒ"><a href="#DNSåŠ«æŒ" class="headerlink" title="DNSåŠ«æŒ"></a>DNSåŠ«æŒ</h1><p>åŸŸååŠ«æŒå°±æ˜¯åœ¨åŠ«æŒçš„èŒƒå›´å†…æ‹¦æˆªè§£æçš„è¯·æ±‚ï¼Œåˆ†æè¯·æ±‚çš„åŸŸåï¼ŒæŠŠå®¡æŸ¥èŒƒå›´ä¹‹å¤–çš„è¯·æ±‚æ”¾è¡Œï¼Œå¦åˆ™ç›´æ¥è¿”å›å‡çš„IPåœ°å€æˆ–è€…ä»€ä¹ˆä¹Ÿä¸åšä½¿å…¶å¤±å»å“åº”ï¼Œæ•ˆæœå°±æ˜¯ç‰¹å®šçš„ç½‘å€ä¸èƒ½è®¿é—®æˆ–è€…è®¿é—®çš„æ˜¯å‡çš„ç½‘å€</p><p>åŸŸååŠ«æŒä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼Œä¸€æ–¹é¢è¿˜æœ‰å¯èƒ½è¢«è¯±éª—åˆ°å†’ç‰Œç½‘ç«™è¿›è¡Œç™»é™†å¯¼è‡´éšç§æ³„æ¼</p><p>DNSå¯ä»¥æœ‰æœ¬åœ°DNSåŠ«æŒï¼Œè·¯ç”±DNSåŠ«æŒï¼Œæ”»å‡»DNSæœåŠ¡å™¨</p><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><ol><li>åŠ å¼ºæœ¬åœ°çš„è®¡ç®—æœºç—…æ¯’æ£€æŸ¥ï¼Œå¼€å¯é˜²ç«å¢™ï¼Œé˜²æ­¢æ¶æ„è½¯ä»¶ï¼Œæœ¨é©¬æ„ŸæŸ“è®¡ç®—æœºç­‰ã€‚</li><li>æ”¹å˜è·¯ç”±å™¨é»˜è®¤å¯†ç ï¼Œé˜²æ­¢æ”»å‡»è€…ä¿®æ”¹è·¯ç”±å™¨çš„DNSé…ç½®æŒ‡å‘æ¶æ„çš„DNSæœåŠ¡å™¨ã€‚</li><li>ä¼ä¸šå¯ä»¥å‡†å¤‡ä¸¤ä¸ªorä»¥ä¸Šçš„åŸŸåï¼Œä¸€ä¸ªæŒ‚äº†ç”¨å¦å¤–ä¸€ä¸ª</li><li>ç”¨HTTP DNS ä»£æ›¿Local DNS</li></ol><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>DNSçš„å†…å®¹å…¶å®è®²æ·±äº†è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä½†æ˜¯åŸºæœ¬çš„åŸç†å’Œæ¦‚å¿µè¿˜æ˜¯è¦æ¸…æ¥šï¼Œç†Ÿæ‚‰ä¸€ä¸‹DNSè§£æçš„è¿‡ç¨‹ä»¥åŠè¿™ä¸ªé€’å½’å’Œè¿­ä»£ï¼Œå…³äºåŸŸåè¿™å—ä»¥åè¿˜æ˜¯ä¼šå‡ºæ–‡ç« ï¼Œæœ‰è´­ä¹°åŸŸåçš„æ‰“ç®—ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç½‘ç»œç³»åˆ—" scheme="https://zlinni.github.io/categories/%E7%BD%91%E7%BB%9C%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="ç½‘ç»œ" scheme="https://zlinni.github.io/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>æ·±å…¥æµ…å‡ºFlexå¼¹æ€§å¸ƒå±€</title>
    <link href="https://zlinni.github.io/posts/1131280526/"/>
    <id>https://zlinni.github.io/posts/1131280526/</id>
    <published>2022-04-21T00:31:57.000Z</published>
    <updated>2022-04-25T02:41:30.064Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>è¯¦ç»†è®°å½•flexå¼¹æ€§å¸ƒå±€çš„å…·ä½“å±æ€§å’Œå¸¸è€ƒé¢˜ã€‚<br>å…³é”®è¯ï¼šflexå±æ€§ã€</p></div><h1 id="flexæ¦‚å¿µ"><a href="#flexæ¦‚å¿µ" class="headerlink" title="flexæ¦‚å¿µ"></a>flexæ¦‚å¿µ</h1><p>å¼¹æ€§ç›’å­æ˜¯ä¸€ç§æŒ‰è¡Œæˆ–è€…æŒ‰åˆ—å¸ƒå±€å…ƒç´ çš„ä¸€ç§ä»¥ä¸ºå¸ƒå±€æ–¹æ³•ï¼Œå®¹å™¨é‡Œé¢çš„å…ƒç´ å¯ä»¥è†¨èƒ€å¡«å……é¢å¤–çš„ç©ºé—´ï¼Œæ”¶ç¼©æ¥é€‚åº”æ›´å°çš„ç©ºé—´ï¼Œé€‚ç”¨äºä»»ä½•å…ƒç´ ã€‚</p><p>å…ƒç´ ä½¿ç”¨flexå¸ƒå±€å°±ä¼šåœ¨å†…éƒ¨å½¢æˆBFCï¼Œç›®å‰flexå·²ç»é€‚é…æ‰€æœ‰å¸¸è§„æµè§ˆå™¨</p><h2 id="æ‹“å±•ï¼šBFC"><a href="#æ‹“å±•ï¼šBFC" class="headerlink" title="æ‹“å±•ï¼šBFC"></a>æ‹“å±•ï¼šBFC</h2><p>BFCï¼šå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„ç©ºé—´ï¼Œé‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å¸ƒå±€ã€‚</p><p>è§¦å‘BFCçš„æ–¹å¼ï¼š</p><ul><li><code>overflow:hidden</code></li><li><code>display:inline-block,table-cell,flex</code></li><li><code>position:absolute,fixed</code></li></ul><p>BFCè§£å†³çš„é—®é¢˜ï¼š</p><ul><li>é«˜åº¦å¡Œé™·</li><li>marginè¾¹è·é‡å </li></ul><h1 id="flexå’Œinline-flex"><a href="#flexå’Œinline-flex" class="headerlink" title="flexå’Œinline-flex"></a>flexå’Œinline-flex</h1><p>displayæœ‰ä¸¤ç§è®¾ç½®æ–¹å¼ï¼šflexå’Œinline-flexã€‚</p><p>åŒºåˆ«åœ¨äºï¼š<br>flexå…ƒç´ å’Œå®½åº¦æ˜¯çˆ¶å®¹å™¨çš„100%<br>inline-flexæ˜¯æ‰€æœ‰å…ƒç´ çš„å®½åº¦å’Œ<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421110404.png" alt=""></p><p>é‚£ä¹ˆåœ¨å…ƒç´ æº¢å‡ºçš„æƒ…å†µä¸‹æ˜¯æ€ä¹ˆæ ·å‘¢ï¼Ÿ<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421110450.png" alt=""><br>å¯è§inline-flexä¼šæ’‘å¤§flexå®¹å™¨ï¼Œé€ æˆæº¢å‡º</p><p>ä½¿ç”¨inline-flexçš„æ—¶å€™ï¼Œæ³¨æ„é…åˆmin-widthå’Œmin-heightä¸€èµ·ä½¿ç”¨ã€‚ä¸å»ºè®®æ˜¾ç¤ºè®¾ç½®heightå’Œwidth</p><h2 id="å¸¸è§ä½¿ç”¨åœºæ™¯"><a href="#å¸¸è§ä½¿ç”¨åœºæ™¯" class="headerlink" title="å¸¸è§ä½¿ç”¨åœºæ™¯"></a>å¸¸è§ä½¿ç”¨åœºæ™¯</h2><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421110628.png" alt=""><br>å¯ä»¥æ€»ç»“ä¸º æ•´ä¸ªå®¹å™¨çš„è®¾ç½®flex ä¸å æ•´ä¸ªå®¹å™¨çš„æˆ–è€…å®¹å™¨çš„éƒ¨åˆ† è®¾ç½®ä¸ºinline-flex</p><h1 id="ä¸»è½´å’Œäº¤å‰è½´"><a href="#ä¸»è½´å’Œäº¤å‰è½´" class="headerlink" title="ä¸»è½´å’Œäº¤å‰è½´"></a>ä¸»è½´å’Œäº¤å‰è½´</h1><p>flexå¸ƒå±€æœ‰ä¸¤ä¸ªè½´çš„æ¦‚å¿µï¼šä¸»è½´å’Œäº¤å‰è½´ã€‚æ°´å¹³çš„å«åšä¸»è½´ï¼Œå‚ç›´çš„å«åšäº¤å‰è½´ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®å«åšstart ç»“æŸå«åšend äº¤å‰è½´ä¹Ÿæ˜¯å¦‚æ­¤ã€‚<br>flexå¸ƒå±€çš„å…ƒç´ ç§°ä¸ºå®¹å™¨containerï¼Œä»–çš„æ‰€æœ‰å­å…ƒç´ éƒ½æ˜¯ä¸€ä¸ªé¡¹ç›®item</p><h1 id="å®¹å™¨çš„å±æ€§"><a href="#å®¹å™¨çš„å±æ€§" class="headerlink" title="å®¹å™¨çš„å±æ€§"></a>å®¹å™¨çš„å±æ€§</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421085022.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421085431.png" alt=""></p><h2 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h2><ul><li>row:æ°´å¹³å·¦ å·¦å¯¹é½</li><li>row-reverse:æ°´å¹³å³ å³å¯¹é½</li><li>column: å‚ç›´ä¸Š ä¸Šå¯¹é½</li><li>column-reverse: å‚ç›´ä¸‹ ä¸‹å¯¹é½</li></ul><p>åœºæ™¯<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421110854.png" alt=""></p><p>ç”±äºé»˜è®¤ä¼šæºå¸¦<code>flex-direction:row</code>ï¼ˆä»£ç å†—ä½™ï¼‰æ‰€ä»¥åœ¨érowçš„æ—¶å€™å†è®¾ç½®flex-directionåšå¸ƒå±€ç®—æ³•ä¼˜åŒ–</p><h2 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h2><p>é»˜è®¤æƒ…å†µä¸‹å…ƒç´ ä¸æ¢è¡Œnowrapï¼ŒåŠ äº†wrapå±æ€§ä¹‹åï¼Œä¼šæ¢è¡Œ</p><ul><li>nowrap ä¸æ¢</li><li>wrap æ¢è¡Œ</li><li>wrap-reverse æ¢è¡Œ ç¬¬ä¸€è¡Œåœ¨ä¸‹æ–¹<br>eg<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">6</span> <span class="literal">null</span> <span class="literal">null</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span>    <span class="number">4</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h2><p>æ˜¯directionå’Œwrapå±æ€§çš„ç®€å†™ é»˜è®¤ä¸ºrow nowrap<br>åªè®¾ç½®ä¸€ä¸ªå€¼çš„æ—¶å€™ çœ‹åŒ¹é…å“ªä¸ªå±æ€§å€¼ æ¥å–å€¼<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-flow</span>: row || nowrap</span><br></pre></td></tr></table></figure></p><h2 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h2><p>æè¿°äº†å…ƒç´ åœ¨ä¸»è½´ä¸Šé¢çš„å¯¹é½æ–¹å¼</p><ul><li>flex-start å·¦å¯¹é½</li><li>flex-end å³å¯¹é½</li><li>center å±…ä¸­</li><li>space-around æ¯ä¸ªé¡¹ç›®ä¸¤ç«¯çš„é—´éš”ç›¸ç­‰ æ„å‘³ç€ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ä¸¤ä¾§çš„å®½åº¦ä¸ç­‰</li><li>space-between ä¸¤ç«¯å¯¹é½ é¡¹ç›®ä¹‹é—´çš„é—´éš”ç›¸ç­‰</li><li>space-evenly: é¡¹ç›®çš„é—´éš”å’Œå®¹å™¨çš„é—´éš”ç›¸ç­‰</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421090432.png" alt=""></p><h2 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h2><p>æè¿°å…ƒç´ åœ¨äº¤å‰è½´ä¸Šé¢çš„å¯¹é½æ–¹å¼</p><ul><li>flex-start ä¸Šå¯¹é½</li><li>flex-end ä¸‹å¯¹é½</li><li>center å±…ä¸­</li><li>baseline é¡¹ç›®ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½</li><li>stretch é»˜è®¤ å¦‚æœæ²¡è®¾ç½®é«˜åº¦æˆ–è€…auto åˆ™å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421090724.png" alt=""></p><h2 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h2><p>å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ å‰æè®¾ç½®flex-wrapï¼šwrap å¦åˆ™ä¸ç”Ÿæ•ˆ</p><ul><li>flex-start äº¤å‰è½´èµ·ç‚¹</li><li>flex-end äº¤å‰è½´ä¸­ç»ˆç‚¹</li><li>center ä¸­ç‚¹</li><li>space-between ä¸¤ç«¯å¯¹é½ è½´çº¿ä¹‹é—´å¹³å‡åˆ† </li><li>space-around  è½´çº¿é—´é—´éš”ç›¸ç­‰</li><li>stretch é»˜è®¤å€¼ å æ»¡æ•´ä¸ªäº¤å‰è½´</li></ul><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421091427.png" alt=""></p><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421111124.png" alt=""></p><h2 id="gap"><a href="#gap" class="headerlink" title="gap"></a>gap</h2><p>gapç”¨æ¥æ§åˆ¶flexé¡¹ç›®ä¹‹é—´çš„é—´è·ï¼Œä½†ä¼šå¿½ç•¥flexé¡¹ç›®ä¸flexå®¹å™¨è¾¹ç¼˜çš„é—´è·<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421111332.png" alt=""></p><h1 id="é¡¹ç›®çš„å­é¡¹å±æ€§"><a href="#é¡¹ç›®çš„å­é¡¹å±æ€§" class="headerlink" title="é¡¹ç›®çš„å­é¡¹å±æ€§"></a>é¡¹ç›®çš„å­é¡¹å±æ€§</h1><h2 id="order"><a href="#order" class="headerlink" title="order"></a>order</h2><p>å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº æ•°å€¼è¶Šå°è¶Šå‰ é»˜è®¤0 å¯ä»¥æ˜¯è´Ÿæ•°<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421091444.png" alt=""></p><p>åœºæ™¯ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421111454.png" alt=""></p><h2 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h2><p>å®šä¹‰äº†å®¹å™¨ä¸­å‰©ä½™ç©ºé—´åº”è¯¥æœ‰å¤šå°‘åˆ†é…ç»™é¡¹ç›®ï¼Œæœ€ç»ˆçš„å®½åº¦ä¸ºï¼šè‡ªèº«å®½åº¦+å®¹å™¨å‰©ä½™ç©ºé—´åˆ†é…å®½åº¦ è¯¥å±æ€§çš„æœ€å¤§å€¼æ˜¯1 è¶…è¿‡1æŒ‰1æ¥æ‹“å±•<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421091802.png" alt=""></p><h2 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h2><p>è¯¥å±æ€§æŒ‡å®šäº†flexå…ƒç´ çš„æ”¶ç¼©è§„åˆ™ã€‚åªåœ¨é¡¹ç›®çš„å…ƒç´ å®½åº¦å’Œå¤§äºå®¹å™¨çš„æ—¶å€™æ‰ä¼šè§¦å‘ã€‚æ”¶ç¼©çš„å¤§å°æ˜¯ä¾æ®è¯¥å±æ€§çš„å€¼ é»˜è®¤ä¸º1</p><p>eg ä¸¤ä¸ªdiv ç¬¬ä¸€ä¸ªdivå®½åº¦200 ç¬¬äºŒä¸ªdivå®½åº¦300 å®¹å™¨400<br>å®¹å™¨è®¾ç½®äº†flexå¸ƒå±€ ä¸¤ä¸ªdivçš„shrinkéƒ½è®¾ç½®ä¸º1<br>é‚£ä¹ˆæ­¤æ—¶ ä¸¤ä¸ªdiv500å¤§äº400 æ‰€ä»¥è§¦å‘æ”¶ç¼©</p><p>é‚£ä¹ˆæ”¶ç¼©åå­é¡¹çš„å®½åº¦æ€ä¹ˆè®¡ç®—å‘¢ï¼Ÿ<br>æœ‰å…¬å¼å¦‚ä¸‹</p><ol><li>æ‰€æœ‰å­é¡¹å®½åº¦å’Œ-å®¹å™¨çš„å®½åº¦=<code>500 - 400 = 100</code></li><li>ç¬¬ä¸€ä¸ªå­é¡¹çš„å æ¯” <code>2/5</code> ç¬¬äºŒä¸ªå­é¡¹çš„å æ¯” <code>3/5</code></li><li>ç¬¬ä¸€ä¸ªå­é¡¹çš„å®½åº¦ä¸º<code>200-2/5*100=160</code>,ç¬¬äºŒä¸ªä¸º:<code>300-3/5*100=240</code></li></ol><h2 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h2><p>æŒ‡å®šå­é¡¹ç›®çš„åœ¨ä¸»è½´çš„åˆå§‹åŒ–å¤§å°ï¼Œä¼˜å…ˆçº§é«˜äºè‡ªèº«å®½åº¦width<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-basis</span>: <span class="number">0</span> | <span class="number">100%</span> | auto | &lt;length&gt;</span><br></pre></td></tr></table></figure></p><h2 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h2><p>flexæ˜¯flex-grow flex-shrink å’Œ flex-basisçš„ç®€å†™<br>å•å€¼çš„æ—¶å€™ æ•°å€¼è¢«å½“ä½œflexgrow ä¸€ä¸ªæœ‰æ•ˆçš„å®½åº¦å€¼è¢«å½“ä½œbasis<br>åŒå€¼çš„æ—¶å€™ ä¸€ä¸ªæ— å•ä½çš„æ•° è¢«å½“æˆshrink ä¸€ä¸ªæœ‰æ•ˆçš„å®½åº¦å€¼è¢«å½“æˆbasis<br>ä¸‰å€¼ ç•¥</p><p>é»˜è®¤ 0 1 auto</p><p>å–å€¼ï¼Œé™¤äº†è‡ªå®šä¹‰çš„ä¸‰ç§å¤–ï¼š<br><code>auto</code>æ ¹æ®è‡ªèº«çš„widthå’Œheightæ¥ç¡®å®šæ¯”ä¾‹ ç›¸å½“äº<code>1 1 auto</code><br><code>initial</code>ç›¸å½“äº0 1 auto<br><code>none</code> 0 0 auto</p><h2 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a>align-self</h2><p>å…è®¸å•ä¸ªé¡¹ç›®æœ‰å’Œå…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯ä»¥è¦†ç›–align-itemså±æ€§ï¼Œé»˜è®¤autoè¡¨ç¤ºç»§æ‰¿align-items å¦‚æœæ²¡æœ‰çˆ¶å…ƒç´  åˆ™ç­‰äºstretch<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421092936.png" alt=""></p><p>å¸¸è§ä½¿ç”¨åœºæ™¯<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421111420.png" alt=""></p><h1 id="Flexé¡¹ç›®ä¸Šçš„-margin"><a href="#Flexé¡¹ç›®ä¸Šçš„-margin" class="headerlink" title="Flexé¡¹ç›®ä¸Šçš„ margin"></a>Flexé¡¹ç›®ä¸Šçš„ margin</h1><p>åœ¨Flexé¡¹ç›®æ˜¾å¼è®¾ç½® margin çš„å€¼ä¸º auto å¯ä»¥çµæ´»çš„æ§åˆ¶å•ä¸ªFlexé¡¹ç›®åœ¨Flexå®¹å™¨ä¸­çš„ä½ç½®ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421105904.png" alt=""><br>æ¯”å¦‚åƒä¸‹å›¾è¿™æ ·çš„æ•ˆæœï¼Œä½¿ç”¨ margin-left: auto å°±éå¸¸çš„å®ç”¨ï¼š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421105923.png" alt=""></p><h1 id="å¸¸è§åœºæ™¯"><a href="#å¸¸è§åœºæ™¯" class="headerlink" title="å¸¸è§åœºæ™¯"></a>å¸¸è§åœºæ™¯</h1><p>ç­‰é«˜å¸ƒå±€</p><p>å·¦ä¾§å®½åº¦å›ºå®š å³ä¾§å®½åº¦è‡ªé€‚åº”å¸ƒå±€ï¼ˆå¸¸è§çš„tobç³»ç»Ÿå¸ƒå±€ï¼Œå·¦ä¾§èœå•æ ‘å³ä¾§å†…å®¹ï¼‰<br>ç²˜æ€§é¡µè„š<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220421105548.png" alt=""><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;flex__container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;coupon&quot;</span>&gt;</span>å·<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;divider&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;price&quot;</span>&gt;</span><span class="symbol">&amp;yen;</span>1000<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.flex__container &#123;</span><br><span class="line">  display: inline-flex;</span><br><span class="line">  min-width: 200px;</span><br><span class="line">  height: 60px;</span><br><span class="line">  </span><br><span class="line">  border: 1px solid rgba(255, 0, 54, 1);</span><br><span class="line">  background-color: rgba(255, 0, 54, 0.1);</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  color: #ff0036;</span><br><span class="line">  font-size: 24px;</span><br><span class="line">  font-weight: 400;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.flex__container &gt; span &#123;</span><br><span class="line">  display: inline-flex;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  align-items: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.divider &#123;</span><br><span class="line">  border-right: 1px dashed currentColor;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.coupon &#123;</span><br><span class="line">  min-width: 50px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.price &#123;</span><br><span class="line">  flex: 1;</span><br><span class="line">  min-width: 0;</span><br><span class="line">  padding: 0 10px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="CSSç³»åˆ—" scheme="https://zlinni.github.io/categories/CSS%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="é¢è¯•" scheme="https://zlinni.github.io/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptåˆé›†</title>
    <link href="https://zlinni.github.io/posts/3250811507/"/>
    <id>https://zlinni.github.io/posts/3250811507/</id>
    <published>2022-04-20T07:40:52.000Z</published>
    <updated>2022-05-05T08:27:39.444Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><div class="note primary flat"><p>å°†2wå­—é•¿æ–‡åˆ†æˆäº†ä¸ƒä¸ªæ¨¡å—ï¼Œæ–¹ä¾¿ä»Šåè¡¥å……å†…å®¹ï¼Œè¯¦è§ä¼ é€é—¨ã€‚</p></div><h1 id="ä¼ é€é—¨"><a href="#ä¼ é€é—¨" class="headerlink" title="ä¼ é€é—¨"></a>ä¼ é€é—¨</h1><p><a href="https://zlinni.github.io/posts/3931945421/">ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘ â€”æ•°æ®ç±»å‹åŠå‘¨è¾¹</a><br><a href="https://zlinni.github.io/posts/961371178/">ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘¡â€”thisåŠå‘¨è¾¹</a><br><a href="https://zlinni.github.io/posts/1060178397/">ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘¢â€”åŸå‹åŠå‘¨è¾¹</a><br><a href="https://zlinni.github.io/posts/3693633031/">ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘£â€”å¼‚æ­¥ä»»åŠ¡ä¸äº‹ä»¶</a><br><a href="https://zlinni.github.io/posts/3693633031/">ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘¤â€”åƒåœ¾å›æ”¶ä¸å†…å­˜æ³„æ¼</a><br><a href="https://zlinni.github.io/posts/3318597918/">ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘¥â€”é¢å‘å¯¹è±¡ä¸æ¨¡å—åŒ–</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="JSç³»åˆ—" scheme="https://zlinni.github.io/categories/JS%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="js" scheme="https://zlinni.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘¥--é¢å‘å¯¹è±¡ä¸æ¨¡å—åŒ–</title>
    <link href="https://zlinni.github.io/posts/3318597918/"/>
    <id>https://zlinni.github.io/posts/3318597918/</id>
    <published>2022-04-20T07:32:49.000Z</published>
    <updated>2022-04-25T02:41:30.083Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å…³é”®è¯"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯</h1><div class="note simple"><p>é¢å‘å¯¹è±¡ã€è¿­ä»£å™¨ã€æ¨¡å—åŒ–</p></div><h1 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h1><h2 id="å¯¹è±¡éå†"><a href="#å¯¹è±¡éå†" class="headerlink" title="å¯¹è±¡éå†"></a>å¯¹è±¡éå†</h2><ol><li><code>for in</code></li><li><code>Object.keys(xxx)</code>æŠŠkeyå–å‡ºæ¥ä½œä¸ºä¸€ä¸ªæ•°ç»„ã€‚</li><li><code>Object.values(xxx)</code>éå†å¯¹è±¡çš„å€¼ä½œä¸ºä¸€ä¸ªæ•°ç»„<h2 id="ç¼–ç¨‹æ€æƒ³"><a href="#ç¼–ç¨‹æ€æƒ³" class="headerlink" title="ç¼–ç¨‹æ€æƒ³"></a>ç¼–ç¨‹æ€æƒ³</h2></li></ol><ul><li>åŸºæœ¬æ€æƒ³æ˜¯ä½¿ç”¨å¯¹è±¡ï¼Œç±»ï¼Œç»§æ‰¿ï¼Œå°è£…ç­‰åŸºæœ¬æ¦‚å¿µæ¥è¿›è¡Œç¨‹åºè®¾è®¡</li><li>ä¼˜ç‚¹ï¼š<ul><li>æ˜“ç»´æŠ¤ï¼šé‡‡ç”¨é¢å‘å¯¹è±¡æ€æƒ³è®¾è®¡çš„ç»“æ„ï¼Œå¯è¯»æ€§é«˜ï¼Œç”±äºç»§æ‰¿çš„å­˜åœ¨ï¼Œå³ä½¿æ”¹å˜éœ€æ±‚ï¼Œç»´æŠ¤ä¹Ÿåªæ˜¯åœ¨å±€éƒ¨æ¨¡å—ï¼Œæ‰€ä»¥ç»´æŠ¤èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œæˆæœ¬è¾ƒä½</li><li>æ˜“æ‹“å±•</li><li>å¼€å‘å·¥ä½œçš„é‡ç”¨æ€§ï¼Œç»§æ‰¿æ€§é«˜ï¼Œé™ä½é‡å¤å·¥ä½œé‡</li><li>ç¼©çŸ­äº†å¼€å‘å‘¨æœŸ<div class="note primary flat"><p>ä¸€èˆ¬é¢å‘å¯¹è±¡åŒ…æ‹¬ï¼šç»§æ‰¿ï¼Œå°è£…ï¼Œå¤šæ€ï¼ŒæŠ½è±¡</p></div></li></ul></li></ul><h2 id="å¯¹è±¡å½¢å¼çš„ç»§æ‰¿"><a href="#å¯¹è±¡å½¢å¼çš„ç»§æ‰¿" class="headerlink" title="å¯¹è±¡å½¢å¼çš„ç»§æ‰¿"></a>å¯¹è±¡å½¢å¼çš„ç»§æ‰¿</h2><div class="note primary flat"><p>è®²æ·±æµ…æ‹·è´ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹åœ¨æ ˆé‡Œé¢ï¼Œè¢«å¤åˆ¶äº†å°±ç®—ä¿®æ”¹ä¹Ÿä¸ä¼šæ”¹å˜åŸæ¥çš„çš„å€¼ï¼Œå¼•ç”¨æ•°æ®ç±»å‹åœ¨å †é‡Œé¢ï¼Œå› ä¸ºå…±äº«å†…å­˜æ‰€ä»¥å¤åˆ¶åè¢«ä¿®æ”¹ä¼šæ”¹å˜æºå¯¹è±¡çš„å€¼ï¼Œè‡³æ­¤å¼•ç”³å‡ºæ·±æµ…æ‹·è´ã€‚</p></div><ul><li>æµ…æ‹·è´<div class="note primary flat"><p>åŸºæœ¬çš„æµ…æ‹·è´å°±æ˜¯å¯¹è±¡çš„èµ‹å€¼ï¼Œä½†æˆ‘ä»¬éœ€è¦æ³¨æ„ï¼Œå®é™…ä¸Šæˆ‘ä»¬çš„éœ€æ±‚æ˜¯å¤åˆ¶æºå¯¹è±¡ä¸Šé¢çš„å±æ€§ï¼Œé‚£ä¹ˆå•çº¯çš„èµ‹å€¼ï¼Œä¼šæŠŠæ–°å¯¹è±¡çš„å€¼ç»™è¦†ç›–æ‰ã€‚å‚è§ä¸‹é¢</p></div></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;allin&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">address</span>: &#123;</span><br><span class="line">        <span class="attr">home</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">        <span class="attr">office</span>: <span class="string">&#x27;office&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sclools</span>: [<span class="string">&#x27;x&#x27;</span>,<span class="string">&#x27;z&#x27;</span>],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> programer = &#123;</span><br><span class="line">    <span class="attr">language</span>: <span class="string">&#x27;js&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//å¦‚æœä¸ä½¿ç”¨è¯¥æ–¹æ³• programmeré‡Œé¢çš„languageä¼šè¢«è¦†ç›–æ‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">p, c</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> c = c || &#123;&#125;;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">var</span> prop <span class="keyword">in</span> p)&#123;</span><br><span class="line">        c[prop] = p[prop];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">extend(Person, programer);</span><br><span class="line"><span class="comment">//or </span></span><br><span class="line"><span class="comment">// programer = Object.assign(programer,Person);</span></span><br><span class="line">programer.name;  <span class="comment">// allin</span></span><br><span class="line">programer.address.home;  <span class="comment">// home</span></span><br><span class="line">programer.address.home = <span class="string">&#x27;house&#x27;</span>;  <span class="comment">//house</span></span><br><span class="line">Person.address.home;  <span class="comment">// house</span></span><br><span class="line"><span class="comment">//programmerä¾æ—§ä¿ç•™è‡ªå·±çš„language</span></span><br></pre></td></tr></table></figure><div class="note warning flat"><p>æ³¨æ„ æµ…æ‹·è´ä¸æ˜¯æ–°å¯¹è±¡çš„åœ°å€æŒ‡å‘æ•´ä¸ªæ—§å¯¹è±¡çš„åœ°å€ï¼Œè€Œæ˜¯æ‹·è´æ—§å¯¹è±¡çš„å±æ€§çš„åœ°å€ã€‚å³è‡ªå·±åŸå…ˆçš„å†…å®¹ä¸å˜ï¼Œæ‹·è´çš„è¿‡ç¨‹ä¸­å¦‚æœkeyé‡å¤è¦†ç›–ï¼Œå¦åˆ™ä¿ç•™ã€‚<br>æ€è·¯æ˜¯éå†å¯¹è±¡ èµ‹å€¼ã€‚</p></div><p>æ·±æ‹·è´<br><div class="note primary flat"><p>æ·±æ‹·è´æ˜¯å¼€è¾Ÿä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ï¼Œå°†æºå¯¹è±¡çš„å„ä¸ªå±æ€§å¤åˆ¶è¿›å»<br>æ³¨æ„çš„ç‚¹ï¼šå¯¹è±¡åŸå‹ä¸Šé¢çš„å±æ€§ä¸åº”è¯¥å»æ‹·è´ï¼Œä½¿ç”¨åˆ°<code>Object.hasOwnProperty(key)</code></p></div></p><ol><li>é€šè¿‡<code>JSON.parse(JSON.stringfy())</code>è¿›è¡Œæ·±æ‹·è´</li></ol><ul><li>æ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Œåºåˆ—åŒ–æ˜¯å­˜å‚¨åœ°å€çš„ä¸€ä¸ªæ˜ å°„ï¼Œæ‰€ä»¥ååºåˆ—åŒ–ä¹‹åï¼Œä¿®æ”¹å¹¶ä¸ä¼šå½±å“åŸå…ˆçš„åœ°å€ã€‚å°±å¯ä»¥è¾¾æˆæ·±æ‹·è´ã€‚</li><li>ç¼ºç‚¹ï¼šä¸èƒ½æ‹·è´<code>undefined function æ­£åˆ™ Errorå¯¹è±¡</code></li></ul><ol><li>é€’å½’</li></ol><ul><li>é€šè¿‡åˆ¤æ–­å¼•ç”¨ç±»å‹æ•°æ®è¿›è¡Œåˆå§‹åŒ–ä¹‹åèµ‹å€¼çš„æ“ä½œæŒ‡å‘æ–°çš„åœ°å€ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deepClone</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ˜¯å¦æ˜¯å¼•ç”¨ç±»å‹æˆ–è€…null å¦åˆ™è¿”å›æºå¯¹è±¡è¿›è¡Œæµ…æ‹·è´</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>||obj===<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„ï¼Œåˆå§‹åŒ–åœ°å€ã€‚</span></span><br><span class="line">    <span class="keyword">let</span> result;</span><br><span class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> <span class="built_in">Array</span>)&#123;</span><br><span class="line">        result = [];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        result = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é€’å½’è°ƒç”¨ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">            result[key] = deepClone(obj[key]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure></li><li>ç¼ºç‚¹ï¼šæ ˆä¼šæº¢å‡ºã€‚</li></ul><h2 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h2><ul><li>å‘½åç©ºé—´<ul><li>jsæ˜¯æ²¡æœ‰å‘½åç©ºé—´çš„ï¼Œå› æ­¤å¯ä»¥ç”¨å¯¹è±¡æ¥æ¨¡æ‹Ÿ</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = &#123;&#125;<span class="comment">//å‘½åç©ºé—´app</span></span><br><span class="line"><span class="comment">//æ¨¡å—1</span></span><br><span class="line">app.module1 = &#123;</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&#x27;allin&#x27;</span>,</span><br><span class="line">  <span class="attr">f</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">app.module1.name;</span><br><span class="line">app.module1.f();</span><br></pre></td></tr></table></figure><div class="note primary flat"><p>å¯¹è±¡çš„å±æ€§å¤–ç•Œæ˜¯å¯è¯»å¯å†™çš„ï¼Œé‚£ä¹ˆå¦‚ä½•è¾¾åˆ°å°è£…çš„ç›®çš„ï¼Ÿé€šè¿‡é—­åŒ…å’Œå±€éƒ¨å˜é‡</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Girl</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//é€šè¿‡æ–¹æ³•è®¿é—®å˜é‡</span></span><br><span class="line">  <span class="keyword">var</span> love = <span class="string">&#x27;jojo&#x27;</span>;</span><br><span class="line">  <span class="built_in">this</span>.name =name;</span><br><span class="line">  <span class="built_in">this</span>.age = age;</span><br><span class="line">  <span class="built_in">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> love;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.movelove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    love = <span class="string">&#x27;aaa&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> g = <span class="keyword">new</span> Girl(<span class="string">&#x27;bb&#x27;</span>,<span class="number">19</span>);</span><br><span class="line">g.say();</span><br><span class="line">g.movelove();</span><br><span class="line">g.say();</span><br></pre></td></tr></table></figure><h2 id="é™æ€æˆå‘˜"><a href="#é™æ€æˆå‘˜" class="headerlink" title="é™æ€æˆå‘˜"></a>é™æ€æˆå‘˜</h2><div class="note primary flat"><p>å°±æ˜¯åœ¨å‡½æ•°å¤–é¢å®šä¹‰é™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•åªæœ‰è¯¥ç±»èƒ½å¤Ÿä½¿ç”¨ã€‚</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">100</span>;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é™æ€æˆå‘˜</span></span><br><span class="line">Person.walk = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;static&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line">Person.walk();  <span class="comment">// static</span></span><br></pre></td></tr></table></figure><h2 id="ç§æœ‰ä¸å…¬æœ‰"><a href="#ç§æœ‰ä¸å…¬æœ‰" class="headerlink" title="ç§æœ‰ä¸å…¬æœ‰"></a>ç§æœ‰ä¸å…¬æœ‰</h2><div class="note primary flat"><p>å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§åˆ†ä¸ºç§æœ‰å’Œå…¬æœ‰ï¼Œå…¬æœ‰çš„å±æ€§éœ€è¦åœ¨å®ä¾‹åŒ–çš„æ—¶å€™ä¼ å…¥å¯¹åº”çš„å€¼å»è°ƒç”¨ï¼Œç§æœ‰çš„å±æ€§å’Œæ–¹æ³•åªèƒ½é€šè¿‡å…¬æœ‰çš„æ–¹æ³•æš´éœ²å‡ºå»ã€‚æ³¨æ„ç§æœ‰çš„æ–¹æ³•å¦‚æœè¿”å›çš„æ˜¯å…¬æœ‰çš„å±æ€§ï¼Œè¿˜éœ€è¦ä½¿ç”¨callæ”¹å˜thisæŒ‡å‘</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// ç§æœ‰å±æ€§ä¸æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;allin&#x27;</span>;</span><br><span class="line">    <span class="keyword">var</span> work = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.id);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//å…¬æœ‰å±æ€§ä¸æ–¹æ³•</span></span><br><span class="line">    <span class="built_in">this</span>.id = id;</span><br><span class="line">    <span class="built_in">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;say hello&#x27;</span>);</span><br><span class="line">        work.call(<span class="built_in">this</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="number">123</span>);</span><br><span class="line">p1.name; <span class="comment">// undefined</span></span><br><span class="line">p1.id;  <span class="comment">// 123</span></span><br><span class="line">p1.say();  <span class="comment">// say hello 123</span></span><br></pre></td></tr></table></figure><h2 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h2><div class="note primary flat"><p>åŒä¸€ä¸ªçˆ¶ç±»ç»§æ‰¿å‡ºæ¥çš„å­ç±»æœ‰å„è‡ªçš„å½¢æ€,å†™çš„æ—¶å€™æ³¨æ„<code>å­ç±»,prototype = new çˆ¶ç±»()</code></p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.eat = <span class="string">&#x27;è‚‰&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tiger</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.color = <span class="string">&#x27;é»‘é»„ç›¸é—´&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cheetah</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.color = <span class="string">&#x27;æŠ¥æ–‡&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Lion</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">this</span>.color = <span class="string">&#x27;åœŸé»„è‰²&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Tiger.prototype =  Cheetah.prototype = Lion.prototype = <span class="keyword">new</span> Cat();<span class="comment">//å…±äº«ä¸€ä¸ªç¥–å…ˆ Cat</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> T = <span class="keyword">new</span> Tiger();</span><br><span class="line"><span class="keyword">var</span> C = <span class="keyword">new</span> Cheetah();</span><br><span class="line"><span class="keyword">var</span> L = <span class="keyword">new</span> Lion();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(T.color);</span><br><span class="line"><span class="built_in">console</span>.log(C.color);</span><br><span class="line"><span class="built_in">console</span>.log(L.color);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(T.eat);</span><br><span class="line"><span class="built_in">console</span>.log(C.eat);</span><br><span class="line"><span class="built_in">console</span>.log(L.eat);</span><br></pre></td></tr></table></figure><h2 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h2><div class="note primary flat"><p>è™šå‡½æ•°æ˜¯ç±»æˆå‘˜ä¸­çš„æ¦‚å¿µï¼Œæ˜¯åªåšäº†ä¸€ä¸ªå£°æ˜è€Œæœªå®ç°çš„æ–¹æ³•ï¼Œå…·æœ‰è™šå‡½æ•°çš„ç±»ç§°ä¹‹ä¸ºæŠ½è±¡ç±»ã€‚æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–å› ä¸ºå…¶ä¸­çš„è™šå‡½æ•°å¹¶ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„å‡½æ•°ï¼Œä¸èƒ½è¢«è°ƒç”¨ã€‚<br>åœ¨jsä¸­å®ç°æŠ½è±¡ç±»å°±æ˜¯åœ¨çˆ¶ç±»ä¸­è°ƒç”¨ä¸€ä¸ªæœªå®šä¹‰çš„æ–¹æ³•ï¼Œä½†è¿™ä¸ªæ–¹æ³•åœ¨å­ç±»ä¸­å¿…é¡»è¢«å®ç°ã€‚</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AbstractClass</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;æŠ½è±¡ç±»ä¸èƒ½ç›´æ¥è¢«è°ƒç”¨&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">AbstractClass.prototype.detect = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;start&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">AbstractClass.prototype.stop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;stop&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">AbstractClass.prototype.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;error&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NormalClass</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  NormalClass.prototype = <span class="built_in">Object</span>.create(AbstractClass.prototype);</span><br><span class="line">  NormalClass.prototype.constructor = NormalClass;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> NormalClass();</span><br><span class="line"><span class="built_in">console</span>.log(n)</span><br><span class="line">n.detect();</span><br><span class="line">n.init();</span><br></pre></td></tr></table></figure><h2 id="QA"><a href="#QA" class="headerlink" title="QA"></a>QA</h2><ol><li>é¢å‘å¯¹è±¡çš„ä¸‰ä¸ªåŸºæœ¬ç‰¹å¾</li><li>æ‰‹å†™ä¸€ä¸‹å‡½æ•°çš„å…¬æœ‰å’Œç§æœ‰æ–¹æ³•ä»¥åŠè°ƒç”¨çš„å½¢å¼<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;jojo&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.id;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">this</span>.id = id;</span><br><span class="line">  <span class="built_in">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;111&#x27;</span>);</span><br><span class="line">    sayName.call(<span class="built_in">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h1 id="Iteratorè¿­ä»£å™¨"><a href="#Iteratorè¿­ä»£å™¨" class="headerlink" title="Iteratorè¿­ä»£å™¨"></a>Iteratorè¿­ä»£å™¨</h1><div class="note primary flat"><p>Iteratoræ˜¯ä¸€ç§æ¥å£ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸€ç§è§„èŒƒï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶ã€‚ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº†Iteratoræ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œã€‚å³ä¾æ¬¡å¤„ç†è¯¥æ•°æ®ç»“æ„çš„æ‰€æœ‰æˆå‘˜</p></div><p>è¯­æ³•ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator]:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><div class="note primary flat"><p><code>[Symbol.iterator]</code>å±æ€§åæ˜¯å›ºå®šçš„å†™æ³•ï¼Œåªè¦æ‹¥æœ‰äº†è¯¥å±æ€§çš„å¯¹è±¡ï¼Œå°±èƒ½ç”¨è¿­ä»£å™¨çš„æ–¹å¼è¿›è¡Œéå†ã€‚</p></div></p><ul><li>è¿­ä»£å™¨çš„éå†æ–¹æ³•æ˜¯é¦–å…ˆè·å¾—ä¸€ä¸ªè¿­ä»£å™¨çš„æŒ‡é’ˆã€‚åˆå§‹æ—¶è¯¥æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€æ¡æ•°æ®ä¹‹å‰ï¼Œæ¥ç€é€šè¿‡è°ƒç”¨nextæ–¹æ³•ï¼Œæ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ï¼Œè®©ä»–è°ƒç”¨ä¸‹ä¸€æ¡æ•°æ®ã€‚</li><li>æ¯æ¬¡çš„nextéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ æœ‰ä¸¤ä¸ªå±æ€§<ul><li>valueï¼š è¡¨ç¤ºä½ æƒ³è·å–çš„æ•°æ®</li><li>doneï¼šå¸ƒå°”å€¼ ä»£è¡¨éå†æ˜¯å¦ç»“æŸ trueåˆ™ç»“æŸ<h2 id="iteratorçš„ä½œç”¨"><a href="#iteratorçš„ä½œç”¨" class="headerlink" title="iteratorçš„ä½œç”¨"></a>iteratorçš„ä½œç”¨</h2>ä¸‰ä¸ªä½œç”¨</li></ul></li><li>åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡æŒ‡å‘å½“å‰æ•°æ®ç»“æ„çš„èµ·å§‹ä½ç½®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéå†å™¨å¯¹è±¡æœ¬è´¨ä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚</li><li>ç¬¬ä¸€æ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³•ï¼Œå¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘æ•°æ®ç»“æ„çš„ç¬¬ä¸€ä¸ªæˆå‘˜ã€‚</li><li>ç¬¬äºŒæ¬¡è°ƒç”¨æŒ‡é’ˆå¯¹è±¡çš„nextæ–¹æ³• æŒ‡é’ˆæŒ‡å‘ç¬¬äºŒä¸ªæˆå…ƒ</li><li>ä¸æ–­è°ƒç”¨next ç›´åˆ°ç»“æŸä½ç½®(å‡å¦‚æœ‰ä¸‰ä¸ªæ•°æ® éœ€è¦nextå››æ¬¡ æœ€åä¸€æ¬¡çš„ç»“æœæ˜¯<code>&#123; value: undefined, done: true &#125;</code>)<br>æ¡ˆä¾‹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [&#123;<span class="attr">nums</span>:<span class="number">1</span>&#125;,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> it = arr[<span class="built_in">Symbol</span>.iterator]();<span class="comment">//è·å–æ•°ç»„çš„è¿­ä»£å™¨</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: Object &#123; num: 1 &#125;, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next())  <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure><h2 id="å…·æœ‰iteratoræ¥å£çš„æ•°æ®ç»“æ„"><a href="#å…·æœ‰iteratoræ¥å£çš„æ•°æ®ç»“æ„" class="headerlink" title="å…·æœ‰iteratoræ¥å£çš„æ•°æ®ç»“æ„"></a>å…·æœ‰iteratoræ¥å£çš„æ•°æ®ç»“æ„</h2><div class="note primary flat"><p>ä¸€ä¸ªæ•°æ®ç»“æ„åªè¦æœ‰iteratoræ¥å£å°±èƒ½è¢«è®¤ä¸ºæ˜¯å¯ä»¥éå†çš„ã€‚å¯ä»¥ç”¨forofã€‚</p></div>å…·æœ‰iteratoræ¥å£çš„æ•°æ®ç»“æ„çš„æœ‰å››ç§ï¼š</li></ul><ol><li>æ•°ç»„</li><li>ç±»æ•°ç»„</li><li>Set</li><li>Map<h2 id="ä¸ºä»€ä¹ˆå¯¹è±¡æ²¡æœ‰iteratoræ¥å£"><a href="#ä¸ºä»€ä¹ˆå¯¹è±¡æ²¡æœ‰iteratoræ¥å£" class="headerlink" title="ä¸ºä»€ä¹ˆå¯¹è±¡æ²¡æœ‰iteratoræ¥å£"></a>ä¸ºä»€ä¹ˆå¯¹è±¡æ²¡æœ‰iteratoræ¥å£</h2></li></ol><ul><li>å¯¹è±¡åªèƒ½ç”¨forinå’Œ<code>Object.keysã€values</code>éå†</li><li>å› ä¸ºä¸€ä¸ªå¯¹è±¡çš„å“ªä¸ªå±æ€§å…ˆéå†å’Œåä¾¿åˆ©æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦å¼€å‘è€…æ‰‹åŠ¨æŒ‡å®šã€‚</li><li>å¯¹å¯¹è±¡éƒ¨ç½²iteratoræ¥å£æ²¡æœ‰å¿…è¦ å› ä¸ºmapå¼¥è¡¥äº†ä»–çš„ç¼ºé™·è€Œä¸”mapæœ‰iteratoræ¥å£<br>å¯¹å¯¹è±¡éƒ¨ç½²iterator<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&#x27;123&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">gender</span>: <span class="string">&#x27;ç”·&#x27;</span>,</span><br><span class="line">    <span class="attr">hobbie</span>: <span class="string">&#x27;ç¡è§‰&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">obj[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> keyArr = <span class="built_in">Object</span>.keys(obj);</span><br><span class="line">  <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="function"><span class="title">next</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> index&lt;keyArr.length?&#123;</span><br><span class="line">        <span class="attr">value</span>:&#123;</span><br><span class="line">          <span class="attr">key</span>:keyArr[index],</span><br><span class="line">          <span class="attr">val</span>:obj[keyArr[index++]]</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;:&#123;</span><br><span class="line">        <span class="attr">done</span>:<span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h1 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h1><div class="note primary flat"><p>å››ç§æ–¹æ¡ˆï¼šcommonjsï¼ŒAMDï¼ŒCMDï¼ŒES6</p></div><ul><li><p>CommonJSï¼Œnodeçš„ï¼Œé€šè¿‡requireæ¥å¼•å…¥æ¨¡å—ï¼Œé€šè¿‡<code>module.exports</code>å®šä¹‰è¾“å‡ºæ¥å£ã€‚æ˜¯ä»¥åŒæ­¥çš„æ–¹å¼å¼•å…¥æ¨¡å—çš„ã€‚</p></li><li><p>AMDæ˜¯é‡‡ç”¨å¼‚æ­¥çš„æ–¹å¼åŠ è½½æ¨¡å—ï¼Œæ¨¡å—çš„åŠ è½½ä¸å½±å“åé¢è¯­å¥çš„æ‰§è¡Œ æ‰€æœ‰ä¾èµ–è¿™ä¸ªæ¨¡å—çš„è¯­å¥éƒ½å®šä¹‰åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°é‡Œé¢ï¼Œç­‰åŠ è½½å®Œå†æ‰§è¡Œå›è°ƒå‡½æ•°ã€‚requirejså®ç°äº†AMDè§„èŒƒ</p></li><li>CMDæ–¹æ¡ˆï¼Œä¹Ÿæ˜¯è§£å†³å¼‚æ­¥åŠ è½½çš„å§”æ‰˜ã€‚ä»£è¡¨æœ‰seajsã€‚å’Œrequirejsçš„åŒºåˆ«åœ¨äºæ¨¡å—å®šä¹‰çš„æ—¶å€™å †ä¾èµ–çš„å¤„ç†ä¸åŒå’Œå¯¹ä¾èµ–æ¨¡å—çš„æ‰§è¡Œæ—¶æœºå¤„ç†ä¸åŒã€‚</li><li>æœ€åæ˜¯es6çš„ï¼Œé€šè¿‡importå’Œexportè¿›è¡Œå¯¼å…¥å¯¼å‡ºã€‚é»˜è®¤æš´éœ²ç»Ÿä¸€æš´éœ²åˆ†åˆ«æš´éœ²ã€‚<ul><li>é»˜è®¤æš´éœ²ï¼š<code>export default</code></li><li>åˆ†åˆ«æš´éœ²ï¼š<code>export xxx1;exportxxx2</code>ï¼Œå¼•å…¥<code>import &#123;xxx1,xxx2&#125; from &#39;xxx&#39;</code></li><li>ç»Ÿä¸€æš´éœ²ï¼š<code>export &#123;aa1,aa1&#125;</code>ï¼Œå¼•å…¥<code>import &#123;aa1,aa2&#125; from &#39;xxx&#39;</code></li></ul></li></ul><h2 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h2><ul><li>å†™æ³•<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//a.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">a</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line"><span class="built_in">exports</span>.a = <span class="number">1</span>;</span><br><span class="line"><span class="comment">//b.js</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">module</span> = <span class="built_in">require</span>(<span class="string">&#x27;./a.js&#x27;</span>);</span><br><span class="line"><span class="built_in">module</span>.a;<span class="comment">//1</span></span><br></pre></td></tr></table></figure></li><li>æ³¨æ„æµè§ˆå™¨ä¸­ä½¿ç”¨çš„è¯ç”¨<code>browserify</code><div class="note primary flat"><p>å’Œes6çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p></div></li><li>å‰è€…æ”¯æŒåŠ¨æ€å¯¼å…¥ï¼Œä¹Ÿå°±æ˜¯ require(${path}/xx.js)ï¼Œåè€…ç›®å‰ä¸æ”¯æŒï¼Œä½†æ˜¯å·²æœ‰ææ¡ˆ,å‰è€…æ˜¯åŒæ­¥å¯¼å…¥ï¼Œå› ä¸ºç”¨äºæœåŠ¡ç«¯ï¼Œæ–‡ä»¶éƒ½åœ¨æœ¬åœ°ï¼ŒåŒæ­¥å¯¼å…¥å³ä½¿å¡ä½ä¸»çº¿ç¨‹å½±å“ä¹Ÿä¸å¤§ã€‚</li><li>è€Œåè€…æ˜¯å¼‚æ­¥å¯¼å…¥ï¼Œå› ä¸ºç”¨äºæµè§ˆå™¨ï¼Œéœ€è¦ä¸‹è½½æ–‡ä»¶ï¼Œå¦‚æœä¹Ÿé‡‡ç”¨åŒæ­¥å¯¼å…¥ä¼šå¯¹æ¸²æŸ“æœ‰å¾ˆå¤§å½±å“</li><li>å‰è€…åœ¨å¯¼å‡ºæ—¶éƒ½æ˜¯å€¼æ‹·è´ï¼Œå°±ç®—å¯¼å‡ºçš„å€¼å˜äº†ï¼Œå¯¼å…¥çš„å€¼ä¹Ÿä¸ä¼šæ”¹å˜ï¼Œæ‰€ä»¥å¦‚æœæƒ³æ›´æ–°å€¼ï¼Œå¿…é¡»é‡æ–°å¯¼å…¥ä¸€æ¬¡ã€‚</li><li>ä½†æ˜¯åè€…é‡‡ç”¨å®æ—¶ç»‘å®šçš„æ–¹å¼ï¼Œå¯¼å…¥å¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¯¼å…¥å€¼ä¼šè·Ÿéšå¯¼å‡ºå€¼å˜åŒ–</li><li>åè€…ä¼šç¼–è¯‘æˆ require/exports æ¥æ‰§è¡Œçš„</li></ul><h2 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h2><div class="note primary flat"><p>å’ŒCMDçš„åŒºåˆ«ï¼š</p></div><ul><li>å¯¹ä¾èµ–çš„å¤„ç†ä¸ä¸€æ ·ã€‚AMDæ˜¯ä¾èµ–å‰ç½®ã€‚å®šä¹‰æ¨¡å—çš„æ—¶å€™å°±è¦å£°æ˜ä¾èµ–çš„æ¨¡å—ï¼ŒCMDå°±è¿‘ä¾èµ–ï¼Œç”¨åˆ°å“ªä¸ªæ‰å»require</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// CMD</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">require</span>, <span class="built_in">exports</span>, <span class="built_in">module</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="built_in">require</span>(<span class="string">&quot;./a&quot;</span>);</span><br><span class="line">  a.doSomething();</span><br><span class="line">  <span class="comment">// æ­¤å¤„ç•¥å» 100 è¡Œ</span></span><br><span class="line">  <span class="keyword">var</span> b = <span class="built_in">require</span>(<span class="string">&quot;./b&quot;</span>); <span class="comment">// ä¾èµ–å¯ä»¥å°±è¿‘ä¹¦å†™</span></span><br><span class="line">  b.doSomething();</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// AMD é»˜è®¤æ¨è</span></span><br><span class="line">define([<span class="string">&quot;./a&quot;</span>, <span class="string">&quot;./b&quot;</span>], <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ä¾èµ–å¿…é¡»ä¸€å¼€å§‹å°±å†™å¥½</span></span><br><span class="line">  a.doSomething();</span><br><span class="line">  <span class="comment">// æ­¤å¤„ç•¥å» 100 è¡Œ</span></span><br><span class="line">  b.doSomething();</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>å¯¹äºä¾èµ–æ¨¡å—çš„æ‰§è¡Œå®é™…å¤„ç†ä¸åŒã€‚AMDå’ŒCMDå¼‚æ­¥åŠ è½½ï¼Œä½†æ˜¯AMDåœ¨æ¨¡å—åŠ è½½å®Œå°±ç«‹åˆ»æ‰§è¡Œä¾èµ–æ¨¡å—ï¼Œä¾èµ–æ¨¡å—çš„æ‰§è¡Œé¡ºåºå’Œæˆ‘ä»¬å†™çš„é¡ºåºä¸ä¸€å®šä¸€è‡´ã€‚è€ŒCMDåœ¨ä¾èµ–æ¨¡å—åŠ è½½å®Œæˆåå¹¶ä¸æ‰§è¡Œï¼Œåªæ˜¯ä¸‹è½½ã€‚ç­‰å…¨éƒ¨çš„ä¾èµ–æ¨¡å—éƒ½åŠ è½½å¥½åï¼Œå†å»æ‰§è¡Œï¼Œå’Œæˆ‘ä»¬çš„ä¹¦å†™é¡ºåºä¸€è‡´ã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="JSç³»åˆ—" scheme="https://zlinni.github.io/categories/JS%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="js" scheme="https://zlinni.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘¤--åƒåœ¾å›æ”¶ä¸å†…å­˜æ³„æ¼</title>
    <link href="https://zlinni.github.io/posts/1805418661/"/>
    <id>https://zlinni.github.io/posts/1805418661/</id>
    <published>2022-04-20T07:02:04.000Z</published>
    <updated>2022-04-27T15:07:14.198Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å…³é”®è¯"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯</h1><div class="note simple"><p>åƒåœ¾å›æ”¶ã€å†…å­˜æ³„æ¼</p></div><h1 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h1><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220427230620.png" alt=""></p><h2 id="ä¸ºä»€ä¹ˆè¦åƒåœ¾å›æ”¶ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦åƒåœ¾å›æ”¶ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åƒåœ¾å›æ”¶ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦åƒåœ¾å›æ”¶ï¼Ÿ</h2><div class="note primary flat"><p>jsçš„å˜é‡æ²¡æœ‰å›ºå®šå¤§å°ï¼Œæ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œé¿å…å†…å­˜å ç”¨æ»¡äº†ä¹‹åé€ æˆç³»ç»Ÿå´©æºƒã€‚</p></div><h2 id="åƒåœ¾å›æ”¶çš„æœºåˆ¶-ç‰¹ç‚¹"><a href="#åƒåœ¾å›æ”¶çš„æœºåˆ¶-ç‰¹ç‚¹" class="headerlink" title="åƒåœ¾å›æ”¶çš„æœºåˆ¶/ç‰¹ç‚¹"></a>åƒåœ¾å›æ”¶çš„æœºåˆ¶/ç‰¹ç‚¹</h2><div class="note primary flat"><p>å¯¹äºæ ˆå†…å­˜ åˆ‡æ¢åˆ°åˆ«çš„ä¸Šä¸‹æ–‡å°±å›æ”¶<br>å¯¹äºå †å†…å­˜ åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£</p></div><p>å«ä¹‰ï¼šæ–°ç”Ÿä»£æŒ‡çš„æ˜¯åªç»è¿‡ä¸€æ¬¡åƒåœ¾å›æ”¶çš„å¯¹è±¡ï¼Œè€ç”Ÿä»£æŒ‡çš„æ˜¯ç»è¿‡å¤šæ¬¡åƒåœ¾å›æ”¶çš„å¯¹è±¡</p><p>å…·ä½“ï¼šæ–°ç”Ÿä»£è¢«åˆ†ä¸ºfromå’Œtoä¸¤ä¸ªç©ºé—´ã€‚toä¸€èˆ¬é—²ç½®ï¼Œåœ¨fromçš„ç©ºé—´æ»¡äº†ä¹‹åæ‰§è¡Œscavengeç®—æ³•è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p><p>æ‰§è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™åº”ç”¨é€»è¾‘å°†åœæ­¢ï¼Œç­‰åƒåœ¾å›æ”¶ç»“æŸåç»§ç»­æ‰§è¡Œ</p><h2 id="ä»€ä¹ˆæ—¶å€™å›æ”¶"><a href="#ä»€ä¹ˆæ—¶å€™å›æ”¶" class="headerlink" title="ä»€ä¹ˆæ—¶å€™å›æ”¶?"></a>ä»€ä¹ˆæ—¶å€™å›æ”¶?</h2><div class="note primary flat"><p>åˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´</p></div><h2 id="scavengeç®—æ³•"><a href="#scavengeç®—æ³•" class="headerlink" title="scavengeç®—æ³•"></a>scavengeç®—æ³•</h2><div class="note primary flat"><p>ç®—æ³•åˆ†ä¸ºä¸‰æ­¥ï¼š</p></div><ol><li>æ£€æµ‹fromç©ºé—´çš„å­˜æ´»å¯¹è±¡ï¼ŒæŸ¥çœ‹æ˜¯å¦æ»¡è¶³è€ç”Ÿä»£æ¡ä»¶ï¼ˆtoæ˜¯å¦è¶…è¿‡25%/æ˜¯å¦ç»å†è¿‡ä¸€æ¬¡åƒåœ¾å›æ”¶ï¼‰?è€ç”Ÿä»£:ç§»åŠ¨åˆ°toç©ºé—´</li><li>å¦‚æœå¯¹è±¡ä¸å­˜æ´»åˆ™é‡Šæ”¾å¯¹è±¡çš„ç©ºé—´</li><li>æœ€åå°†fromå’Œtoç©ºé—´è¿›è¡Œè§’è‰²äº¤æ¢</li></ol><h2 id="æ–°ç”Ÿä»£åˆ°è€ç”Ÿä»£"><a href="#æ–°ç”Ÿä»£åˆ°è€ç”Ÿä»£" class="headerlink" title="æ–°ç”Ÿä»£åˆ°è€ç”Ÿä»£"></a>æ–°ç”Ÿä»£åˆ°è€ç”Ÿä»£</h2><div class="note primary flat"><p>æ¡ä»¶æœ‰ä¸¤ä¸ª</p></div><ol><li>æˆ‘ä»¬çŸ¥é“æ–°ç”Ÿä»£çš„æ¡ä»¶æ˜¯åªç»è¿‡ä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Œä¹Ÿå°±æ„å‘³ç€å®ƒç»å†äº†ä¸€æ¬¡Scavenge</li><li>toç©ºé—´çš„å†…å®¹ä½¿ç”¨å æ¯”ã€‚å› ä¸ºscavengeç®—æ³•ç»“æŸä¹‹åä¼šäº¤æ¢fromtoçš„ä½ç½®ï¼Œæ‰€ä»¥toçš„ç©ºé—´ä¸èƒ½å¤ªå°ï¼Œå½±å“åˆ°åç»­çš„å†…å­˜åˆ†é…ã€‚æ‰€ä»¥å½“ä»fromåˆ°toçš„æ—¶å€™ï¼Œå¦‚æœtoçš„ç©ºé—´è¶…è¿‡25%ï¼Œç›´æ¥å˜æˆè€ç”Ÿä»£ã€‚</li></ol><h2 id="è€ç”Ÿä»£çš„å›æ”¶æœºåˆ¶"><a href="#è€ç”Ÿä»£çš„å›æ”¶æœºåˆ¶" class="headerlink" title="è€ç”Ÿä»£çš„å›æ”¶æœºåˆ¶"></a>è€ç”Ÿä»£çš„å›æ”¶æœºåˆ¶</h2><div class="note primary flat"><p>è€ç”Ÿä»£é‡‡ç”¨äº†æ ‡è®°æ¸…é™¤å’Œæ ‡è®°å‹ç¼©æ³•</p></div><p>æ ‡è®°æ¸…é™¤ï¼šåœ¨å›æ”¶çš„è¿‡ç¨‹ä¸­æ ‡è®°å­˜æ´»çš„å¯¹è±¡ï¼Œç»“æŸåæ¸…é™¤æ²¡æœ‰æ ‡è®°çš„å¯¹è±¡ï¼ˆé‡Šæ”¾äº†ç©ºé—´ï¼‰</p><p>ä¸åˆ©ï¼šé€ æˆäº†å¾ˆå¤šå†…å­˜ç¢ç‰‡ï¼Œä¸åˆ©äºåç»­å†…å­˜åˆ†é…ï¼Œå¼•å…¥æ ‡è®°å‹ç¼©æ³•</p><p>æ ‡è®°å‹ç¼©æ³•ï¼š</p><h2 id="å…¶ä»–çš„æ–¹æ³•"><a href="#å…¶ä»–çš„æ–¹æ³•" class="headerlink" title="å…¶ä»–çš„æ–¹æ³•"></a>å…¶ä»–çš„æ–¹æ³•</h2><div class="note primary flat"><p>å¢é‡æ ‡è®°æ³•ï¼šåƒåœ¾å›æ”¶çš„è¿‡ç¨‹ä¼šæš‚åœåº”ç”¨é€»è¾‘ï¼Œå¯¹äºæ–°ç”Ÿä»£æ¥è¯´è¿˜å¥½ï¼Œå¯¹äºè€ç”Ÿä»£æ¥è¯´æ—¶é—´é•¿ï¼Œæ‰€ä»¥å¼•å…¥å¢é‡æ ‡è®°åˆ†å‰²åœé¡¿çš„è¿‡ç¨‹ï¼Œæ‰§è¡Œä¸€æ®µåˆ†å‰²å°±è¿è¡Œä¸€ä¼šé€»è¾‘ï¼Œäº¤æ›¿ã€‚</p></div><h1 id="å†…å­˜æ³„æ¼"><a href="#å†…å­˜æ³„æ¼" class="headerlink" title="å†…å­˜æ³„æ¼"></a>å†…å­˜æ³„æ¼</h1><ul><li>æ„å¤–çš„å…¨å±€å˜é‡ï¼šæ— æ³•è¢«å›æ”¶</li><li>å®šæ—¶å™¨ï¼šæœªè¢«æ­£ç¡®å…³é—­ï¼Œå¯¼è‡´æ‰€å¼•ç”¨çš„å¤–éƒ¨å˜é‡æ— æ³•è¢«é‡Šæ”¾ã€‚</li><li>äº‹ä»¶ç›‘å¬ï¼šæ²¡æœ‰æ­£ç¡®é”€æ¯ï¼ˆä½ç‰ˆæœ¬æµè§ˆå™¨å¯èƒ½å‡ºç°ï¼‰</li><li>é—­åŒ…<ul><li>ç¬¬ä¸€ç§æƒ…å†µæ˜¯æˆ‘ä»¬ä½¿ç”¨æœªå£°æ˜çš„å˜é‡ï¼Œè€Œæ„å¤–çš„åˆ›å»ºäº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè€Œä½¿å¾—è¿™ä¸ªå˜é‡ä¸€ç›´ç•™åœ¨å†…å­˜ä¸­æ— æ³•è¢«å›æ”¶</li><li>ç¬¬äºŒç§æƒ…å†µæ˜¯æˆ‘ä»¬è®¾ç½®äº†setIntervalå®šæ—¶å™¨ï¼Œè€Œå¿˜è®°å–æ¶ˆä»–ï¼Œå¦‚æœå¾ªç¯å‡½æ•°å¯¹å¤–éƒ¨å˜é‡æœ‰å¼•ç”¨çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡ä¼šè¢«ä¸€ç›´ç•™åœ¨å†…å­˜ä¸­ï¼Œæ— æ³•è¢«å›æ”¶ã€‚</li><li>ç¬¬ä¸‰ç§æƒ…å†µæ˜¯æˆ‘ä»¬è·å–ä¸€ä¸ªDOMå…ƒç´ çš„å¼•ç”¨ã€‚è€Œåé¢çš„å…ƒç´ è¢«åˆ é™¤ã€‚ç”±äºæˆ‘ä»¬ä¸€ç›´ä¿ç•™äº†å¯¹è¿™ä¸ªå…ƒç´ çš„å¼•ç”¨ï¼Œæ‰€ä»¥ä»–ä¹Ÿæ— æ³•è¢«å›æ”¶ã€‚</li><li>ç¬¬å››ç§æƒ…å†µæ˜¯ä¸åˆç†çš„ä½¿ç”¨é—­åŒ…ï¼Œä»è€Œå¯¼è‡´æŸäº›å˜é‡ä¸€ç›´è¢«æµåœ¨å†…å­˜å½“ä¸­ã€‚</li></ul></li><li>domå¼•ç”¨ï¼šdomå…ƒç´ è¢«åˆ é™¤æ—¶ï¼Œå†…å­˜ä¸­çš„å¼•ç”¨æœªè¢«æ­£ç¡®æ¸…ç©ºã€‚</li><li>æ§åˆ¶å°<code>console.log</code>æ‰“å°çš„ä¸œè¥¿</li></ul><div class="note primary flat"><p>å¯ä»¥ç”¨chromeä¸­çš„timelineè¿›è¡Œå†…å­˜æ ‡è®°ï¼Œå¯è§†åŒ–æŸ¥çœ‹å†…å­˜çš„å˜åŒ–æƒ…å†µï¼Œæ‰¾å‡ºå¼‚å¸¸ç‚¹ã€‚</p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="JSç³»åˆ—" scheme="https://zlinni.github.io/categories/JS%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="js" scheme="https://zlinni.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>ä½ æ‰€ä¸çŸ¥é“çš„JavaScriptâ‘£--å¼‚æ­¥ä»»åŠ¡ä¸äº‹ä»¶</title>
    <link href="https://zlinni.github.io/posts/3693633031/"/>
    <id>https://zlinni.github.io/posts/3693633031/</id>
    <published>2022-04-20T07:01:52.000Z</published>
    <updated>2022-04-25T02:41:30.168Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="å…³é”®è¯"><a href="#å…³é”®è¯" class="headerlink" title="å…³é”®è¯"></a>å…³é”®è¯</h1><div class="note simple"><p>äº‹ä»¶æœºåˆ¶ã€Promiseã€Generatorã€async/awaitã€äº‹ä»¶å¾ªç¯</p></div><h1 id="äº‹ä»¶æœºåˆ¶"><a href="#äº‹ä»¶æœºåˆ¶" class="headerlink" title="äº‹ä»¶æœºåˆ¶"></a>äº‹ä»¶æœºåˆ¶</h1><div class="note primary flat"><p>äº‹ä»¶çš„è§¦å‘è¿‡ç¨‹ï¼Ÿäº‹ä»¶ä»£ç†ï¼Ÿ</p></div><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><div class="note primary flat"><p>äº‹ä»¶æµæ˜¯ä¸€ä¸ªäº‹ä»¶æ²¿ç€ç‰¹å®šæ•°æ®ç»“æ„ä¼ æ’­çš„è¿‡ç¨‹ã€‚å†’æ³¡å’Œæ•è·æ˜¯äº‹ä»¶æµåœ¨DOMä¸­çš„ä¸¤ç§ä¸åŒçš„ä¼ æ’­æ–¹å¼ã€‚</p></div><h2 id="äº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µ"><a href="#äº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µ" class="headerlink" title="äº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µ"></a>äº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µ</h2><ul><li>äº‹ä»¶æ•è·é˜¶æ®µ</li><li>ç›®æ ‡é˜¶æ®µ</li><li>äº‹ä»¶å†’æ³¡é˜¶æ®µ</li></ul><h2 id="äº‹ä»¶æ•è·"><a href="#äº‹ä»¶æ•è·" class="headerlink" title="äº‹ä»¶æ•è·"></a>äº‹ä»¶æ•è·</h2><div class="note primary flat"><p>äº‹ä»¶æ•è·é€šä¿—çš„ç†è§£å°±æ˜¯é¼ æ ‡ç‚¹å‡»æˆ–è€…è§¦å‘domäº‹ä»¶çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä»æ ¹èŠ‚ç‚¹å¼€å§‹ç”±å¤–åˆ°å†…çš„è¿›è¡Œäº‹ä»¶ä¼ æ’­ï¼Œå³ç‚¹å‡»äº†å­å…ƒç´ ã€‚å¦‚æœçˆ¶å…ƒç´ é€šè¿‡æ•è·æ–¹å¼æ³¨å†Œäº†å¯¹åº”çš„äº‹ä»¶çš„è¯ï¼Œä¼šå…ˆè§¦å‘çˆ¶å…ƒç´ ç»‘å®šçš„äº‹ä»¶</p></div><h2 id="äº‹ä»¶å†’æ³¡"><a href="#äº‹ä»¶å†’æ³¡" class="headerlink" title="äº‹ä»¶å†’æ³¡"></a>äº‹ä»¶å†’æ³¡</h2><div class="note primary flat"><p>äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·ç›¸åï¼Œé¡ºåºæ˜¯ç”±å†…åˆ°å¤–ç›´åˆ°æ ¹èŠ‚ç‚¹</p></div><p>æ— è®ºæ˜¯äº‹ä»¶æ•è·è¿˜æ˜¯å†’æ³¡ï¼Œéƒ½æœ‰ä¸€ä¸ªå…±åŒçš„ç‰¹å¾å°±æ˜¯äº‹ä»¶ä¼ æ’­<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220404101558.png" alt=""></p><h2 id="äº‹ä»¶æµé˜»æ­¢"><a href="#äº‹ä»¶æµé˜»æ­¢" class="headerlink" title="äº‹ä»¶æµé˜»æ­¢"></a>äº‹ä»¶æµé˜»æ­¢</h2><div class="note primary flat"><p>åœ¨ä¸€äº›æƒ…å†µä¸‹è¦é˜»æ­¢äº‹ä»¶æµçš„ä¼ æ’­ï¼Œé˜»æ­¢é»˜è®¤åŠ¨ä½œçš„å‘ç”Ÿ</p></div><ul><li><code>event.preventDefault()</code>å–æ¶ˆäº‹ä»¶å¯¹è±¡çš„é»˜è®¤åŠ¨ä½œä»¥åŠç»§ç»­ä¼ æ’­</li><li><code>event.stopPropagation()/event.cancelBubble = true</code>é˜»æ­¢äº‹ä»¶å†’æ³¡<h3 id="åœ¨ä¸åŒæµè§ˆå™¨çš„å¤„ç†"><a href="#åœ¨ä¸åŒæµè§ˆå™¨çš„å¤„ç†" class="headerlink" title="åœ¨ä¸åŒæµè§ˆå™¨çš„å¤„ç†"></a>åœ¨ä¸åŒæµè§ˆå™¨çš„å¤„ç†</h3></li><li>åœ¨IEä¸‹ä½¿ç”¨ <code>event.returnValue= false</code>ï¼Œ</li><li>åœ¨éIEä¸‹åˆ™ä½¿ç”¨ <code>event.preventDefault()</code>è¿›è¡Œé˜»æ­¢<h3 id="preventDefaultä¸stopPropagationçš„åŒºåˆ«"><a href="#preventDefaultä¸stopPropagationçš„åŒºåˆ«" class="headerlink" title="preventDefaultä¸stopPropagationçš„åŒºåˆ«"></a><code>preventDefault</code>ä¸<code>stopPropagation</code>çš„åŒºåˆ«</h3></li><li><code>preventDefault</code>å‘Šè¯‰æµè§ˆå™¨ä¸ç”¨æ‰§è¡Œä¸äº‹ä»¶ç›¸å…³è”çš„é»˜è®¤åŠ¨ä½œï¼ˆå¦‚è¡¨å•æäº¤ï¼‰</li><li><code>stopPropagation</code>æ˜¯åœæ­¢äº‹ä»¶ç»§ç»­å†’æ³¡ï¼Œä½†æ˜¯å¯¹IE9ä»¥ä¸‹çš„æµè§ˆå™¨æ— æ•ˆ<h2 id="äº‹ä»¶æ³¨å†Œ"><a href="#äº‹ä»¶æ³¨å†Œ" class="headerlink" title="äº‹ä»¶æ³¨å†Œ"></a>äº‹ä»¶æ³¨å†Œ</h2></li><li>é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ <code>addEventListener</code> æ³¨å†Œäº‹ä»¶ï¼Œè¯¥å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥æ˜¯å¸ƒå°”å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚å¯¹äºå¸ƒå°”å€¼ useCapture å‚æ•°æ¥è¯´ï¼Œè¯¥å‚æ•°é»˜è®¤å€¼ä¸º <code>false</code>ã€‚useCapture å†³å®šäº†æ³¨å†Œçš„äº‹ä»¶æ˜¯æ•è·äº‹ä»¶è¿˜æ˜¯å†’æ³¡äº‹ä»¶</li><li>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åªå¸Œæœ›äº‹ä»¶åªè§¦å‘åœ¨ç›®æ ‡ä¸Šï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ <code>stopPropagation</code> æ¥é˜»æ­¢äº‹ä»¶çš„è¿›ä¸€æ­¥ä¼ æ’­ã€‚é€šå¸¸æˆ‘ä»¬è®¤ä¸º <code>stopPropagation</code> æ˜¯ç”¨æ¥é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ï¼Œå…¶å®è¯¥å‡½æ•°ä¹Ÿå¯ä»¥é˜»æ­¢æ•è·äº‹ä»¶ã€‚<code>stopImmediatePropagation</code> åŒæ ·ä¹Ÿèƒ½å®ç°é˜»æ­¢äº‹ä»¶ï¼Œä½†æ˜¯è¿˜èƒ½é˜»æ­¢è¯¥äº‹ä»¶ç›®æ ‡æ‰§è¡Œåˆ«çš„æ³¨å†Œäº‹ä»¶<div class="note warning flat"><p>æ³¨æ„<code>addEventListener</code>éœ€è¦é”€æ¯ï¼Œ<code>onClick</code>åˆ™ä¸éœ€è¦å› ä¸ºæ¯æ¬¡éƒ½æ›¿æ¢</p></div><h2 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h2></li><li>ä¼˜åŒ–æ€§èƒ½ï¼Œå½“å­èŠ‚ç‚¹è¿‡å¤šçš„æ—¶å€™ç»™çˆ¶å…ƒç´ ç»‘å®šäº‹ä»¶é€šè¿‡å†’æ³¡åªæ‰§è¡Œä¸€æ¬¡äº‹ä»¶èŠ‚çœå†…å­˜å¹¶ä¸”ä¸éœ€è¦ç»™å­èŠ‚ç‚¹æ³¨é”€äº‹ä»¶ã€‚<h2 id="äº‹ä»¶çš„å…¼å®¹å†™æ³•"><a href="#äº‹ä»¶çš„å…¼å®¹å†™æ³•" class="headerlink" title="äº‹ä»¶çš„å…¼å®¹å†™æ³•"></a>äº‹ä»¶çš„å…¼å®¹å†™æ³•</h2><div class="note primary flat"><p>ieçš„eventå’Œéieçš„eventä¸å¤ªä¸€æ ·ï¼Œä¹Ÿä¸èƒ½ä¸€èµ·ç”¨</p></div></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gete</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//å…¼å®¹ieçš„äº‹ä»¶</span></span><br><span class="line">  e = e || <span class="built_in">window</span>.event;</span><br><span class="line">  <span class="comment">//å…¼å®¹ieçš„target</span></span><br><span class="line">  <span class="keyword">var</span> target = e.target || e.srcElement;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h1><div class="note primary flat"><p>è°ˆåˆ°promiseçš„æ—¶å€™ï¼Œé™¤äº†å°†ä»–è§£å†³çš„ç—›ç‚¹ä»¥åŠå¸¸ç”¨çš„apiä¹‹å¤–ï¼Œæœ€å¥½è¿›è¡Œæ‹“å±•å§eventloopå¸¦è¿›æ¥å¥½å¥½è®²ä¸€ä¸‹ã€‚å¾®ä»»åŠ¡ï¼Œä»»åŠ¡çš„æŒ‡å‘é¡ºåºï¼Œå¦‚æœçœ‹è¿‡promiseæºç ï¼Œæœ€å¥½å¯ä»¥è°ˆä¸€è°ˆåŸç”Ÿpromiseæ˜¯å¦‚ä½•å®ç°çš„ï¼Œè¿˜æœ‰å°±æ˜¯promiseçš„é“¾å¼è°ƒç”¨</p></div><ul><li>promiseæ˜¯es6æ–°å¢çš„è¯­æ³•ï¼Œè§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜</li><li>promiseå¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œåˆå§‹æ˜¯<code>pending</code>å¯ä»¥é€šè¿‡å‡½æ•°<code>resolve</code>å’Œ<code>reject</code>å°†çŠ¶æ€è½¬å˜ä¸º<code>resolved</code>or<code>rejected</code>çŠ¶æ€ã€‚çŠ¶æ€ä¸€æ—¦å‘ç”Ÿæ”¹å˜å°±ä¸èƒ½å†æ¬¡å˜åŒ–ã€‚</li><li>thenå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªpromiseå®ä¾‹ï¼Œå¹¶ä¸”è¯¥è¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°çš„å®ä¾‹è€Œä¸æ˜¯ä¹‹å‰çš„å®ä¾‹ã€‚å› ä¸ºpromiseè§„èŒƒè§„å®šé™¤äº†pendingçŠ¶æ€ï¼Œå…¶ä»–çŠ¶æ€æ˜¯ä¸èƒ½æ”¹å˜çš„ã€‚å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªç›¸åŒå®ä¾‹çš„è¯ï¼Œå¤šä¸ªthenè°ƒç”¨å°±å¤±å»äº†æ„ä¹‰ã€‚å¯¹äºthenæ¥è¯´ï¼Œæœ¬è´¨ä¸Šå¯ä»¥çœ‹æˆæ˜¯flatMap</li></ul><h2 id="promiseçš„åŸºæœ¬æƒ…å†µ"><a href="#promiseçš„åŸºæœ¬æƒ…å†µ" class="headerlink" title="promiseçš„åŸºæœ¬æƒ…å†µ"></a>promiseçš„åŸºæœ¬æƒ…å†µ</h2><div class="note primary flat"><p>ç®€å•æ¥è¯´ä»–æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼Œé€šå¸¸æ˜¯å¼‚æ­¥æ“ä½œçš„ç»“æœã€‚ä»è¯­æ³•ä¸Šé¢æ¥è¯´ï¼Œpromiseæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»ä»–å¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚</p></div><p>ä¸€èˆ¬ Promise åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¿…ç„¶ä¼šå¤„äºä»¥ä¸‹å‡ ç§çŠ¶æ€ä¹‹ä¸€ã€‚</p><ul><li>å¾…å®šï¼ˆpendingï¼‰ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢æ²¡æœ‰è¢«å®Œæˆï¼Œä¹Ÿæ²¡æœ‰è¢«æ‹’ç»ã€‚</li><li>å·²å®Œæˆï¼ˆfulfilledï¼‰ï¼šæ“ä½œæˆåŠŸå®Œæˆã€‚</li><li>å·²æ‹’ç»ï¼ˆrejectedï¼‰ï¼šæ“ä½œå¤±è´¥ã€‚<div class="note primary flat"><p>å¾…å®šçŠ¶æ€çš„promiseå¯¹è±¡æŒ‡å‘çš„è¯ï¼Œæœ€åè¦ä¹ˆä¼šé€šè¿‡ä¸€ä¸ªå€¼å®Œæˆï¼Œè¦ä¹ˆä¼šé€šè¿‡ä¸€ä¸ªåŸå› è¢«æ‹’ç»ã€‚å½“å…¶ä¸­ä¸€ç§æƒ…å†µå‘ç”Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬ç”¨promiseçš„thenæ–¹æ³•æ’åˆ—èµ·æ¥çš„ç›¸å…³å¤„ç†ç¨‹åºå°±ä¼šè¢«è°ƒç”¨ã€‚å› ä¸ºæœ€å<code>Promise.prototype.then</code> å’Œ <code>Promise.prototype.catch</code>æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ª<code>Promise</code>æ‰€ä»¥å®ƒä»¬å¯ä»¥ç»§ç»­è¢«é“¾å¼è°ƒç”¨ã€‚</p></div>å…³äº Promise çš„çŠ¶æ€æµè½¬æƒ…å†µï¼Œæœ‰ä¸€ç‚¹å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå†…éƒ¨çŠ¶æ€æ”¹å˜ä¹‹åä¸å¯é€†ï¼Œä½ éœ€è¦åœ¨ç¼–ç¨‹è¿‡ç¨‹ä¸­åŠ ä»¥æ³¨æ„ã€‚æ–‡å­—æè¿°æ¯”è¾ƒæ™¦æ¶©ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡ä¸€å¼ å›¾å°±èƒ½å¾ˆæ¸…æ™°åœ°çœ‹å‡º Promise å†…éƒ¨çŠ¶æ€æµè½¬çš„æƒ…å†µ<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220405105526.png" alt=""><h2 id="then-catch"><a href="#then-catch" class="headerlink" title="then catch"></a>then catch</h2></li><li>thencatchéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„promise</li><li>catchä¸ç®¡æ”¾åœ¨å“ªé‡Œéƒ½èƒ½æ•è·ä¸Šå±‚æœªæ•è·çš„é”™è¯¯</li><li>ä¸å†™é»˜è®¤è¿”å›<code>return Promise.resolve(undefined)</code>ä¹Ÿæ˜¯æˆåŠŸå›è°ƒ</li><li>ç›´æ¥return ä¸€ä¸ªerrorå¯¹è±¡ä¸ä¼šæŠ›å‡ºé”™è¯¯ æ‰€ä»¥ä¸ä¼šè¢«catchæ•è·</li><li>è¿”å›çš„å€¼ä¸èƒ½æ˜¯promiseæœ¬èº« å¦åˆ™æ­»å¾ªç¯</li><li>thenå¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°çš„ï¼Œåœ¨æŸäº›æ—¶å€™ä½ å¯ä»¥è®¤ä¸ºcatchæ˜¯thenç¬¬äºŒä¸ªå‚æ•°çš„ç®€ä¾¿å†™æ³•ã€‚<h2 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h2></li><li>ä¸ç®¡æœ€åçš„çŠ¶æ€å¦‚ä½•éƒ½ä¼šæ‰§è¡Œ</li><li>ä¸æ¥å—ä»»ä½•å‚æ•° æ‰€ä»¥åœ¨finallyä¸­æ˜¯æ²¡åŠæ³•çŸ¥é“æœ€ç»ˆçš„çŠ¶æ€çš„</li><li>é»˜è®¤è¿”å›ä¸Šä¸€æ¬¡çš„promiseå¯¹è±¡å€¼ï¼Œå¦‚æœæŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸åˆ™è¿”å›å¼‚å¸¸çš„promiseå¯¹è±¡</li></ul><h2 id="new-Promiseï¼ˆå¤§å‘ï¼‰"><a href="#new-Promiseï¼ˆå¤§å‘ï¼‰" class="headerlink" title="new Promiseï¼ˆå¤§å‘ï¼‰"></a><code>new Promise</code>ï¼ˆå¤§å‘ï¼‰</h2><p>å…ˆçœ‹ä¸€æ®µä»£ç ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    resolve();</span><br><span class="line">    reject()</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">&#125;,<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å¤±è´¥çš„çŠ¶æ€&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br></pre></td></tr></table></figure><br>æ­£ç¡®ç­”æ¡ˆæ˜¯1243<br>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬ä¼šå¿½ç•¥ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨<code>new Promise</code>çš„æ—¶å€™ï¼Œæ„é€ å™¨çš„æ–¹æ³•å°±å·²ç»å¼€å§‹æ‰§è¡Œäº†ï¼Œè™½ç„¶æˆ‘ä»¬ä¸€èˆ¬æå€¡ç”¨å‡½æ•°å°è£…ä¹‹å<code>return</code>å‡ºå»è¿™ä¸ªpromiseå¯¹è±¡ã€‚æ‰€ä»¥å°±æ˜¯å…ˆæ‰§è¡Œ<code>new Promise</code>é‡Œé¢çš„ä»£ç  è¾“å‡º12ç„¶åçŠ¶æ€åˆ°<code>resolved</code>ç„¶åæ‰§è¡ŒåŒæ­¥çš„4 æœ€åå› ä¸ºæˆåŠŸçš„å›è°ƒåˆ°3</p><h2 id="promiseçš„é™æ€æ–¹æ³•"><a href="#promiseçš„é™æ€æ–¹æ³•" class="headerlink" title="promiseçš„é™æ€æ–¹æ³•"></a>promiseçš„é™æ€æ–¹æ³•</h2><h3 id="allæ–¹æ³•"><a href="#allæ–¹æ³•" class="headerlink" title="allæ–¹æ³•"></a>allæ–¹æ³•</h3><ul><li>è¯­æ³•:<code>Promise.all(iterable)</code></li><li>å‚æ•°ï¼šä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚Arrayï¼ˆæ‹¬å·é‡Œé¢æ”¾æ•°ç»„ï¼‰</li><li>æè¿°ï¼šæ­¤æ–¹æ³•å¯¹äºæ±‡æ€»å¤šä¸ªpromiseçš„ç»“æœå¾ˆæœ‰ç”¨ï¼Œåœ¨es6ä¸­å¯ä»¥å°†å¤šä¸ª<code>Promise.all</code>å¼‚æ­¥è¯·æ±‚å¹¶å‘æ“ä½œï¼Œè¿”å›çš„ç»“æœä¸€èˆ¬æœ‰ä¸‹é¢ä¸¤ç§æƒ…å†µã€‚<ol><li>å½“æ‰€æœ‰ç»“æœæˆåŠŸè¿”å›æŒ‰ç…§è¯·æ±‚é¡ºåºè¿”å›æˆåŠŸç»“æœ</li><li>å½“å…¶ä¸­ä¸€ä¸ªæ–¹æ³•å¤±è´¥å°±è¿›å…¥å¤±è´¥æ–¹æ³•ã€‚</li></ol></li><li>ä¸šåŠ¡åœºæ™¯ </li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ä¸€ä¸ªé¡µé¢ä¸­éœ€è¦åŠ è½½è·å–è½®æ’­åˆ—è¡¨ã€è·å–åº—é“ºåˆ—è¡¨ã€è·å–åˆ†ç±»åˆ—è¡¨è¿™ä¸‰ä¸ªæ“ä½œï¼Œé¡µé¢éœ€è¦åŒæ—¶å‘å‡ºè¯·æ±‚è¿›è¡Œé¡µé¢æ¸²æŸ“ï¼Œè¿™æ ·ç”¨ `Promise.all` æ¥å®ç°ï¼Œçœ‹èµ·æ¥æ›´æ¸…æ™°ã€ä¸€ç›®äº†ç„¶ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.è·å–è½®æ’­æ•°æ®åˆ—è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBannerList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve(<span class="string">&#x27;è½®æ’­æ•°æ®&#x27;</span>)</span><br><span class="line">      &#125;,<span class="number">300</span>) </span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.è·å–åº—é“ºåˆ—è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStoreList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      resolve(<span class="string">&#x27;åº—é“ºæ•°æ®&#x27;</span>)</span><br><span class="line">    &#125;,<span class="number">500</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//3.è·å–åˆ†ç±»åˆ—è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCategoryList</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      resolve(<span class="string">&#x27;åˆ†ç±»æ•°æ®&#x27;</span>)</span><br><span class="line">    &#125;,<span class="number">700</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initLoad</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">  <span class="built_in">Promise</span>.all([getBannerList(),getStoreList(),getCategoryList()])</span><br><span class="line">  .then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res) </span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125; </span><br><span class="line">initLoad()</span><br></pre></td></tr></table></figure><h4 id="allå¦‚æœæœ‰ä¸€ä¸ªæŠ›å‡ºäº†å¼‚å¸¸ä¼šå¦‚ä½•å¤„ç†ã€‚"><a href="#allå¦‚æœæœ‰ä¸€ä¸ªæŠ›å‡ºäº†å¼‚å¸¸ä¼šå¦‚ä½•å¤„ç†ã€‚" class="headerlink" title="allå¦‚æœæœ‰ä¸€ä¸ªæŠ›å‡ºäº†å¼‚å¸¸ä¼šå¦‚ä½•å¤„ç†ã€‚"></a>allå¦‚æœæœ‰ä¸€ä¸ªæŠ›å‡ºäº†å¼‚å¸¸ä¼šå¦‚ä½•å¤„ç†ã€‚</h4><div class="note primary flat"><p>allå’Œraceä¼ å…¥çš„æ•°ç»„ä¸­å¦‚æœä¼šæœ‰æŠ›å‡ºå¼‚å¸¸çš„å¼‚æ­¥ä»»åŠ¡ï¼Œé‚£ä¹ˆåªæœ‰æœ€å…ˆæŠ›å‡ºçš„é”™è¯¯ä¼šè¢«æ•è·ã€‚å¹¶ä¸”æ˜¯è¢«thençš„ç¬¬äºŒä¸ªå‚æ•°æˆ–è€…åé¢çš„catchæ•è·ï¼Œä½†å¹¶ä¸å½±å“æ•°ç»„ä¸­å…¶ä»–çš„å¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œã€‚</p></div><h4 id="allæ˜¯å¹¶å‘çš„è¿˜æ˜¯ä¸²è¡Œçš„"><a href="#allæ˜¯å¹¶å‘çš„è¿˜æ˜¯ä¸²è¡Œçš„" class="headerlink" title="allæ˜¯å¹¶å‘çš„è¿˜æ˜¯ä¸²è¡Œçš„"></a>allæ˜¯å¹¶å‘çš„è¿˜æ˜¯ä¸²è¡Œçš„</h4><div class="note primary flat"><p>å¹¶å‘çš„ã€‚ä¸è¿‡<code>promise.all().then()</code>ç»“æœä¸­æ•°ç»„çš„é¡ºåºå’Œ<code>Promise.all()</code>æ¥æ”¶åˆ°çš„æ•°ç»„é¡ºåºä¸€è‡´</p></div><h4 id="allçš„å¹¶å‘é™åˆ¶"><a href="#allçš„å¹¶å‘é™åˆ¶" class="headerlink" title="allçš„å¹¶å‘é™åˆ¶"></a>allçš„å¹¶å‘é™åˆ¶</h4><div class="note primary flat"><p>Promise.allå¯ä»¥ä¿è¯ï¼Œpromisesæ•°ç»„ä¸­æ‰€æœ‰promiseå¯¹è±¡éƒ½è¾¾åˆ°resolveçŠ¶æ€ï¼Œæ‰æ‰§è¡Œthenå›è°ƒã€‚</p><p>è¿™æ—¶å€™è€ƒè™‘ä¸€ä¸ªåœºæ™¯ï¼šå¦‚æœä½ çš„promisesæ•°ç»„ä¸­æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯httpè¯·æ±‚ï¼Œæˆ–è€…è¯´æ¯ä¸ªå¯¹è±¡åŒ…å«äº†å¤æ‚çš„è°ƒç”¨å¤„ç†ã€‚è€Œè¿™æ ·çš„å¯¹è±¡æœ‰å‡ åä¸‡ä¸ªã€‚</p><p>é‚£ä¹ˆä¼šå‡ºç°çš„æƒ…å†µæ˜¯ï¼Œä½ åœ¨ç¬é—´å‘å‡ºå‡ åä¸‡httpè¯·æ±‚ï¼ˆtcpè¿æ¥æ•°ä¸è¶³å¯èƒ½é€ æˆç­‰å¾…ï¼‰ï¼Œæˆ–è€…å †ç§¯äº†æ— æ•°è°ƒç”¨æ ˆå¯¼è‡´å†…å­˜æº¢å‡ºã€‚</p><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦è€ƒè™‘å¯¹Promise.allåšå¹¶å‘é™åˆ¶ã€‚</p><p>Promise.allå¹¶å‘é™åˆ¶æŒ‡çš„æ˜¯ï¼Œæ¯ä¸ªæ—¶åˆ»å¹¶å‘æ‰§è¡Œçš„promiseæ•°é‡æ˜¯å›ºå®šçš„ï¼Œæœ€ç»ˆçš„æ‰§è¡Œç»“æœè¿˜æ˜¯ä¿æŒä¸åŸæ¥çš„Promise.allä¸€è‡´ã€‚</p></div><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">asyncPool</span>(<span class="params">poolLimit, array, iteratorFn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> ret = [];</span><br><span class="line">    <span class="keyword">const</span> executing = [];</span><br><span class="line">    <span class="keyword">const</span> enqueue = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// è¾¹ç•Œå¤„ç†ï¼Œarrayä¸ºç©ºæ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span> (i === array.length) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¯è°ƒä¸€æ¬¡enqueueï¼Œåˆå§‹åŒ–ä¸€ä¸ªpromise</span></span><br><span class="line">        <span class="keyword">const</span> item = array[i++];</span><br><span class="line">        <span class="keyword">const</span> p = <span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> iteratorFn(item, array));</span><br><span class="line">        <span class="comment">// æ”¾å…¥promisesæ•°ç»„</span></span><br><span class="line">        ret.push(p);</span><br><span class="line">        <span class="comment">// promiseæ‰§è¡Œå®Œæ¯•ï¼Œä»executingæ•°ç»„ä¸­åˆ é™¤</span></span><br><span class="line">        <span class="keyword">const</span> e = p.then(<span class="function">() =&gt;</span> executing.splice(executing.indexOf(e), <span class="number">1</span>));</span><br><span class="line">        <span class="comment">// æ’å…¥executingæ•°å­—ï¼Œè¡¨ç¤ºæ­£åœ¨æ‰§è¡Œçš„promise</span></span><br><span class="line">        executing.push(e);</span><br><span class="line">        <span class="comment">// ä½¿ç”¨Promise.receï¼Œæ¯å½“executingæ•°ç»„ä¸­promiseæ•°é‡ä½äºpoolLimitï¼Œå°±å®ä¾‹åŒ–æ–°çš„promiseå¹¶æ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">let</span> r = <span class="built_in">Promise</span>.resolve();</span><br><span class="line">        <span class="keyword">if</span> (executing.length &gt;= poolLimit) &#123;</span><br><span class="line">            r = <span class="built_in">Promise</span>.race(executing);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// é€’å½’ï¼Œç›´åˆ°éå†å®Œarray</span></span><br><span class="line">        <span class="keyword">return</span> r.then(<span class="function">() =&gt;</span> enqueue());</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> enqueue().then(<span class="function">() =&gt;</span> <span class="built_in">Promise</span>.all(ret));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="allSettledæ–¹æ³•"><a href="#allSettledæ–¹æ³•" class="headerlink" title="allSettledæ–¹æ³•"></a><code>allSettled</code>æ–¹æ³•</h3><ul><li><code>Promise.allSettled</code>çš„è¯­æ³•åŠå‚æ•°è·Ÿ<code>Promise.all</code>ç±»ä¼¼.ä¸åŒåœ¨äºå®ƒæ‰§è¡Œå®Œä¹‹åä¸ä¼šå¤±è´¥ï¼Œä¼šæŒ‰é¡ºåºè¿”å›æ¯ä¸ªpromiseçš„çŠ¶æ€</li><li>æ¡ˆä¾‹</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> resolved = <span class="built_in">Promise</span>.resolve(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> rejected = <span class="built_in">Promise</span>.reject(-<span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> allSettledPromise = <span class="built_in">Promise</span>.allSettled([resolved, rejected]);</span><br><span class="line">allSettledPromise.then(<span class="function"><span class="keyword">function</span> (<span class="params">results</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(results);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// è¿”å›ç»“æœï¼š</span></span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//    &#123; status: &#x27;fulfilled&#x27;, value: 2 &#125;,</span></span><br><span class="line"><span class="comment">//    &#123; status: &#x27;rejected&#x27;, reason: -1 &#125;</span></span><br><span class="line"><span class="comment">// ]</span></span><br></pre></td></tr></table></figure><h3 id="anyæ–¹æ³•-è¿˜åœ¨è‰æ¡ˆä¸èƒ½ä½¿ç”¨"><a href="#anyæ–¹æ³•-è¿˜åœ¨è‰æ¡ˆä¸èƒ½ä½¿ç”¨" class="headerlink" title="anyæ–¹æ³•(è¿˜åœ¨è‰æ¡ˆä¸èƒ½ä½¿ç”¨)"></a>anyæ–¹æ³•(è¿˜åœ¨è‰æ¡ˆä¸èƒ½ä½¿ç”¨)</h3><ul><li>è¯­æ³•ï¼š<code>Promise.anyï¼ˆiterableï¼‰</code></li><li>å‚æ•°ï¼š iterable å¯è¿­ä»£çš„å¯¹è±¡ï¼Œä¾‹å¦‚ Arrayã€‚</li><li>æè¿°ï¼šanyè¿”å›ä¸€ä¸ªpromise åªè¦å‚æ•°promiseå®ä¾‹ä¸­æœ‰ä¸€ä¸ªå˜æˆfulfilledçŠ¶æ€ï¼Œæœ€åanyè¿”å›çš„å®ä¾‹å°±è¿”å›fulfilledçŠ¶æ€ï¼Œå¦‚æœå…¨éƒ¨éƒ½æ˜¯rejectedï¼Œå°±è¿”å›rejectedçŠ¶æ€<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> resolved = <span class="built_in">Promise</span>.resolve(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">const</span> rejected = <span class="built_in">Promise</span>.reject(-<span class="number">1</span>);</span><br><span class="line"><span class="keyword">const</span> anyPromise = <span class="built_in">Promise</span>.any([resolved, rejected]);</span><br><span class="line">anyPromise.then(<span class="function"><span class="keyword">function</span> (<span class="params">results</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(results);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// è¿”å›ç»“æœï¼š</span></span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="raceæ–¹æ³•"><a href="#raceæ–¹æ³•" class="headerlink" title="raceæ–¹æ³•"></a>raceæ–¹æ³•</h3><ul><li>è¯­æ³•ï¼š<code>Promise.raceï¼ˆiterableï¼‰</code></li><li>å‚æ•°ï¼š iterable å¯è¿­ä»£çš„å¯¹è±¡ï¼Œä¾‹å¦‚ Arrayã€‚</li><li>æè¿°ï¼š raceæ–¹æ³•è¿”å›ä¸€ä¸ªpromiseï¼Œåªè¦å‚æ•°çš„promiseä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œé‚£ä¹ˆraceæ–¹æ³•çš„è¿”å›çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„promiseå®ä¾‹çš„è¿”å›å€¼å°±ä¼ é€’ç»™raceæ–¹æ³•çš„å›è°ƒå‡½æ•°ã€‚</li><li>ä¸šåŠ¡åœºæ™¯ï¼šå›¾ç‰‡åŠ è½½ è¶…æ—¶åˆ¤æ–­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯·æ±‚æŸä¸ªå›¾ç‰‡èµ„æº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestImg</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">    img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; resolve(img); &#125;</span><br><span class="line">    img.src = <span class="string">&#x27;http://www.baidu.com/img/flexible/logo/pc/result.png&#x27;</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å»¶æ—¶å‡½æ•°ï¼Œç”¨äºç»™è¯·æ±‚è®¡æ—¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeout</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; reject(<span class="string">&#x27;å›¾ç‰‡è¯·æ±‚è¶…æ—¶&#x27;</span>); &#125;, <span class="number">5000</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Promise</span>.race([requestImg(), timeout()])</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">results</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(results);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(reason);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»ä¸Šé¢çš„ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œé‡‡ç”¨ Promise çš„æ–¹å¼æ¥åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åŠ è½½æˆåŠŸï¼Œä¹Ÿæ˜¯é’ˆå¯¹ Promise.race æ–¹æ³•çš„ä¸€ä¸ªæ¯”è¾ƒå¥½çš„ä¸šåŠ¡åœº</span></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220405111554.png" alt=""></p><h1 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h1><div class="note primary flat"><p>generatoræ˜¯es6æ–°å¢çš„è¯­æ³•ï¼Œå’Œpromiseä¸€æ ·å¯ä»¥ç”¨æ¥å¼‚æ­¥ç¼–ç¨‹ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯å®ƒå¯ä»¥åˆ©ç”¨yieldå’Œnextåˆ†æ®µæ‰§è¡Œã€‚</p></div><ul><li><code>function *foo(x)</code>ä½¿ç”¨<em>å·æ¥å£°æ˜è¯¥å‡½æ•°æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œ`</em>`çš„ä½ç½®æ¯”è¾ƒéšæ„ã€‚</li><li><code>yield</code>å…³é”®å­—ç”¨æ¥å®ç°åˆ†æ®µæ‰§è¡Œï¼Œå®ƒçš„æ„æ€æ˜¯äº§å‡ºï¼Œå½“ç”Ÿæˆå™¨å‡½æ•°é‡åˆ°yieldçš„æ—¶å€™ä¼šæš‚åœå¹¶æŠŠä»–åé¢çš„è¡¨è¾¾å¼æŠ›å‡ºå»ã€‚ï¼ˆæ³¨æ„yieldå¯ä»¥ä¸å†™åœ¨ç”Ÿæˆå™¨ä¸­ï¼‰</li><li><code>next</code>è¡¨ç¤ºå°†ä»£ç çš„æ§åˆ¶æƒè¿˜ç»™ç”Ÿæˆå™¨å‡½æ•°</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">2</span> * (<span class="keyword">yield</span> (x + <span class="number">1</span>))</span><br><span class="line">  <span class="keyword">let</span> z = <span class="keyword">yield</span> (y / <span class="number">3</span>)</span><br><span class="line">  <span class="keyword">return</span> (x + y + z)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> it = foo(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">console</span>.log(it.next())   <span class="comment">// =&gt; &#123;value: 6, done: false&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next(<span class="number">12</span>)) <span class="comment">// =&gt; &#123;value: 8, done: false&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(it.next(<span class="number">13</span>)) <span class="comment">// =&gt; &#123;value: 42, done: true&#125;</span></span><br></pre></td></tr></table></figure><p>è¿‡ç¨‹ï¼š</p><ul><li>é¦–å…ˆæ‰§è¡Œç¬¬ä¸€ä¸ªnextçš„æ—¶å€™ä¼ å‚ä¼šè¢«å¿½ç•¥ å› ä¸ºèµ‹å€¼çš„æ—¶å€™å·²ç»ä¼ äº†å‚ æ‰€ä»¥å‚æ•°å°±æ˜¯5 ä¸”åˆ°ç¬¬ä¸€ä¸ªyieldåœæ­¢ã€‚è¿”å›åé¢çš„ç»“æœ å°±æ˜¯6 æ­¤æ—¶xä¸º5</li><li>æ¥åˆ°ç¬¬äºŒä¸ªnext ä¼ å…¥çš„å‚æ•°è¦†ç›–ä¸Šä¸€æ¬¡yieldçš„ç»“æœ æ‰€ä»¥æ­¤æ—¶yä¸º<code>12*2=24</code> é‚£ä¹ˆè¿”å›çš„ç»“æœå°±æ˜¯8</li><li>ç¬¬ä¸‰ä¸ªnext ä¼ å…¥çš„å‚æ•°è¦†ç›–ä¸Šä¸€æ¬¡yieldçš„ç»“æœ æ‰€ä»¥æ­¤æ—¶zä¸º13 é‚£ä¹ˆæ€»ä½“å°±æ˜¯<code>5+24+13=42</code></li></ul><h2 id="ç®€å•å®ç°generator"><a href="#ç®€å•å®ç°generator" class="headerlink" title="ç®€å•å®ç°generator"></a>ç®€å•å®ç°generator</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cb ä¹Ÿå°±æ˜¯ç¼–è¯‘è¿‡çš„ test å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generator</span>(<span class="params">cb</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> object = &#123;</span><br><span class="line">      <span class="attr">next</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">stop</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">next</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> ret = cb(object);</span><br><span class="line">        <span class="keyword">if</span> (ret === <span class="literal">undefined</span>) <span class="keyword">return</span> &#123; <span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">value</span>: ret,</span><br><span class="line">          <span class="attr">done</span>: <span class="literal">false</span></span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœä½ ä½¿ç”¨ babel ç¼–è¯‘åå¯ä»¥å‘ç° test å‡½æ•°å˜æˆäº†è¿™æ ·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  <span class="keyword">return</span> generator(<span class="function"><span class="keyword">function</span>(<span class="params">_context</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">switch</span> ((_context.prev = _context.next)) &#123;</span><br><span class="line">        <span class="comment">// å¯ä»¥å‘ç°é€šè¿‡ yield å°†ä»£ç åˆ†å‰²æˆå‡ å—</span></span><br><span class="line">        <span class="comment">// æ¯æ¬¡æ‰§è¡Œ next å‡½æ•°å°±æ‰§è¡Œä¸€å—ä»£ç </span></span><br><span class="line">        <span class="comment">// å¹¶ä¸”è¡¨æ˜ä¸‹æ¬¡éœ€è¦æ‰§è¡Œå“ªå—ä»£ç </span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">          a = <span class="number">1</span> + <span class="number">2</span>;</span><br><span class="line">          _context.next = <span class="number">4</span>;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">          _context.next = <span class="number">6</span>;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line"><span class="comment">// æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;end&quot;</span>:</span><br><span class="line">          <span class="keyword">return</span> _context.stop();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a><code>async/await</code></h1><div class="note primary flat"><p>Generatorçš„è¯­æ³•ç³–ï¼Œæœ‰æ›´å¥½çš„è¯­ä¹‰æ€§å’Œé€‚ç”¨æ€§ï¼Œè¿”å›çš„æ˜¯promise</p></div><ul><li>awaitå’Œpromiseä¸€æ ·æ›´å¤šæ˜¯ç¬”è¯•é¢˜</li><li>awaitç›¸æ¯”ç›´æ¥ä½¿ç”¨promiseæ¥è¯´ ä¼˜åŠ¿åœ¨äºå¤„ç†thençš„è°ƒç”¨é“¾ï¼Œèƒ½å¤Ÿæ›´æ¸…æ™°çš„å†™å‡ºä»£ç ã€‚ç¼ºç‚¹åœ¨äºawaitå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚å› ä¸ºawaitä¼šé˜»å¡ä»£ç ã€‚ä¹Ÿè®¸ä¹‹åçš„å¼‚æ­¥ä»£ç å¹¶ä¸ä¾èµ–äºå‰è€…ï¼Œä½†ä»ç„¶éœ€è¦ç­‰å¾…å‰è€…å®Œæˆï¼Œå¯¼è‡´ä»£ç å¤±å»äº†å¹¶å‘æ€§ï¼Œæ­¤æ—¶æ›´åº”è¯¥ä½¿ç”¨<code>Promise.all</code></li><li>ä¸€ä¸ªå‡½æ•°å¦‚æœåŠ ä¸Šäº†async é‚£ä¹ˆå°±ä¼šè¿”å›ä¸€ä¸ªpromise<div class="note primary flat"><p><code>async =&gt; *</code> <code>await =&gt; yield</code></p></div>æ¡ˆä¾‹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  a = a + <span class="keyword">await</span> <span class="number">10</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;2&#x27;</span>, a) <span class="comment">// -&gt; &#x27;2&#x27; 10</span></span><br><span class="line">  a = (<span class="keyword">await</span> <span class="number">10</span>) + a</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;3&#x27;</span>, a) <span class="comment">// -&gt; &#x27;3&#x27; 20</span></span><br><span class="line">&#125;</span><br><span class="line">b()</span><br><span class="line">a++</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span>, a) <span class="comment">// -&gt; &#x27;1&#x27; 1</span></span><br></pre></td></tr></table></figure></li><li>é¦–å…ˆå‡½æ•°bæ‰§è¡Œ ä½†æ˜¯é‡åˆ°äº†<code>await</code>æš‚æ—¶è¿”è¿˜äº†ä»£ç çš„æ§åˆ¶æƒï¼Œæ‰€ä»¥åˆ°å¤–é¢å»æ‰§è¡Œäº†a++å¹¶è¾“å‡ºaä¸º1ã€‚</li><li>åˆå› ä¸ºawaitå†…éƒ¨å®ç°äº†generatorsï¼Œä¸”å®ƒä¼šä¿ç•™å †æ ˆä¸­çš„ä¸œè¥¿ï¼Œæ‰€ä»¥åœ¨è¿”è¿˜ä¹‹å‰çš„a=0è¢«ä¿ç•™äº†ä¸‹æ¥ã€‚è¾“å‡º10 ç„¶åæ˜¯20</li></ul><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><div class="note primary flat"><p>async/awaitçš„ä¼˜åŠ¿åœ¨äºå¤„ç† then çš„è°ƒç”¨é“¾ï¼Œèƒ½å¤Ÿæ›´æ¸…æ™°å‡†ç¡®çš„å†™å‡ºä»£ç ï¼Œå¹¶ä¸”ä¹Ÿèƒ½ä¼˜é›…åœ°è§£å†³å›è°ƒåœ°ç‹±é—®é¢˜ã€‚å½“ç„¶ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œå› ä¸º await å°†å¼‚æ­¥ä»£ç æ”¹é€ æˆäº†åŒæ­¥ä»£ç ï¼Œå¦‚æœå¤šä¸ªå¼‚æ­¥ä»£ç æ²¡æœ‰ä¾èµ–æ€§å´ä½¿ç”¨äº† await ä¼šå¯¼è‡´æ€§èƒ½ä¸Šçš„é™ä½ã€‚</p></div><h1 id="äº‹ä»¶å¾ªç¯"><a href="#äº‹ä»¶å¾ªç¯" class="headerlink" title="äº‹ä»¶å¾ªç¯"></a>äº‹ä»¶å¾ªç¯</h1><div class="note primary flat"><p>é¦–å…ˆjsçš„ä»»åŠ¡åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œå¼‚æ­¥ä¸­åˆåˆ†ä¸ºå®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ï¼Œæˆ‘ä»¬å¸¸è§çš„settimeoutï¼Œsetintervalç³»åˆ—å°±æ˜¯å®ä»»åŠ¡ï¼Œpromiseï¼Œmuationobserverç³»åˆ—å°±æ˜¯å¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡æ’é˜Ÿå®ä»»åŠ¡ã€‚</p></div><ul><li>é»˜è®¤ä»£ç ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Œæ‰§è¡Œç¯å¢ƒé€šè¿‡<code>script</code>æ¥æ‰§è¡Œ</li><li>ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œå†æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ã€‚</li><li>ç»™å¼‚æ­¥ä»»åŠ¡åˆ’åˆ†é˜Ÿåˆ—ï¼Œåˆ†åˆ«å­˜åœ¨å¾®ä»»åŠ¡ï¼ˆç«‹å³å­˜æ”¾ï¼‰å’Œå®ä»»åŠ¡ï¼ˆæ—¶é—´åˆ°äº†æˆ–è€…äº‹æƒ…å‘ç”Ÿäº†åœ¨å­˜æ”¾ï¼‰åˆ°é˜Ÿåˆ—ä¸­</li><li>scriptæ‰§è¡Œåæ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡ã€‚</li><li>å¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åæ¸²æŸ“é¡µé¢ï¼ˆä¸æ˜¯æ¯æ¬¡éƒ½è°ƒç”¨â€”ï¼‰</li><li>å†å»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­çœ‹çœ‹ä¹Ÿæ²¡æœ‰åˆ°è¾¾æ—¶é—´çš„ï¼Œæ‹¿å‡ºæ¥å…¶ä¸­ä¸€ä¸ªæ‰§è¡Œã€‚</li><li>æ‰§è¡Œå®Œæ¯•åæŒ‰ä¸Šè¿°çš„æ­¥éª¤ä¸åœå¾ªç¯ã€‚<br>ä¾‹å­(UIæ¸²æŸ“æ˜¯å®ä»»åŠ¡)<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220406095138.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220406095150.png" alt=""><div class="note primary flat"><p>è‡ªåŠ¨æ‰§è¡Œçš„æƒ…å†µ ä¼šè¾“å‡º listener1 listener2 task1 task2</p></div><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220406095222.png" alt=""><br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220406100602.png" alt=""><div class="note primary flat"><p>å¦‚æœæ‰‹åŠ¨ç‚¹å‡»click ä¼šä¸€ä¸ªå®ä»»åŠ¡å–å‡ºæ¥ä¸€ä¸ªä¸ªæ‰§è¡Œï¼Œå…ˆæ‰§è¡Œclickçš„å®ä»»åŠ¡ï¼Œå–å‡ºå¾®ä»»åŠ¡å»æ‰§è¡Œã€‚ä¼šè¾“å‡º listener1 task1 listener2 task2</p></div></li></ul><p>æ¡ˆä¾‹1<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncFunc</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">  <span class="comment">// await xx ==&gt; promise.resolve(()=&gt;&#123;console.log(3)&#125;).then()</span></span><br><span class="line">  <span class="comment">// console.log(3) æ”¾åˆ°promise.resolveæˆ–ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">  <span class="keyword">await</span> <span class="built_in">console</span>.log(<span class="number">3</span>) </span><br><span class="line">  <span class="comment">// ç›¸å½“äºæŠŠconsole.log(4)æ”¾åˆ°äº†then promise.resolve(()=&gt;&#123;console.log(3)&#125;).then(()=&gt;&#123;</span></span><br><span class="line">  <span class="comment">//   console.log(4)</span></span><br><span class="line">  <span class="comment">// &#125;)</span></span><br><span class="line">  <span class="comment">// å¾®ä»»åŠ¡è°å…ˆæ³¨å†Œè°å…ˆæ‰§è¡Œ</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;<span class="built_in">console</span>.log(<span class="number">5</span>)&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">6</span>)</span><br><span class="line">  resolve(<span class="number">7</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="params">d</span>=&gt;</span>&#123;<span class="built_in">console</span>.log(d)&#125;)</span><br><span class="line"></span><br><span class="line">asyncFunc()</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º 1 6 2 3 8 7 4 5</span></span><br></pre></td></tr></table></figure><br>æ¡ˆä¾‹2<br><img src="https://cdn.jsdelivr.net/gh/Zlinni/Pic/img/20220406101017.png" alt=""></p><h2 id="JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ"><a href="#JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ" class="headerlink" title="JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ"></a>JSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹ï¼Ÿ</h2><div class="note primary flat"><p>jsçš„å•çº¿ç¨‹å’Œå®ƒçš„ç”¨é€”æœ‰å…³ï¼Œä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€ï¼ŒJavaScriptä¸»è¦ç”¨é€”æ˜¯ä¸ç”¨æˆ·äº’åŠ¨ä»¥åŠæ“ä½œDOMã€‚è¿™å†³å®šäº†ä»–åªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚æ¯”å¦‚å‡å®šjsåŒæ—¶æœ‰ä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨æŸdomèŠ‚ç‚¹ä¸Šæ·»åŠ å†…å®¹ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹åˆ é™¤äº†èŠ‚ç‚¹ã€‚è¿™ä¸ªæ—¶å€™æµè§ˆå™¨åº”è¯¥ä»¥å“ªä¸ªçº¿ç¨‹ä¸ºå‡†ï¼Ÿæ‰€ä»¥ä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿï¼Œjså°±æ˜¯å•çº¿ç¨‹ï¼Œè¿™å·²ç»æˆä¸ºäº†è¿™é—¨è¯­è¨€çš„æ ¸å¿ƒç‰¹å¾ä»¥åä¹Ÿä¸ä¼šæ”¹å˜ã€‚</p></div><h2 id="æµè§ˆå™¨äº‹ä»¶å¾ªç¯"><a href="#æµè§ˆå™¨äº‹ä»¶å¾ªç¯" class="headerlink" title="æµè§ˆå™¨äº‹ä»¶å¾ªç¯"></a>æµè§ˆå™¨äº‹ä»¶å¾ªç¯</h2><div class="note primary flat"><p>æ¶‰åŠé¢è¯•é¢˜ï¼šå¼‚æ­¥ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Ÿè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯Event Loop</p></div><ul><li>é¦–å…ˆjsæ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œåœ¨ä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼Œé€šè¿‡å°†ä¸åŒå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œæ ˆä¸­æ¥ç¡®ä¿ä»£ç çš„æœ‰åºè¿›è¡Œã€‚</li><li>åœ¨æ‰§è¡ŒåŒæ­¥ä»£ç çš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°äº†å¼‚æ­¥äº‹ä»¶ï¼Œjså¼•æ“å¹¶ä¸ä¼šä¸€è‡´ç­‰å¾…å…¶è¿”å›ç»“æœï¼Œè€Œæ˜¯ä¼šå°†è¿™ä¸ªäº‹ä»¶æŒ‚èµ·ï¼Œç»§ç»­æ‰§è¡Œæ‰§è¡Œæ ˆä¸­çš„å…¶ä»–ä»»åŠ¡ã€‚</li><li>å½“åŒæ­¥äº‹ä»¶æ‰§è¡Œå®Œæ¯•åï¼Œå†å°†å¼‚æ­¥äº‹ä»¶å¯¹åº”çš„å›è°ƒåŠ å…¥åˆ°ä¸å½“å‰æ‰§è¡Œæ ˆä¸­ä¸åŒçš„å¦ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œ</li><li>ä»»åŠ¡é˜Ÿåˆ—å¯ä»¥åˆ†ä¸ºå®ä»»åŠ¡å¯¹åˆ—å’Œå¾®ä»»åŠ¡å¯¹åˆ—ï¼Œå½“å½“å‰æ‰§è¡Œæ ˆä¸­çš„äº‹ä»¶æ‰§è¡Œå®Œæ¯•åï¼Œjs å¼•æ“é¦–å…ˆä¼šåˆ¤æ–­å¾®ä»»åŠ¡å¯¹åˆ—ä¸­æ˜¯å¦æœ‰ä»»åŠ¡å¯ä»¥æ‰§è¡Œï¼Œå¦‚æœæœ‰å°±å°†å¾®ä»»åŠ¡é˜Ÿé¦–çš„äº‹ä»¶å‹å…¥æ ˆä¸­æ‰§è¡Œ</li><li>å½“å¾®ä»»åŠ¡å¯¹åˆ—ä¸­çš„ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæˆåå†å»åˆ¤æ–­å®ä»»åŠ¡å¯¹åˆ—ä¸­çš„ä»»åŠ¡ã€‚<h2 id="process-nextTick"><a href="#process-nextTick" class="headerlink" title="process.nextTick"></a><code>process.nextTick</code></h2><div class="note primary flat"><p><code>process.nextTick</code>æŒ‡å®šçš„å¼‚æ­¥ä»»åŠ¡æ€»æ˜¯å‘ç”Ÿäºæ‰€æœ‰å¼‚æ­¥ä»»åŠ¡ä¹‹å‰ã€‚</p></div></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">  resolve()</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;);</span><br><span class="line">process.nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>)</span><br><span class="line"><span class="comment">// 2 5 4 3 1</span></span><br></pre></td></tr></table></figure><h2 id="å¾®ä»»åŠ¡"><a href="#å¾®ä»»åŠ¡" class="headerlink" title="å¾®ä»»åŠ¡"></a>å¾®ä»»åŠ¡</h2><ul><li><code>process.nextTick</code></li><li><code>promise</code></li><li><code>Object.observe</code></li><li><code>MutationObserver</code><h2 id="å®ä»»åŠ¡"><a href="#å®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡"></a>å®ä»»åŠ¡</h2></li><li><code>script</code></li><li><code>setTimeout</code></li><li><code>setInterval</code></li><li><code>setImmediate</code></li><li><code>I/O</code> ç½‘ç»œè¯·æ±‚å®Œæˆã€æ–‡ä»¶è¯»å†™å®Œæˆäº‹ä»¶</li><li><code>UI rendering</code></li><li>ç”¨æˆ·äº¤äº’äº‹ä»¶ï¼ˆæ¯”å¦‚é¼ æ ‡ç‚¹å‡»ã€æ»šåŠ¨é¡µé¢ã€æ”¾å¤§ç¼©å°ç­‰ï¼‰</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="JSç³»åˆ—" scheme="https://zlinni.github.io/categories/JS%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="å‰ç«¯" scheme="https://zlinni.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
    <category term="js" scheme="https://zlinni.github.io/tags/js/"/>
    
  </entry>
  
</feed>
